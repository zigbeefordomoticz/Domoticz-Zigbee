(self.webpackChunkz4d_plugin=self.webpackChunkz4d_plugin||[]).push([[580],{37580:(ct,wt,z)=>{"use strict";z.r(wt),z.d(wt,{NetworkModule:()=>qe});var ut=z(44466),et=z(37020),W=z(66270),U=z(95895),j=z(96671),X=z(3304),M=z(77579),N=z(54968),Z=z(56451),R=z(23601),A=z(82722),L=z(71884),x=z(69718),t=z(94650),s=z(36895);function g(e){return getComputedStyle(e)}function b(e,i){for(var o in i){var r=i[o];"number"==typeof r&&(r+="px"),e.style[o]=r}return e}function S(e){var i=document.createElement("div");return i.className=e,i}var l=typeof Element<"u"&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function d(e,i){if(!l)throw new Error("No element matching method supported");return l.call(e,i)}function a(e){e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)}function f(e,i){return Array.prototype.filter.call(e.children,function(o){return d(o,i)})}var y_element_thumb=function(e){return"ps__thumb-"+e},y_element_rail=function(e){return"ps__rail-"+e},y_element_consuming="ps__child--consume",y_state_focus="ps--focus",y_state_clicking="ps--clicking",y_state_active=function(e){return"ps--active-"+e},y_state_scrolling=function(e){return"ps--scrolling-"+e},p={x:null,y:null};function c(e,i){var o=e.element.classList,r=y_state_scrolling(i);o.contains(r)?clearTimeout(p[i]):o.add(r)}function m(e,i){p[i]=setTimeout(function(){return e.isAlive&&e.element.classList.remove(y_state_scrolling(i))},e.settings.scrollingThreshold)}var h=function(i){this.element=i,this.handlers={}},n={isEmpty:{configurable:!0}};h.prototype.bind=function(i,o){typeof this.handlers[i]>"u"&&(this.handlers[i]=[]),this.handlers[i].push(o),this.element.addEventListener(i,o,!1)},h.prototype.unbind=function(i,o){var r=this;this.handlers[i]=this.handlers[i].filter(function(w){return!(!o||w===o)||(r.element.removeEventListener(i,w,!1),!1)})},h.prototype.unbindAll=function(){for(var i in this.handlers)this.unbind(i)},n.isEmpty.get=function(){var e=this;return Object.keys(this.handlers).every(function(i){return 0===e.handlers[i].length})},Object.defineProperties(h.prototype,n);var k=function(){this.eventElements=[]};function u(e){if("function"==typeof window.CustomEvent)return new CustomEvent(e);var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,!1,!1,void 0),i}function _(e,i,o,r,w){var Y;if(void 0===r&&(r=!0),void 0===w&&(w=!1),"top"===i)Y=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==i)throw new Error("A proper axis should be provided");Y=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function T(e,i,o,r,w){var Y=o[0],C=o[1],E=o[2],P=o[3],F=o[4],J=o[5];void 0===r&&(r=!0),void 0===w&&(w=!1);var V=e.element;e.reach[P]=null,V[E]<1&&(e.reach[P]="start"),V[E]>e[Y]-e[C]-1&&(e.reach[P]="end"),i&&(V.dispatchEvent(u("ps-scroll-"+P)),i<0?V.dispatchEvent(u("ps-scroll-"+F)):i>0&&V.dispatchEvent(u("ps-scroll-"+J)),r&&function v(e,i){c(e,i),m(e,i)}(e,P)),e.reach[P]&&(i||w)&&V.dispatchEvent(u("ps-"+P+"-reach-"+e.reach[P]))}(e,o,Y,r,w)}function D(e){return parseInt(e,10)||0}k.prototype.eventElement=function(i){var o=this.eventElements.filter(function(r){return r.element===i})[0];return o||(o=new h(i),this.eventElements.push(o)),o},k.prototype.bind=function(i,o,r){this.eventElement(i).bind(o,r)},k.prototype.unbind=function(i,o,r){var w=this.eventElement(i);w.unbind(o,r),w.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(w),1)},k.prototype.unbindAll=function(){this.eventElements.forEach(function(i){return i.unbindAll()}),this.eventElements=[]},k.prototype.once=function(i,o,r){var w=this.eventElement(i),Y=function(C){w.unbind(o,Y),r(C)};w.bind(o,Y)};var H={isWebKit:typeof document<"u"&&"WebkitAppearance"in document.documentElement.style,supportsTouch:typeof window<"u"&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:typeof navigator<"u"&&navigator.msMaxTouchPoints,isChrome:typeof navigator<"u"&&/Chrome/i.test(navigator&&navigator.userAgent)};function I(e){var i=e.element,o=Math.floor(i.scrollTop),r=i.getBoundingClientRect();e.containerWidth=Math.ceil(r.width),e.containerHeight=Math.ceil(r.height),e.contentWidth=i.scrollWidth,e.contentHeight=i.scrollHeight,i.contains(e.scrollbarXRail)||(f(i,y_element_rail("x")).forEach(function(w){return a(w)}),i.appendChild(e.scrollbarXRail)),i.contains(e.scrollbarYRail)||(f(i,y_element_rail("y")).forEach(function(w){return a(w)}),i.appendChild(e.scrollbarYRail)),!e.settings.suppressScrollX&&e.containerWidth+e.settings.scrollXMarginOffset<e.contentWidth?(e.scrollbarXActive=!0,e.railXWidth=e.containerWidth-e.railXMarginWidth,e.railXRatio=e.containerWidth/e.railXWidth,e.scrollbarXWidth=q(e,D(e.railXWidth*e.containerWidth/e.contentWidth)),e.scrollbarXLeft=D((e.negativeScrollAdjustment+i.scrollLeft)*(e.railXWidth-e.scrollbarXWidth)/(e.contentWidth-e.containerWidth))):e.scrollbarXActive=!1,!e.settings.suppressScrollY&&e.containerHeight+e.settings.scrollYMarginOffset<e.contentHeight?(e.scrollbarYActive=!0,e.railYHeight=e.containerHeight-e.railYMarginHeight,e.railYRatio=e.containerHeight/e.railYHeight,e.scrollbarYHeight=q(e,D(e.railYHeight*e.containerHeight/e.contentHeight)),e.scrollbarYTop=D(o*(e.railYHeight-e.scrollbarYHeight)/(e.contentHeight-e.containerHeight))):e.scrollbarYActive=!1,e.scrollbarXLeft>=e.railXWidth-e.scrollbarXWidth&&(e.scrollbarXLeft=e.railXWidth-e.scrollbarXWidth),e.scrollbarYTop>=e.railYHeight-e.scrollbarYHeight&&(e.scrollbarYTop=e.railYHeight-e.scrollbarYHeight),function ot(e,i){var o={width:i.railXWidth},r=Math.floor(e.scrollTop);o.left=i.isRtl?i.negativeScrollAdjustment+e.scrollLeft+i.containerWidth-i.contentWidth:e.scrollLeft,i.isScrollbarXUsingBottom?o.bottom=i.scrollbarXBottom-r:o.top=i.scrollbarXTop+r,b(i.scrollbarXRail,o);var w={top:r,height:i.railYHeight};i.isScrollbarYUsingRight?w.right=i.isRtl?i.contentWidth-(i.negativeScrollAdjustment+e.scrollLeft)-i.scrollbarYRight-i.scrollbarYOuterWidth-9:i.scrollbarYRight-e.scrollLeft:w.left=i.isRtl?i.negativeScrollAdjustment+e.scrollLeft+2*i.containerWidth-i.contentWidth-i.scrollbarYLeft-i.scrollbarYOuterWidth:i.scrollbarYLeft+e.scrollLeft,b(i.scrollbarYRail,w),b(i.scrollbarX,{left:i.scrollbarXLeft,width:i.scrollbarXWidth-i.railBorderXWidth}),b(i.scrollbarY,{top:i.scrollbarYTop,height:i.scrollbarYHeight-i.railBorderYWidth})}(i,e),e.scrollbarXActive?i.classList.add(y_state_active("x")):(i.classList.remove(y_state_active("x")),e.scrollbarXWidth=0,e.scrollbarXLeft=0,i.scrollLeft=!0===e.isRtl?e.contentWidth:0),e.scrollbarYActive?i.classList.add(y_state_active("y")):(i.classList.remove(y_state_active("y")),e.scrollbarYHeight=0,e.scrollbarYTop=0,i.scrollTop=0)}function q(e,i){return e.settings.minScrollbarLength&&(i=Math.max(i,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(i=Math.min(i,e.settings.maxScrollbarLength)),i}function st(e,i){var o=i[0],r=i[1],w=i[2],Y=i[3],C=i[4],E=i[5],P=i[6],F=i[7],J=i[8],V=e.element,lt=null,St=null,Q=null;function nt(K){K.touches&&K.touches[0]&&(K[w]=K.touches[0].pageY),V[P]=lt+Q*(K[w]-St),c(e,F),I(e),K.stopPropagation(),K.preventDefault()}function vt(){m(e,F),e[J].classList.remove(y_state_clicking),e.event.unbind(e.ownerDocument,"mousemove",nt)}function tt(K,bt){lt=V[P],bt&&K.touches&&(K[w]=K.touches[0].pageY),St=K[w],Q=(e[r]-e[o])/(e[Y]-e[E]),bt?e.event.bind(e.ownerDocument,"touchmove",nt):(e.event.bind(e.ownerDocument,"mousemove",nt),e.event.once(e.ownerDocument,"mouseup",vt),K.preventDefault()),e[J].classList.add(y_state_clicking),K.stopPropagation()}e.event.bind(e[C],"mousedown",function(K){tt(K)}),e.event.bind(e[C],"touchstart",function(K){tt(K,!0)})}var mt={"click-rail":function $(e){e.event.bind(e.scrollbarY,"mousedown",function(o){return o.stopPropagation()}),e.event.bind(e.scrollbarYRail,"mousedown",function(o){var r=o.pageY-window.pageYOffset-e.scrollbarYRail.getBoundingClientRect().top;e.element.scrollTop+=(r>e.scrollbarYTop?1:-1)*e.containerHeight,I(e),o.stopPropagation()}),e.event.bind(e.scrollbarX,"mousedown",function(o){return o.stopPropagation()}),e.event.bind(e.scrollbarXRail,"mousedown",function(o){var r=o.pageX-window.pageXOffset-e.scrollbarXRail.getBoundingClientRect().left;e.element.scrollLeft+=(r>e.scrollbarXLeft?1:-1)*e.containerWidth,I(e),o.stopPropagation()})},"drag-thumb":function G(e){st(e,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),st(e,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function it(e){var i=e.element;e.event.bind(e.ownerDocument,"keydown",function(Y){if(!(Y.isDefaultPrevented&&Y.isDefaultPrevented()||Y.defaultPrevented)&&(d(i,":hover")||d(e.scrollbarX,":focus")||d(e.scrollbarY,":focus"))){var C=document.activeElement?document.activeElement:e.ownerDocument.activeElement;if(C){if("IFRAME"===C.tagName)C=C.contentDocument.activeElement;else for(;C.shadowRoot;)C=C.shadowRoot.activeElement;if(function O(e){return d(e,"input,[contenteditable]")||d(e,"select,[contenteditable]")||d(e,"textarea,[contenteditable]")||d(e,"button,[contenteditable]")}(C))return}var E=0,P=0;switch(Y.which){case 37:E=Y.metaKey?-e.contentWidth:Y.altKey?-e.containerWidth:-30;break;case 38:P=Y.metaKey?e.contentHeight:Y.altKey?e.containerHeight:30;break;case 39:E=Y.metaKey?e.contentWidth:Y.altKey?e.containerWidth:30;break;case 40:P=Y.metaKey?-e.contentHeight:Y.altKey?-e.containerHeight:-30;break;case 32:P=Y.shiftKey?e.containerHeight:-e.containerHeight;break;case 33:P=e.containerHeight;break;case 34:P=-e.containerHeight;break;case 36:P=e.contentHeight;break;case 35:P=-e.contentHeight;break;default:return}e.settings.suppressScrollX&&0!==E||e.settings.suppressScrollY&&0!==P||(i.scrollTop-=P,i.scrollLeft+=E,I(e),function w(Y,C){var E=Math.floor(i.scrollTop);if(0===Y){if(!e.scrollbarYActive)return!1;if(0===E&&C>0||E>=e.contentHeight-e.containerHeight&&C<0)return!e.settings.wheelPropagation}var P=i.scrollLeft;if(0===C){if(!e.scrollbarXActive)return!1;if(0===P&&Y<0||P>=e.contentWidth-e.containerWidth&&Y>0)return!e.settings.wheelPropagation}return!0}(E,P)&&Y.preventDefault())}})},wheel:function at(e){var i=e.element;function Y(C){var E=function r(C){var E=C.deltaX,P=-1*C.deltaY;return(typeof E>"u"||typeof P>"u")&&(E=-1*C.wheelDeltaX/6,P=C.wheelDeltaY/6),C.deltaMode&&1===C.deltaMode&&(E*=10,P*=10),E!=E&&P!=P&&(E=0,P=C.wheelDelta),C.shiftKey?[-P,-E]:[E,P]}(C),P=E[0],F=E[1];if(!function w(C,E,P){if(!H.isWebKit&&i.querySelector("select:focus"))return!0;if(!i.contains(C))return!1;for(var F=C;F&&F!==i;){if(F.classList.contains(y_element_consuming))return!0;var J=g(F);if(P&&J.overflowY.match(/(scroll|auto)/)){var V=F.scrollHeight-F.clientHeight;if(V>0&&(F.scrollTop>0&&P<0||F.scrollTop<V&&P>0))return!0}if(E&&J.overflowX.match(/(scroll|auto)/)){var lt=F.scrollWidth-F.clientWidth;if(lt>0&&(F.scrollLeft>0&&E<0||F.scrollLeft<lt&&E>0))return!0}F=F.parentNode}return!1}(C.target,P,F)){var J=!1;e.settings.useBothWheelAxes?e.scrollbarYActive&&!e.scrollbarXActive?(F?i.scrollTop-=F*e.settings.wheelSpeed:i.scrollTop+=P*e.settings.wheelSpeed,J=!0):e.scrollbarXActive&&!e.scrollbarYActive&&(P?i.scrollLeft+=P*e.settings.wheelSpeed:i.scrollLeft-=F*e.settings.wheelSpeed,J=!0):(i.scrollTop-=F*e.settings.wheelSpeed,i.scrollLeft+=P*e.settings.wheelSpeed),I(e),J=J||function o(C,E){var P=Math.floor(i.scrollTop),F=0===i.scrollTop,J=P+i.offsetHeight===i.scrollHeight,V=0===i.scrollLeft,lt=i.scrollLeft+i.offsetWidth===i.scrollWidth;return!(Math.abs(E)>Math.abs(C)?F||J:V||lt)||!e.settings.wheelPropagation}(P,F),J&&!C.ctrlKey&&(C.stopPropagation(),C.preventDefault())}}typeof window.onwheel<"u"?e.event.bind(i,"wheel",Y):typeof window.onmousewheel<"u"&&e.event.bind(i,"mousewheel",Y)},touch:function kt(e){if(H.supportsTouch||H.supportsIePointer){var i=e.element,w={},Y=0,C={},E=null;H.supportsTouch?(e.event.bind(i,"touchstart",J),e.event.bind(i,"touchmove",lt),e.event.bind(i,"touchend",St)):H.supportsIePointer&&(window.PointerEvent?(e.event.bind(i,"pointerdown",J),e.event.bind(i,"pointermove",lt),e.event.bind(i,"pointerup",St)):window.MSPointerEvent&&(e.event.bind(i,"MSPointerDown",J),e.event.bind(i,"MSPointerMove",lt),e.event.bind(i,"MSPointerUp",St)))}function r(Q,nt){i.scrollTop-=nt,i.scrollLeft-=Q,I(e)}function P(Q){return Q.targetTouches?Q.targetTouches[0]:Q}function F(Q){return!(Q.pointerType&&"pen"===Q.pointerType&&0===Q.buttons||!(Q.targetTouches&&1===Q.targetTouches.length||Q.pointerType&&"mouse"!==Q.pointerType&&Q.pointerType!==Q.MSPOINTER_TYPE_MOUSE))}function J(Q){if(F(Q)){var nt=P(Q);w.pageX=nt.pageX,w.pageY=nt.pageY,Y=(new Date).getTime(),null!==E&&clearInterval(E)}}function lt(Q){if(F(Q)){var nt=P(Q),vt={pageX:nt.pageX,pageY:nt.pageY},tt=vt.pageX-w.pageX,K=vt.pageY-w.pageY;if(function V(Q,nt,vt){if(!i.contains(Q))return!1;for(var tt=Q;tt&&tt!==i;){if(tt.classList.contains(y_element_consuming))return!0;var K=g(tt);if(vt&&K.overflowY.match(/(scroll|auto)/)){var bt=tt.scrollHeight-tt.clientHeight;if(bt>0&&(tt.scrollTop>0&&vt<0||tt.scrollTop<bt&&vt>0))return!0}if(nt&&K.overflowX.match(/(scroll|auto)/)){var Ut=tt.scrollWidth-tt.clientWidth;if(Ut>0&&(tt.scrollLeft>0&&nt<0||tt.scrollLeft<Ut&&nt>0))return!0}tt=tt.parentNode}return!1}(Q.target,tt,K))return;r(tt,K),w=vt;var bt=(new Date).getTime(),Ut=bt-Y;Ut>0&&(C.x=tt/Ut,C.y=K/Ut,Y=bt),function o(Q,nt){var vt=Math.floor(i.scrollTop),tt=i.scrollLeft,K=Math.abs(Q),bt=Math.abs(nt);if(bt>K){if(nt<0&&vt===e.contentHeight-e.containerHeight||nt>0&&0===vt)return 0===window.scrollY&&nt>0&&H.isChrome}else if(K>bt&&(Q<0&&tt===e.contentWidth-e.containerWidth||Q>0&&0===tt))return!0;return!0}(tt,K)&&Q.preventDefault()}}function St(){e.settings.swipeEasing&&(clearInterval(E),E=setInterval(function(){e.isInitialized?clearInterval(E):C.x||C.y?Math.abs(C.x)<.01&&Math.abs(C.y)<.01?clearInterval(E):(r(30*C.x,30*C.y),C.x*=.8,C.y*=.8):clearInterval(E)},10))}}},ht=function(i,o){var r=this;if(void 0===o&&(o={}),"string"==typeof i&&(i=document.querySelector(i)),!i||!i.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var w in this.element=i,i.classList.add("ps"),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},o)this.settings[w]=o[w];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var J,F,Y=function(){return i.classList.add(y_state_focus)},C=function(){return i.classList.remove(y_state_focus)};this.isRtl="rtl"===g(i).direction,!0===this.isRtl&&i.classList.add("ps__rtl"),this.isNegativeScroll=(F=i.scrollLeft,i.scrollLeft=-1,J=i.scrollLeft<0,i.scrollLeft=F,J),this.negativeScrollAdjustment=this.isNegativeScroll?i.scrollWidth-i.clientWidth:0,this.event=new k,this.ownerDocument=i.ownerDocument||document,this.scrollbarXRail=S(y_element_rail("x")),i.appendChild(this.scrollbarXRail),this.scrollbarX=S(y_element_thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",Y),this.event.bind(this.scrollbarX,"blur",C),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var E=g(this.scrollbarXRail);this.scrollbarXBottom=parseInt(E.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=D(E.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=D(E.borderLeftWidth)+D(E.borderRightWidth),b(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=D(E.marginLeft)+D(E.marginRight),b(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=S(y_element_rail("y")),i.appendChild(this.scrollbarYRail),this.scrollbarY=S(y_element_thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",Y),this.event.bind(this.scrollbarY,"blur",C),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var P=g(this.scrollbarYRail);this.scrollbarYRight=parseInt(P.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=D(P.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function B(e){var i=g(e);return D(i.width)+D(i.paddingLeft)+D(i.paddingRight)+D(i.borderLeftWidth)+D(i.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=D(P.borderTopWidth)+D(P.borderBottomWidth),b(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=D(P.marginTop)+D(P.marginBottom),b(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:i.scrollLeft<=0?"start":i.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:i.scrollTop<=0?"start":i.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(F){return mt[F](r)}),this.lastScrollTop=Math.floor(i.scrollTop),this.lastScrollLeft=i.scrollLeft,this.event.bind(this.element,"scroll",function(F){return r.onScroll(F)}),I(this)};ht.prototype.update=function(){!this.isAlive||(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,b(this.scrollbarXRail,{display:"block"}),b(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=D(g(this.scrollbarXRail).marginLeft)+D(g(this.scrollbarXRail).marginRight),this.railYMarginHeight=D(g(this.scrollbarYRail).marginTop)+D(g(this.scrollbarYRail).marginBottom),b(this.scrollbarXRail,{display:"none"}),b(this.scrollbarYRail,{display:"none"}),I(this),_(this,"top",0,!1,!0),_(this,"left",0,!1,!0),b(this.scrollbarXRail,{display:""}),b(this.scrollbarYRail,{display:""}))},ht.prototype.onScroll=function(i){!this.isAlive||(I(this),_(this,"top",this.element.scrollTop-this.lastScrollTop),_(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},ht.prototype.destroy=function(){!this.isAlive||(this.event.unbindAll(),a(this.scrollbarX),a(this.scrollbarY),a(this.scrollbarXRail),a(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},ht.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(i){return!i.match(/^ps([-_].+|)$/)}).join(" ")};const gt=ht;var dt=function(){if(typeof Map<"u")return Map;function e(i,o){var r=-1;return i.some(function(w,Y){return w[0]===o&&(r=Y,!0)}),r}return function(){function i(){this.__entries__=[]}return Object.defineProperty(i.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),i.prototype.get=function(o){var r=e(this.__entries__,o),w=this.__entries__[r];return w&&w[1]},i.prototype.set=function(o,r){var w=e(this.__entries__,o);~w?this.__entries__[w][1]=r:this.__entries__.push([o,r])},i.prototype.delete=function(o){var r=this.__entries__,w=e(r,o);~w&&r.splice(w,1)},i.prototype.has=function(o){return!!~e(this.__entries__,o)},i.prototype.clear=function(){this.__entries__.splice(0)},i.prototype.forEach=function(o,r){void 0===r&&(r=null);for(var w=0,Y=this.__entries__;w<Y.length;w++){var C=Y[w];o.call(r,C[1],C[0])}},i}()}(),pt=typeof window<"u"&&typeof document<"u"&&window.document===document,yt=typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")(),Ct="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(yt):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)},At=["top","right","bottom","left","width","height","size","weight"],Rt=typeof MutationObserver<"u",Pt=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function Lt(e,i){var o=!1,r=!1,w=0;function Y(){o&&(o=!1,e()),r&&E()}function C(){Ct(Y)}function E(){var P=Date.now();if(o){if(P-w<2)return;r=!0}else o=!0,r=!1,setTimeout(C,i);w=P}return E}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(i){~this.observers_.indexOf(i)||this.observers_.push(i),this.connected_||this.connect_()},e.prototype.removeObserver=function(i){var o=this.observers_,r=o.indexOf(i);~r&&o.splice(r,1),!o.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var i=this.observers_.filter(function(o){return o.gatherActive(),o.hasActive()});return i.forEach(function(o){return o.broadcastActive()}),i.length>0},e.prototype.connect_=function(){!pt||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Rt?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!pt||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(i){var o=i.propertyName,r=void 0===o?"":o;At.some(function(Y){return!!~r.indexOf(Y)})&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),Zt=function(e,i){for(var o=0,r=Object.keys(i);o<r.length;o++){var w=r[o];Object.defineProperty(e,w,{value:i[w],enumerable:!1,writable:!1,configurable:!0})}return e},Tt=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||yt},Ot=It(0,0,0,0);function Dt(e){return parseFloat(e)||0}function Xt(e){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];return i.reduce(function(r,w){return r+Dt(e["border-"+w+"-width"])},0)}var jt=typeof SVGGraphicsElement<"u"?function(e){return e instanceof Tt(e).SVGGraphicsElement}:function(e){return e instanceof Tt(e).SVGElement&&"function"==typeof e.getBBox};function re(e){return pt?jt(e)?function Nt(e){var i=e.getBBox();return It(0,0,i.width,i.height)}(e):function Wt(e){var i=e.clientWidth,o=e.clientHeight;if(!i&&!o)return Ot;var r=Tt(e).getComputedStyle(e),w=function Ft(e){for(var o={},r=0,w=["top","right","bottom","left"];r<w.length;r++){var Y=w[r];o[Y]=Dt(e["padding-"+Y])}return o}(r),Y=w.left+w.right,C=w.top+w.bottom,E=Dt(r.width),P=Dt(r.height);if("border-box"===r.boxSizing&&(Math.round(E+Y)!==i&&(E-=Xt(r,"left","right")+Y),Math.round(P+C)!==o&&(P-=Xt(r,"top","bottom")+C)),!function Ht(e){return e===Tt(e).document.documentElement}(e)){var F=Math.round(E+Y)-i,J=Math.round(P+C)-o;1!==Math.abs(F)&&(E-=F),1!==Math.abs(J)&&(P-=J)}return It(w.left,w.top,E,P)}(e):Ot}function It(e,i,o,r){return{x:e,y:i,width:o,height:r}}var ae=function(){function e(i){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=It(0,0,0,0),this.target=i}return e.prototype.isActive=function(){var i=re(this.target);return this.contentRect_=i,i.width!==this.broadcastWidth||i.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var i=this.contentRect_;return this.broadcastWidth=i.width,this.broadcastHeight=i.height,i},e}(),le=function e(i,o){var r=function se(e){var i=e.x,o=e.y,r=e.width,w=e.height,Y=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,C=Object.create(Y.prototype);return Zt(C,{x:i,y:o,width:r,height:w,top:o,right:i+r,bottom:w+o,left:i}),C}(o);Zt(this,{target:i,contentRect:r})},ce=function(){function e(i,o,r){if(this.activeObservations_=[],this.observations_=new dt,"function"!=typeof i)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=i,this.controller_=o,this.callbackCtx_=r}return e.prototype.observe=function(i){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u")&&Element instanceof Object){if(!(i instanceof Tt(i).Element))throw new TypeError('parameter 1 is not of type "Element".');var o=this.observations_;o.has(i)||(o.set(i,new ae(i)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(i){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u")&&Element instanceof Object){if(!(i instanceof Tt(i).Element))throw new TypeError('parameter 1 is not of type "Element".');var o=this.observations_;!o.has(i)||(o.delete(i),o.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var i=this;this.clearActive(),this.observations_.forEach(function(o){o.isActive()&&i.activeObservations_.push(o)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var i=this.callbackCtx_,o=this.activeObservations_.map(function(r){return new le(r.target,r.broadcastRect())});this.callback_.call(i,o,i),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),zt=typeof WeakMap<"u"?new WeakMap:new dt,Jt=function e(i){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var o=Pt.getInstance(),r=new ce(i,o,this);zt.set(this,r)};["observe","unobserve","disconnect"].forEach(function(e){Jt.prototype[e]=function(){var i;return(i=zt.get(this))[e].apply(i,arguments)}});const pe=typeof yt.ResizeObserver<"u"?yt.ResizeObserver:Jt;function ue(e,i){if(1&e&&(t.TgZ(0,"div",3),t._uU(1,"\n    "),t._UZ(2,"div",4),t._uU(3,"\n    "),t._UZ(4,"div",5),t._uU(5,"\n    "),t._UZ(6,"div",6),t._uU(7,"\n    "),t._UZ(8,"div",7),t._uU(9,"\n  "),t.qZA()),2&e){const o=t.oxw();t.ekj("ps-at-top",o.states.top)("ps-at-left",o.states.left)("ps-at-right",o.states.right)("ps-at-bottom",o.states.bottom),t.xp6(2),t.ekj("ps-indicator-show",o.indicatorY&&o.interaction),t.xp6(2),t.ekj("ps-indicator-show",o.indicatorX&&o.interaction),t.xp6(2),t.ekj("ps-indicator-show",o.indicatorX&&o.interaction),t.xp6(2),t.ekj("ps-indicator-show",o.indicatorY&&o.interaction)}}const de=["*"],Qt=new t.OlP("PERFECT_SCROLLBAR_CONFIG");class fe{constructor(i,o,r,w){this.x=i,this.y=o,this.w=r,this.h=w}}class Kt{constructor(i,o){this.x=i,this.y=o}}const Vt=["psScrollY","psScrollX","psScrollUp","psScrollDown","psScrollLeft","psScrollRight","psYReachEnd","psYReachStart","psXReachEnd","psXReachStart"];class ve{constructor(i={}){this.assign(i)}assign(i={}){for(const o in i)this[o]=i[o]}}let $t=(()=>{class e{constructor(o,r,w,Y,C){this.zone=o,this.differs=r,this.elementRef=w,this.platformId=Y,this.defaults=C,this.instance=null,this.ro=null,this.timeout=null,this.animation=null,this.configDiff=null,this.ngDestroy=new M.x,this.disabled=!1,this.psScrollY=new t.vpe,this.psScrollX=new t.vpe,this.psScrollUp=new t.vpe,this.psScrollDown=new t.vpe,this.psScrollLeft=new t.vpe,this.psScrollRight=new t.vpe,this.psYReachEnd=new t.vpe,this.psYReachStart=new t.vpe,this.psXReachEnd=new t.vpe,this.psXReachStart=new t.vpe}ngOnInit(){if(!this.disabled&&(0,s.NF)(this.platformId)){const o=new ve(this.defaults);o.assign(this.config),this.zone.runOutsideAngular(()=>{this.instance=new gt(this.elementRef.nativeElement,o)}),this.configDiff||(this.configDiff=this.differs.find(this.config||{}).create(),this.configDiff.diff(this.config||{})),this.zone.runOutsideAngular(()=>{this.ro=new pe(()=>{this.update()}),this.elementRef.nativeElement.children[0]&&this.ro.observe(this.elementRef.nativeElement.children[0]),this.ro.observe(this.elementRef.nativeElement)}),this.zone.runOutsideAngular(()=>{Vt.forEach(r=>{const w=r.replace(/([A-Z])/g,Y=>`-${Y.toLowerCase()}`);(0,N.R)(this.elementRef.nativeElement,w).pipe((0,R.e)(20),(0,A.R)(this.ngDestroy)).subscribe(Y=>{this[r].emit(Y)})})})}}ngOnDestroy(){(0,s.NF)(this.platformId)&&(this.ngDestroy.next(),this.ngDestroy.complete(),this.ro&&this.ro.disconnect(),this.timeout&&typeof window<"u"&&window.clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.instance&&this.instance.destroy()}),this.instance=null)}ngDoCheck(){!this.disabled&&this.configDiff&&(0,s.NF)(this.platformId)&&this.configDiff.diff(this.config||{})&&(this.ngOnDestroy(),this.ngOnInit())}ngOnChanges(o){o.disabled&&!o.disabled.isFirstChange()&&(0,s.NF)(this.platformId)&&o.disabled.currentValue!==o.disabled.previousValue&&(!0===o.disabled.currentValue?this.ngOnDestroy():!1===o.disabled.currentValue&&this.ngOnInit())}ps(){return this.instance}update(){typeof window<"u"&&(this.timeout&&window.clearTimeout(this.timeout),this.timeout=window.setTimeout(()=>{if(!this.disabled&&this.configDiff)try{this.zone.runOutsideAngular(()=>{this.instance&&this.instance.update()})}catch{}},0))}geometry(o="scroll"){return new fe(this.elementRef.nativeElement[o+"Left"],this.elementRef.nativeElement[o+"Top"],this.elementRef.nativeElement[o+"Width"],this.elementRef.nativeElement[o+"Height"])}position(o=!1){return!o&&this.instance?new Kt(this.instance.reach.x||0,this.instance.reach.y||0):new Kt(this.elementRef.nativeElement.scrollLeft,this.elementRef.nativeElement.scrollTop)}scrollable(o="any"){const r=this.elementRef.nativeElement;return"any"===o?r.classList.contains("ps--active-x")||r.classList.contains("ps--active-y"):"both"===o?r.classList.contains("ps--active-x")&&r.classList.contains("ps--active-y"):r.classList.contains("ps--active-"+o)}scrollTo(o,r,w){this.disabled||(null==r&&null==w?this.animateScrolling("scrollTop",o,w):(null!=o&&this.animateScrolling("scrollLeft",o,w),null!=r&&this.animateScrolling("scrollTop",r,w)))}scrollToX(o,r){this.animateScrolling("scrollLeft",o,r)}scrollToY(o,r){this.animateScrolling("scrollTop",o,r)}scrollToTop(o,r){this.animateScrolling("scrollTop",o||0,r)}scrollToLeft(o,r){this.animateScrolling("scrollLeft",o||0,r)}scrollToRight(o,r){this.animateScrolling("scrollLeft",this.elementRef.nativeElement.scrollWidth-this.elementRef.nativeElement.clientWidth-(o||0),r)}scrollToBottom(o,r){this.animateScrolling("scrollTop",this.elementRef.nativeElement.scrollHeight-this.elementRef.nativeElement.clientHeight-(o||0),r)}scrollToElement(o,r,w){if("string"==typeof o&&(o=this.elementRef.nativeElement.querySelector(o)),o){const Y=o.getBoundingClientRect(),C=this.elementRef.nativeElement.getBoundingClientRect();this.elementRef.nativeElement.classList.contains("ps--active-x")&&this.animateScrolling("scrollLeft",Y.left-C.left+this.elementRef.nativeElement.scrollLeft+(r||0),w),this.elementRef.nativeElement.classList.contains("ps--active-y")&&this.animateScrolling("scrollTop",Y.top-C.top+this.elementRef.nativeElement.scrollTop+(r||0),w)}}animateScrolling(o,r,w){if(this.animation&&(window.cancelAnimationFrame(this.animation),this.animation=null),!w||typeof window>"u")this.elementRef.nativeElement[o]=r;else if(r!==this.elementRef.nativeElement[o]){let Y=0,C=0,E=performance.now(),P=this.elementRef.nativeElement[o];const F=(P-r)/2,J=V=>{C+=Math.PI/(w/(V-E)),Y=Math.round(r+F+F*Math.cos(C)),this.elementRef.nativeElement[o]===P&&(C>=Math.PI?this.animateScrolling(o,r,0):(this.elementRef.nativeElement[o]=Y,P=this.elementRef.nativeElement[o],E=V,this.animation=window.requestAnimationFrame(J)))};window.requestAnimationFrame(J)}}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(t.R0b),t.Y36(t.aQg),t.Y36(t.SBq),t.Y36(t.Lbi),t.Y36(Qt,8))},e.\u0275dir=t.lG2({type:e,selectors:[["","perfectScrollbar",""]],inputs:{disabled:"disabled",config:["perfectScrollbar","config"]},outputs:{psScrollY:"psScrollY",psScrollX:"psScrollX",psScrollUp:"psScrollUp",psScrollDown:"psScrollDown",psScrollLeft:"psScrollLeft",psScrollRight:"psScrollRight",psYReachEnd:"psYReachEnd",psYReachStart:"psYReachStart",psXReachEnd:"psXReachEnd",psXReachStart:"psXReachStart"},exportAs:["ngxPerfectScrollbar"],features:[t.TTD]}),e})(),Gt=(()=>{class e{constructor(o,r,w){this.zone=o,this.cdRef=r,this.platformId=w,this.states={},this.indicatorX=!1,this.indicatorY=!1,this.interaction=!1,this.scrollPositionX=0,this.scrollPositionY=0,this.scrollDirectionX=0,this.scrollDirectionY=0,this.usePropagationX=!1,this.usePropagationY=!1,this.allowPropagationX=!1,this.allowPropagationY=!1,this.stateTimeout=null,this.ngDestroy=new M.x,this.stateUpdate=new M.x,this.disabled=!1,this.usePSClass=!0,this.autoPropagation=!1,this.scrollIndicators=!1,this.psScrollY=new t.vpe,this.psScrollX=new t.vpe,this.psScrollUp=new t.vpe,this.psScrollDown=new t.vpe,this.psScrollLeft=new t.vpe,this.psScrollRight=new t.vpe,this.psYReachEnd=new t.vpe,this.psYReachStart=new t.vpe,this.psXReachEnd=new t.vpe,this.psXReachStart=new t.vpe}ngOnInit(){(0,s.NF)(this.platformId)&&(this.stateUpdate.pipe((0,A.R)(this.ngDestroy),(0,L.x)((o,r)=>o===r&&!this.stateTimeout)).subscribe(o=>{this.stateTimeout&&typeof window<"u"&&(window.clearTimeout(this.stateTimeout),this.stateTimeout=null),"x"===o||"y"===o?(this.interaction=!1,"x"===o?(this.indicatorX=!1,this.states.left=!1,this.states.right=!1,this.autoPropagation&&this.usePropagationX&&(this.allowPropagationX=!1)):"y"===o&&(this.indicatorY=!1,this.states.top=!1,this.states.bottom=!1,this.autoPropagation&&this.usePropagationY&&(this.allowPropagationY=!1))):("left"===o||"right"===o?(this.states.left=!1,this.states.right=!1,this.states[o]=!0,this.autoPropagation&&this.usePropagationX&&(this.indicatorX=!0)):("top"===o||"bottom"===o)&&(this.states.top=!1,this.states.bottom=!1,this.states[o]=!0,this.autoPropagation&&this.usePropagationY&&(this.indicatorY=!0)),this.autoPropagation&&typeof window<"u"&&(this.stateTimeout=window.setTimeout(()=>{this.indicatorX=!1,this.indicatorY=!1,this.stateTimeout=null,this.interaction&&(this.states.left||this.states.right)&&(this.allowPropagationX=!0),this.interaction&&(this.states.top||this.states.bottom)&&(this.allowPropagationY=!0),this.cdRef.markForCheck()},500))),this.cdRef.markForCheck(),this.cdRef.detectChanges()}),this.zone.runOutsideAngular(()=>{if(this.directiveRef){const o=this.directiveRef.elementRef.nativeElement;(0,N.R)(o,"wheel").pipe((0,A.R)(this.ngDestroy)).subscribe(r=>{!this.disabled&&this.autoPropagation&&this.checkPropagation(r,r.deltaX,r.deltaY)}),(0,N.R)(o,"touchmove").pipe((0,A.R)(this.ngDestroy)).subscribe(r=>{if(!this.disabled&&this.autoPropagation){const w=r.touches[0].clientX,Y=r.touches[0].clientY;this.checkPropagation(r,w-this.scrollPositionX,Y-this.scrollPositionY),this.scrollPositionX=w,this.scrollPositionY=Y}}),(0,Z.T)((0,N.R)(o,"ps-scroll-x").pipe((0,x.h)("x")),(0,N.R)(o,"ps-scroll-y").pipe((0,x.h)("y")),(0,N.R)(o,"ps-x-reach-end").pipe((0,x.h)("right")),(0,N.R)(o,"ps-y-reach-end").pipe((0,x.h)("bottom")),(0,N.R)(o,"ps-x-reach-start").pipe((0,x.h)("left")),(0,N.R)(o,"ps-y-reach-start").pipe((0,x.h)("top"))).pipe((0,A.R)(this.ngDestroy)).subscribe(r=>{!this.disabled&&(this.autoPropagation||this.scrollIndicators)&&this.stateUpdate.next(r)})}}),window.setTimeout(()=>{Vt.forEach(o=>{this.directiveRef&&(this.directiveRef[o]=this[o])})},0))}ngOnDestroy(){(0,s.NF)(this.platformId)&&(this.ngDestroy.next(),this.ngDestroy.unsubscribe(),this.stateTimeout&&typeof window<"u"&&window.clearTimeout(this.stateTimeout))}ngDoCheck(){if((0,s.NF)(this.platformId)&&!this.disabled&&this.autoPropagation&&this.directiveRef){const o=this.directiveRef.elementRef.nativeElement;this.usePropagationX=o.classList.contains("ps--active-x"),this.usePropagationY=o.classList.contains("ps--active-y")}}checkPropagation(o,r,w){this.interaction=!0;const Y=r<0?-1:1,C=w<0?-1:1;(this.usePropagationX&&this.usePropagationY||this.usePropagationX&&(!this.allowPropagationX||this.scrollDirectionX!==Y)||this.usePropagationY&&(!this.allowPropagationY||this.scrollDirectionY!==C))&&(o.preventDefault(),o.stopPropagation()),r&&(this.scrollDirectionX=Y),w&&(this.scrollDirectionY=C),this.stateUpdate.next("interaction"),this.cdRef.detectChanges()}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(t.R0b),t.Y36(t.sBO),t.Y36(t.Lbi))},e.\u0275cmp=t.Xpm({type:e,selectors:[["perfect-scrollbar"]],viewQuery:function(o,r){if(1&o&&t.Gf($t,7),2&o){let w;t.iGM(w=t.CRH())&&(r.directiveRef=w.first)}},hostVars:4,hostBindings:function(o,r){2&o&&t.ekj("ps-show-limits",r.autoPropagation)("ps-show-active",r.scrollIndicators)},inputs:{disabled:"disabled",usePSClass:"usePSClass",autoPropagation:"autoPropagation",scrollIndicators:"scrollIndicators",config:"config"},outputs:{psScrollY:"psScrollY",psScrollX:"psScrollX",psScrollUp:"psScrollUp",psScrollDown:"psScrollDown",psScrollLeft:"psScrollLeft",psScrollRight:"psScrollRight",psYReachEnd:"psYReachEnd",psYReachStart:"psYReachStart",psXReachEnd:"psXReachEnd",psXReachStart:"psXReachStart"},exportAs:["ngxPerfectScrollbar"],ngContentSelectors:de,decls:10,vars:5,consts:[[2,"position","static",3,"perfectScrollbar","disabled"],[1,"ps-content"],["class","ps-overlay",3,"ps-at-top","ps-at-left","ps-at-right","ps-at-bottom",4,"ngIf"],[1,"ps-overlay"],[1,"ps-indicator-top"],[1,"ps-indicator-left"],[1,"ps-indicator-right"],[1,"ps-indicator-bottom"]],template:function(o,r){1&o&&(t.F$t(),t.TgZ(0,"div",0),t._uU(1,"\n  "),t.TgZ(2,"div",1),t._uU(3,"\n    "),t.Hsn(4),t._uU(5,"\n  "),t.qZA(),t._uU(6,"\n\n  "),t.YNc(7,ue,10,16,"div",2),t._uU(8,"\n"),t.qZA(),t._uU(9,"\n")),2&o&&(t.ekj("ps",r.usePSClass),t.Q6J("perfectScrollbar",r.config)("disabled",r.disabled),t.xp6(7),t.Q6J("ngIf",r.scrollIndicators))},dependencies:[s.O5,$t],styles:["perfect-scrollbar{display:block;height:100%;max-height:100%;max-width:100%;overflow:hidden;position:relative;width:100%}perfect-scrollbar[hidden]{display:none}perfect-scrollbar[fxflex]{display:flex;flex-direction:column;height:auto;min-height:0;min-width:0}perfect-scrollbar[fxflex]>.ps{-webkit-box-flex:1;flex:1 1 auto;height:auto;min-height:0;min-width:0;width:auto}perfect-scrollbar[fxlayout]>.ps,perfect-scrollbar[fxlayout]>.ps>.ps-content{-webkit-box-align:inherit;-webkit-box-flex:1;-webkit-box-pack:inherit;align-content:inherit;align-items:inherit;display:flex;flex:1 1 auto;flex-direction:inherit;height:100%;justify-content:inherit;width:100%},perfect-scrollbar[fxlayout=row]>.ps,perfect-scrollbar[fxlayout=row]>.ps>.ps-content{flex-direction:row!important}perfect-scrollbar[fxlayout=column]>.ps,perfect-scrollbar[fxlayout=column]>.ps>.ps-content{flex-direction:column!important}perfect-scrollbar>.ps{display:block;height:100%;max-height:100%;max-width:100%;position:static;width:100%}perfect-scrollbar>.ps textarea{-ms-overflow-style:scrollbar}perfect-scrollbar>.ps>.ps-overlay{bottom:0;display:block;left:0;overflow:hidden;pointer-events:none;position:absolute;right:0;top:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-bottom,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-left,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-right,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-top{opacity:0;position:absolute;transition:opacity .3s ease-in-out}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-bottom,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-top{left:0;min-height:24px;min-width:100%}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-left,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-right{min-height:100%;min-width:24px;top:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-top{top:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-left{left:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-right{right:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-bottom{bottom:0}perfect-scrollbar>.ps.ps--active-y>.ps__rail-y{cursor:default;left:auto!important;right:0!important;top:0!important;transition:width .2s linear,opacity .2s linear,background-color .2s linear;width:10px}perfect-scrollbar>.ps.ps--active-y>.ps__rail-y.ps--clicking,perfect-scrollbar>.ps.ps--active-y>.ps__rail-y:hover{width:15px}perfect-scrollbar>.ps.ps--active-x>.ps__rail-x{bottom:0!important;cursor:default;height:10px;left:0!important;top:auto!important;transition:height .2s linear,opacity .2s linear,background-color .2s linear}perfect-scrollbar>.ps.ps--active-x>.ps__rail-x.ps--clicking,perfect-scrollbar>.ps.ps--active-x>.ps__rail-x:hover{height:15px}perfect-scrollbar>.ps.ps--active-x.ps--active-y>.ps__rail-y{margin:0 0 10px}perfect-scrollbar>.ps.ps--active-x.ps--active-y>.ps__rail-x{margin:0 10px 0 0}perfect-scrollbar>.ps.ps--scrolling-x>.ps__rail-x,perfect-scrollbar>.ps.ps--scrolling-y>.ps__rail-y{background-color:#eee;opacity:.9}perfect-scrollbar.ps-show-always>.ps.ps--active-x>.ps__rail-x,perfect-scrollbar.ps-show-always>.ps.ps--active-y>.ps__rail-y{opacity:.6}perfect-scrollbar.ps-show-active>.ps.ps--active-y>.ps-overlay:not(.ps-at-top) .ps-indicator-top{background:linear-gradient(180deg,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,0));opacity:1}perfect-scrollbar.ps-show-active>.ps.ps--active-y>.ps-overlay:not(.ps-at-bottom) .ps-indicator-bottom{background:linear-gradient(0deg,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,0));opacity:1}perfect-scrollbar.ps-show-active>.ps.ps--active-x>.ps-overlay:not(.ps-at-left) .ps-indicator-left{background:linear-gradient(90deg,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,0));opacity:1}perfect-scrollbar.ps-show-active>.ps.ps--active-x>.ps-overlay:not(.ps-at-right) .ps-indicator-right{background:linear-gradient(270deg,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,0));opacity:1}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-top .ps-indicator-top{background:linear-gradient(180deg,hsla(0,0%,66.7%,.5) 0,hsla(0,0%,66.7%,0))}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-bottom .ps-indicator-bottom{background:linear-gradient(0deg,hsla(0,0%,66.7%,.5) 0,hsla(0,0%,66.7%,0))}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-left .ps-indicator-left{background:linear-gradient(90deg,hsla(0,0%,66.7%,.5) 0,hsla(0,0%,66.7%,0))}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-right .ps-indicator-right{background:linear-gradient(270deg,hsla(0,0%,66.7%,.5) 0,hsla(0,0%,66.7%,0))}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-left .ps-indicator-left.ps-indicator-show,perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-right .ps-indicator-right.ps-indicator-show,perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-bottom .ps-indicator-bottom.ps-indicator-show,perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-top .ps-indicator-top.ps-indicator-show{opacity:1}",".ps{-ms-overflow-style:none;-ms-touch-action:auto;overflow:hidden!important;overflow-anchor:none;touch-action:auto}.ps__rail-x{bottom:0;height:15px}.ps__rail-x,.ps__rail-y{-webkit-transition:background-color .2s linear,opacity .2s linear;display:none;opacity:0;position:absolute;transition:background-color .2s linear,opacity .2s linear}.ps__rail-y{right:0;width:15px}.ps--active-x>.ps__rail-x,.ps--active-y>.ps__rail-y{background-color:transparent;display:block}.ps--focus>.ps__rail-x,.ps--focus>.ps__rail-y,.ps--scrolling-x>.ps__rail-x,.ps--scrolling-y>.ps__rail-y,.ps:hover>.ps__rail-x,.ps:hover>.ps__rail-y{opacity:.6}.ps .ps__rail-x.ps--clicking,.ps .ps__rail-x:focus,.ps .ps__rail-x:hover,.ps .ps__rail-y.ps--clicking,.ps .ps__rail-y:focus,.ps .ps__rail-y:hover{background-color:#eee;opacity:.9}.ps__thumb-x{-webkit-transition:background-color .2s linear,height .2s ease-in-out;bottom:2px;height:6px;transition:background-color .2s linear,height .2s ease-in-out}.ps__thumb-x,.ps__thumb-y{background-color:#aaa;border-radius:6px;position:absolute}.ps__thumb-y{-webkit-transition:background-color .2s linear,width .2s ease-in-out;right:2px;transition:background-color .2s linear,width .2s ease-in-out;width:6px}.ps__rail-x.ps--clicking .ps__thumb-x,.ps__rail-x:focus>.ps__thumb-x,.ps__rail-x:hover>.ps__thumb-x{background-color:#999;height:11px}.ps__rail-y.ps--clicking .ps__thumb-y,.ps__rail-y:focus>.ps__thumb-y,.ps__rail-y:hover>.ps__thumb-y{background-color:#999;width:11px}@supports (-ms-overflow-style:none){.ps{overflow:auto!important}}@media (-ms-high-contrast:none),screen and (-ms-high-contrast:active){.ps{overflow:auto!important}}"],encapsulation:2}),e})(),me=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[s.ez,s.ez]}),e})();var ge=z(4e3),te=z(96749),xt=z(88648);function ee(e,i){const o=/(\d+)|(\D+)/g,r=/\d+/,Y=i.value,C=String(e.value).match(o),E=String(Y).match(o);for(;C.length&&E.length;){const P=C.shift(),F=E.shift();if(r.test(P)||r.test(F)){if(!r.test(P))return-1;if(!r.test(F))return 1;if(P!==F)return Number(F)-Number(P)}else if(P!==F)return F.localeCompare(P)}return E.length-C.length}var Et=z(5830),rt=z(54463),qt=z(97185);new xt.Yd("ReqNetworkInterComponent");let ye=(()=>{class e{constructor(o,r,w){this.apiService=o,this.toastr=r,this.translate=w}ngOnInit(){}reqInter(){this.apiService.getReqInter().subscribe(o=>{this.toastr.success(this.translate.instant("api.global.succes.scanlaunched.notify"))})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(Et.s),t.Y36(qt._W),t.Y36(rt.sK))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-req-network-inter"]],decls:16,vars:3,consts:[[1,"card"],["translate","network.inter.req.header",1,"card-header","fw-bold"],[1,"card-body"],[1,"card-text",3,"innerHTML"],[1,"card-footer","d-flex","justify-content-end"],["translate","network.inter.req.button",1,"btn","btn-light",3,"click"]],template:function(o,r){1&o&&(t.TgZ(0,"div",0),t._uU(1,"\n  "),t._UZ(2,"div",1),t._uU(3,"\n  "),t.TgZ(4,"div",2),t._uU(5,"\n    "),t._UZ(6,"p",3),t.ALo(7,"translate"),t._uU(8,"\n  "),t.qZA(),t._uU(9,"\n  "),t.TgZ(10,"div",4),t._uU(11,"\n    "),t.TgZ(12,"button",5),t.NdJ("click",function(){return r.reqInter()}),t.qZA(),t._uU(13,"\n  "),t.qZA(),t._uU(14,"\n"),t.qZA(),t._uU(15,"\n")),2&o&&(t.xp6(6),t.Q6J("innerHTML",t.lcZ(7,1,"network.inter.req.subtitle"),t.oJD))},dependencies:[rt.Pi,rt.X$]}),e})();var oe=z(93470),ie=z(22995);function be(e,i){if(1&e&&(t.TgZ(0,"div",3),t._uU(1,"\n      "),t._UZ(2,"div",4),t._uU(3,"\n      "),t.TgZ(4,"div",5),t._uU(5,"\n        "),t._UZ(6,"p",6),t.ALo(7,"translate"),t._uU(8,"\n        "),t.TgZ(9,"div",7),t._uU(10,"\n          "),t._UZ(11,"div",8),t._uU(12,"\n        "),t.qZA(),t._uU(13,"\n      "),t.qZA(),t._uU(14,"\n    "),t.qZA()),2&e){const o=t.oxw();t.xp6(6),t.Q6J("innerHTML",t.lcZ(7,2,"network.stats.detail.visu.subtitle"),t.oJD),t.xp6(5),t.Q6J("chart",o.chart)}}function we(e,i){if(1&e&&(t.TgZ(0,"div",3),t._uU(1,"\n      "),t._UZ(2,"div",4),t._uU(3,"\n      "),t.TgZ(4,"div",5),t._uU(5,"\n        "),t._UZ(6,"p",6),t.ALo(7,"translate"),t._uU(8,"\n        "),t.TgZ(9,"div",7),t._uU(10,"\n          "),t._UZ(11,"div",9),t._uU(12,"\n        "),t.qZA(),t._uU(13,"\n      "),t.qZA(),t._uU(14,"\n    "),t.qZA()),2&e){const o=t.oxw();t.xp6(6),t.Q6J("innerHTML",t.lcZ(7,2,"network.stats.detail.visu.subtitle"),t.oJD),t.xp6(5),t.Q6J("chart",o.chart2)}}new xt.Yd("DetailTopologyComponent");let _e=(()=>{class e extends ie.n{constructor(o,r){super(),this.apiService=o,this.translate=r}ngOnInit(){this.devices$=this.apiService.getDevices()}ngOnChanges(o){o.timeStamp.currentValue!==o.timeStamp.previousValue&&this.apiService.getNwkStatsByTimeStamp(this.timeStamp).subscribe(r=>{this.createChart(r),this.createChart2(r)})}createChart(o){const r=[],w=[],Y=[],C=[];o.forEach(F=>{const J=F.Channels;J.sort((V,lt)=>Number(V.Channel)-Number(lt.Channel)),F.Channels=J}),o[0].Channels.forEach(F=>{w.push(F.Channel)}),o.forEach(F=>{const J=[];let V=0;F.Channels.forEach(lt=>{J.push(lt.Level),C[V]=C[V]?Number(C[V])+Number(lt.Level):Number(lt.Level),V++}),r.push({name:F.ZDeviceName?F.ZDeviceName:F._NwkId,data:J})}),C.forEach(F=>{F/=o.length,F=Number(F).toFixed(2),Y.push(Number(F))});const E=r;E.push({name:"Average",data:Y,type:"spline",marker:{lineWidth:2,lineColor:oe.getOptions().colors[3],fillColor:"white"}});const P=new et.kL({chart:{type:"column",height:"20%"},title:{text:this.translate.instant("network.stats.detail.visu.chart.title")},xAxis:{categories:w},yAxis:{title:{text:this.translate.instant("network.stats.detail.visu.chart.y-axis")}},credits:{enabled:!1},series:E});this.chart=P,this.subs.add(P.ref$.subscribe())}createChart2(o){const r=[],w=[];o.forEach(C=>{const E=C.Channels;E.sort((P,F)=>Number(P.Channel)-Number(F.Channel)),C.Channels=E}),o[0].Channels.forEach(C=>{w.push(C.Channel)}),o.forEach(C=>{const E=[];C.Channels.forEach(P=>{E.push(P.Level)}),r.push({name:C.ZDeviceName?C.ZDeviceName:C._NwkId,data:E,pointPlacement:"on"})});const Y=new et.kL({chart:{height:"90%",polar:!0,type:"line"},pane:{},title:{text:this.translate.instant("network.stats.detail.visu.chart.title")},xAxis:{categories:w,tickmarkPlacement:"on",lineWidth:0},yAxis:{gridLineInterpolation:"polygon",lineWidth:0,min:0},tooltip:{shared:!0,pointFormat:'<span style="color:{series.color}">{series.name}: <b>{point.y:,.0f}</b><br/>'},legend:{align:"left",verticalAlign:"bottom"},credits:{enabled:!1},series:r,responsive:{rules:[{condition:{maxWidth:600},chartOptions:{legend:{align:"center",verticalAlign:"bottom"},pane:{size:"80%"}}}]}});this.chart2=Y,this.subs.add(Y.ref$.subscribe())}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(Et.s),t.Y36(rt.sK))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-detail-nwk-stat"]],inputs:{timeStamp:"timeStamp"},features:[t.qOj,t.TTD],decls:13,vars:2,consts:[[1,"row","row-cols-1","row-cols-md-2","g-4","mt-1"],[1,"col"],["class","card",4,"ngIf"],[1,"card"],["translate","network.stats.detail.visu.header",1,"card-header","fw-bold"],[1,"card-body"],[1,"card-text",3,"innerHTML"],[1,"card-text"],[1,"text-center",3,"chart"],[3,"chart"]],template:function(o,r){1&o&&(t.TgZ(0,"div",0),t._uU(1,"\n  "),t.TgZ(2,"div",1),t._uU(3,"\n    "),t.YNc(4,be,15,4,"div",2),t._uU(5,"\n  "),t.qZA(),t._uU(6,"\n  "),t.TgZ(7,"div",1),t._uU(8,"\n    "),t.YNc(9,we,15,4,"div",2),t._uU(10,"\n  "),t.qZA(),t._uU(11,"\n"),t.qZA(),t._uU(12,"\n")),2&o&&(t.xp6(4),t.Q6J("ngIf",r.chart),t.xp6(5),t.Q6J("ngIf",r.chart2))},dependencies:[s.O5,rt.Pi,et.Dm,rt.X$]}),e})();new xt.Yd("ReqNetworkInterComponent");let Se=(()=>{class e{constructor(o,r,w){this.apiService=o,this.toastr=r,this.translate=w}ngOnInit(){}reqFull(){this.apiService.getNwkFull().subscribe(o=>{this.toastr.success(this.translate.instant("api.global.succes.scanlaunched.notify"))})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(Et.s),t.Y36(qt._W),t.Y36(rt.sK))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-req-network-full"]],decls:16,vars:3,consts:[[1,"card"],["translate","network.full.req.header",1,"card-header","fw-bold"],[1,"card-body"],[1,"card-text",3,"innerHTML"],[1,"card-footer","d-flex","justify-content-end"],["translate","network.full.req.button",1,"btn","btn-light",3,"click"]],template:function(o,r){1&o&&(t.TgZ(0,"div",0),t._uU(1,"\n  "),t._UZ(2,"div",1),t._uU(3,"\n  "),t.TgZ(4,"div",2),t._uU(5,"\n    "),t._UZ(6,"p",3),t.ALo(7,"translate"),t._uU(8,"\n  "),t.qZA(),t._uU(9,"\n  "),t.TgZ(10,"div",4),t._uU(11,"\n    "),t.TgZ(12,"button",5),t.NdJ("click",function(){return r.reqFull()}),t.qZA(),t._uU(13,"\n  "),t.qZA(),t._uU(14,"\n"),t.qZA(),t._uU(15,"\n")),2&o&&(t.xp6(6),t.Q6J("innerHTML",t.lcZ(7,1,"network.full.req.subtitle"),t.oJD))},dependencies:[rt.Pi,rt.X$]}),e})();function xe(e,i){if(1&e){const o=t.EpF();t.TgZ(0,"span",14),t._uU(1,"\n                    "),t.TgZ(2,"div",15),t._uU(3,"\n                      "),t.TgZ(4,"button",16),t.NdJ("click",function(){const Y=t.CHM(o).$implicit,C=t.oxw(2);return t.KtG(C.nwkStatByDate(Y.value))}),t._uU(5),t.ALo(6,"date"),t.qZA(),t._uU(7,"\n                    "),t.qZA(),t._uU(8,"\n                    "),t.TgZ(9,"div",15),t._uU(10,"\n                      "),t.TgZ(11,"button",17),t.NdJ("click",function(){const Y=t.CHM(o).$implicit,C=t.oxw(2);return t.KtG(C.deleteNwkStatByDate(Y.value))}),t.ALo(12,"translate"),t._uU(13,"\n                        "),t._UZ(14,"i",18),t._uU(15,"\n                      "),t.qZA(),t._uU(16,"\n                    "),t.qZA(),t._uU(17,"\n                  "),t.qZA()}if(2&e){const o=i.$implicit;t.xp6(5),t.hij("\n                        ",t.xi3(6,2,1e3*o.value,"dd/MM/yyyy HH:mm:ss"),"\n                      "),t.xp6(6),t.s9C("title",t.lcZ(12,5,"network.stats.visu.delete.button"))}}function Te(e,i){if(1&e&&(t.TgZ(0,"div",4),t._uU(1,"\n      "),t._UZ(2,"div",5),t._uU(3,"\n      "),t.TgZ(4,"div",6),t._uU(5,"\n        "),t._UZ(6,"p",7),t.ALo(7,"translate"),t._uU(8,"\n        "),t.TgZ(9,"div",8),t._uU(10,"\n          "),t.TgZ(11,"div",9),t._uU(12,"\n            "),t.TgZ(13,"div",10),t._uU(14,"\n              "),t.TgZ(15,"perfect-scrollbar",11),t._uU(16,"\n                "),t.TgZ(17,"div",12),t._uU(18,"\n                  "),t.YNc(19,xe,18,7,"span",13),t.ALo(20,"keyvalue"),t._uU(21,"\n                "),t.qZA(),t._uU(22,"\n              "),t.qZA(),t._uU(23,"\n            "),t.qZA(),t._uU(24,"\n          "),t.qZA(),t._uU(25,"\n        "),t.qZA(),t._uU(26,"\n      "),t.qZA(),t._uU(27,"\n    "),t.qZA()),2&e){const o=i.ngIf,r=t.oxw();t.xp6(6),t.Q6J("innerHTML",t.lcZ(7,2,"network.stats.subtitle"),t.oJD),t.xp6(13),t.Q6J("ngForOf",t.xi3(20,4,o,r.sortDesc))}}function ke(e,i){1&e&&t._UZ(0,"app-req-network-full")}function Ce(e,i){if(1&e&&(t.TgZ(0,"div"),t._UZ(1,"app-detail-nwk-stat",19),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.Q6J("timeStamp",o.timeStamp)}}new xt.Yd("NwkStatsComponent");let Le=(()=>{class e{constructor(o,r){this.apiService=o,this.cdr=r,this.listSubject$=new M.x}ngOnInit(){this.stats$=this.apiService.getNwkStats(),setTimeout(()=>{this.plugin=JSON.parse(sessionStorage.getItem("plugin"))},500)}sortDesc(o,r){return ee(o,r)}nwkStatByDate(o){this.timeStamp=o}deleteNwkStatByDate(o){this.apiService.deleteNwkStatsByTimeStamp(o).subscribe(r=>{this.stats$=this.apiService.getNwkStats(),this.cdr.detectChanges()})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(Et.s),t.Y36(t.sBO))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-nwk-stats"]],decls:17,vars:5,consts:[[1,"row","row-cols-1","row-cols-xxl-5","row-cols-xl-4","row-cols-lg-3","row-cols-md-2","row-cols-sm-1","g-4"],[1,"col"],["class","card",4,"ngIf"],[4,"ngIf"],[1,"card"],["translate","network.stats.header",1,"card-header","fw-bold"],[1,"card-body"],[1,"card-text",3,"innerHTML"],[1,"card-text"],[1,"vertical-container"],[1,"content-container"],[1,"scroll-container"],[1,"scrollable-content"],["class","row d-flex align-items-center",4,"ngFor","ngForOf"],[1,"row","d-flex","align-items-center"],[1,"col-sm"],[1,"btn","btn-light",3,"click"],[1,"btn","btn-light",3,"title","click"],[1,"fa","fa-trash"],[3,"timeStamp"]],template:function(o,r){1&o&&(t.TgZ(0,"div",0),t._uU(1,"\n  "),t.TgZ(2,"div",1),t._uU(3,"\n    "),t.YNc(4,Te,28,7,"div",2),t.ALo(5,"async"),t._uU(6,"\n  "),t.qZA(),t._uU(7,"\n  "),t.TgZ(8,"div",1),t._UZ(9,"app-req-network-inter"),t.qZA(),t._uU(10,"\n  "),t.TgZ(11,"div",1),t.YNc(12,ke,1,0,"app-req-network-full",3),t.qZA(),t._uU(13,"\n"),t.qZA(),t._uU(14,"\n"),t.YNc(15,Ce,2,1,"div",3),t._uU(16,"\n")),2&o&&(t.xp6(4),t.Q6J("ngIf",t.lcZ(5,3,r.stats$)),t.xp6(8),t.Q6J("ngIf",!(null!=r.plugin&&r.plugin.Zigpy)),t.xp6(3),t.Q6J("ngIf",r.timeStamp))},dependencies:[s.sg,s.O5,rt.Pi,Gt,ye,_e,Se,s.Ov,s.uU,s.Nd,rt.X$],styles:[".content-container[_ngcontent-%COMP%]{position:relative;overflow:auto;height:150px;min-height:0}.content-container[_ngcontent-%COMP%]{position:relative;min-height:0}.vertical-container[_ngcontent-%COMP%], .horizontal-container[_ngcontent-%COMP%]{min-height:0!important}.scroll-container[_ngcontent-%COMP%]{position:relative}.scrollable-content[_ngcontent-%COMP%]{padding:16px;margin:0}"]}),e})();var Yt=z(24006),ne=z(91835),Bt=z(55017),Pe=z(10805);function Ne(e,i){if(1&e&&(t.TgZ(0,"div",3),t._uU(1,"\n      "),t._UZ(2,"div",4),t._uU(3,"\n      "),t.TgZ(4,"div",5),t._uU(5,"\n        "),t._UZ(6,"p",6),t.ALo(7,"translate"),t._uU(8,"\n        "),t._UZ(9,"div",7),t._uU(10,"\n      "),t.qZA(),t._uU(11,"\n    "),t.qZA()),2&e){const o=t.oxw();t.xp6(6),t.Q6J("innerHTML",t.lcZ(7,2,"network.topo.visu.subtitle"),t.oJD),t.xp6(3),t.Q6J("chart",o.chart1)}}function Ee(e,i){if(1&e&&(t._uU(0,"\n                  "),t.TgZ(1,"span"),t._uU(2,"\n                    "),t.TgZ(3,"b"),t._uU(4,"Name"),t.qZA(),t._uU(5),t.TgZ(6,"b"),t._uU(7,"IEEE"),t.qZA(),t._uU(8),t.TgZ(9,"b"),t._uU(10,"Model"),t.qZA(),t._uU(11),t.qZA(),t._uU(12,"\n                ")),2&e){const o=i.item;t.xp6(5),t.hij(" : ",o.ZDeviceName," - "),t.xp6(3),t.hij(" : ",o.IEEE," - "),t.xp6(3),t.hij(" :\n                    ",o.Model,"\n                  ")}}function Ye(e,i){1&e&&(t._uU(0,"\n                        "),t.TgZ(1,"tr"),t._uU(2,"\n                          "),t.TgZ(3,"th",22),t._uU(4),t.ALo(5,"translate"),t._UZ(6,"p-sortIcon",23),t._uU(7,"\n                          "),t.qZA(),t._uU(8,"\n                          "),t.TgZ(9,"th",24),t._uU(10),t.ALo(11,"translate"),t._UZ(12,"p-sortIcon",25),t._uU(13,"\n                          "),t.qZA(),t._uU(14,"\n                          "),t.TgZ(15,"th",26),t._uU(16),t.ALo(17,"translate"),t._UZ(18,"p-sortIcon",27),t._uU(19,"\n                          "),t.qZA(),t._uU(20,"\n                          "),t.TgZ(21,"th",28),t._uU(22),t.ALo(23,"translate"),t._UZ(24,"p-sortIcon",29),t._uU(25,"\n                          "),t.qZA(),t._uU(26,"\n                          "),t.TgZ(27,"th",30),t._uU(28),t.ALo(29,"translate"),t._UZ(30,"p-sortIcon",31),t._uU(31,"\n                          "),t.qZA(),t._uU(32,"\n                          "),t.TgZ(33,"th",32),t._uU(34),t.ALo(35,"translate"),t._UZ(36,"p-sortIcon",33),t._uU(37,"\n                          "),t.qZA(),t._uU(38,"\n                        "),t.qZA(),t._uU(39,"\n                      ")),2&e&&(t.xp6(4),t.hij("\n                            ",t.lcZ(5,6,"network.topo.visu.network.relation.to"),""),t.xp6(6),t.hij("\n                            ",t.lcZ(11,8,"network.topo.visu.network.relation.weight"),""),t.xp6(6),t.hij("\n                            ",t.lcZ(17,10,"network.topo.visu.network.relation.model"),""),t.xp6(6),t.hij("\n                            ",t.lcZ(23,12,"network.topo.visu.network.relation.status"),""),t.xp6(6),t.hij("\n                            ",t.lcZ(29,14,"network.topo.visu.network.relation.health"),""),t.xp6(6),t.hij("\n                            ",t.lcZ(35,16,"network.topo.visu.network.relation.battery"),""))}function Ae(e,i){if(1&e&&(t._uU(0,"\n                        "),t.TgZ(1,"tr"),t._uU(2,"\n                          "),t.TgZ(3,"td"),t._uU(4),t.qZA(),t._uU(5,"\n                          "),t.TgZ(6,"td"),t._uU(7),t.qZA(),t._uU(8,"\n                          "),t.TgZ(9,"td"),t._uU(10),t.qZA(),t._uU(11,"\n                          "),t.TgZ(12,"td"),t._uU(13),t.qZA(),t._uU(14,"\n                          "),t.TgZ(15,"td"),t._uU(16),t.qZA(),t._uU(17,"\n                          "),t.TgZ(18,"td"),t._uU(19),t.qZA(),t._uU(20,"\n                        "),t.qZA()),2&e){const o=i.$implicit;t.xp6(4),t.hij("\n                            ",o.to,"\n                          "),t.xp6(3),t.hij("\n                            ",o.weight,"\n                          "),t.xp6(3),t.hij("\n                            ",o.Model,"\n                          "),t.xp6(3),t.hij("\n                            ",o.Status,"\n                          "),t.xp6(3),t.hij("\n                            ",o.Health,"\n                          "),t.xp6(3),t.hij("\n                            ",o.Battery,"\n                          ")}}const De=function(e){return{deviceSelected:e}},Ue=function(){return[10,25,50]};function Me(e,i){if(1&e&&(t.TgZ(0,"div",16),t._uU(1,"\n            "),t.TgZ(2,"div",1),t._uU(3,"\n              "),t.TgZ(4,"div",3),t._uU(5,"\n                "),t._UZ(6,"div",17),t._uU(7,"\n                "),t.TgZ(8,"div",5),t._uU(9,"\n                  "),t._UZ(10,"p",6),t.ALo(11,"translate"),t._uU(12,"\n                  "),t.TgZ(13,"div",9),t._uU(14,"\n                    "),t.TgZ(15,"p-table",18,19),t.ALo(17,"translate"),t._uU(18,"\n                      "),t.YNc(19,Ye,40,18,"ng-template",20),t._uU(20,"\n                      "),t.YNc(21,Ae,21,6,"ng-template",21),t._uU(22,"\n                    "),t.qZA(),t._uU(23,"\n                  "),t.qZA(),t._uU(24,"\n                "),t.qZA(),t._uU(25,"\n              "),t.qZA(),t._uU(26,"\n            "),t.qZA(),t._uU(27,"\n          "),t.qZA()),2&e){const o=t.oxw(2);t.xp6(6),t.Q6J("translateParams",t.VKq(14,De,o.selectedPoint.name)),t.xp6(4),t.Q6J("innerHTML",t.lcZ(11,10,"network.topo.visu.network.relation.subtitle"),t.oJD),t.xp6(5),t.s9C("currentPageReportTemplate",t.lcZ(17,12,"TOTAL")),t.Q6J("rowHover",!0)("showCurrentPageReport",!0)("rowsPerPageOptions",t.DdM(16,Ue))("value",o.relationsSelected)("rows",10)("paginator",!0)("scrollable",!0)}}function Re(e,i){if(1&e&&(t.TgZ(0,"div",3),t._uU(1,"\n      "),t._UZ(2,"div",8),t._uU(3,"\n      "),t.TgZ(4,"div",5),t._uU(5,"\n        "),t._UZ(6,"p",6),t.ALo(7,"translate"),t._uU(8,"\n        "),t.TgZ(9,"div",9),t._uU(10,"\n          "),t.TgZ(11,"div"),t._uU(12,"\n            "),t.TgZ(13,"form",10),t._uU(14,"\n              "),t._UZ(15,"input",11),t._uU(16,"\n              "),t.TgZ(17,"ng-select",12),t.ALo(18,"translate"),t._uU(19,"\n                "),t.YNc(20,Ee,13,3,"ng-template",13),t._uU(21,"\n              "),t.qZA(),t._uU(22,"\n            "),t.qZA(),t._uU(23,"\n          "),t.qZA(),t._uU(24,"\n          "),t._UZ(25,"div",14),t._uU(26,"\n          "),t.YNc(27,Me,28,17,"div",15),t._uU(28,"\n        "),t.qZA(),t._uU(29,"\n      "),t.qZA(),t._uU(30,"\n    "),t.qZA()),2&e){const o=t.oxw();t.xp6(6),t.Q6J("innerHTML",t.lcZ(7,9,"network.topo.visu.network.subtitle"),t.oJD),t.xp6(7),t.Q6J("formGroup",o.form),t.xp6(4),t.s9C("placeholder",t.lcZ(18,11,"network.topo.visu.network.filter")),t.Q6J("items",o.devices)("multiple",!1)("closeOnSelect",!0)("searchable",!0),t.xp6(8),t.Q6J("chart",o.chart2),t.xp6(2),t.Q6J("ngIf",o.relationsSelected)}}new xt.Yd("DetailTopologyComponent");let Ze=(()=>{class e extends ie.n{constructor(o,r,w){super(),this.apiService=o,this.translate=r,this.formBuilder=w,this.showDetail=!1}ngOnInit(){this.form=this.formBuilder.group({nodeToFilter:[null],detail:[null]}),this.apiService.getZDeviceName().subscribe(o=>{this.devices=o,this.devices.unshift({IEEE:"",MacCapa:[""],Model:"",Health:"",Status:"",WidgetList:[""],ZDeviceName:"Zigbee Coordinator",_NwkId:""})}),this.subs.sink=this.form.get("nodeToFilter").valueChanges.subscribe(o=>{this.createChart2(o)}),this.subs.add(this.form.get("detail").valueChanges.subscribe(o=>{let r=[];this.selectedPoint=this.chart2.ref.hoverPoint,this.selectedPoint.linksFrom.map(C=>C.options).map(C=>{const E=this.devices.find(P=>P.ZDeviceName===C.to||P._NwkId===C.to);r.push({to:C.to,from:C.from,weight:C.weight,Model:E.Model,Status:E.Status,Health:E.Health,Battery:E.Battery})}),this.selectedPoint.linksTo.map(C=>C.options).map(C=>{if(!r.some(E=>E.to===C.from)){const E=this.devices.find(P=>P.ZDeviceName===C.from||P._NwkId===C.from);r.push({to:C.from,from:C.from,weight:E.LQI,Model:E.Model,Status:E.Status,Health:E.Health,Battery:E.Battery})}}),this.relationsSelected=r}))}ngOnChanges(o){o.timeStamp.currentValue!==o.timeStamp.previousValue&&this.apiService.getTopologieByTimeStamp(this.timeStamp).subscribe(r=>{this.datas=r,this.createChart1(),this.createChart2()})}createChart1(){const o=this.datas.map(w=>{const Y=Object.values(w);return Y.splice(1,1),Y}),r=new et.kL({chart:{type:"dependencywheel",height:"80%"},title:{text:this.translate.instant("network.topo.device.visu.chart.title")},credits:{enabled:!1},series:[{type:void 0,keys:["to","from","weight"],data:o}]});this.chart1=r}createChart2(o){let w=this.datas.map(E=>{const P=Object.values(E);return P.splice(1,1),P});o&&(w=w.filter(E=>E[0].toLowerCase()===o.toLowerCase()||E[1].toLowerCase()===o.toLowerCase()));const Y=[{nodes:void 0,type:void 0,keys:["to","from","weight"],dataLabels:{enabled:!0,linkFormat:""},data:w}];this.test(Y);const C=new et.kL({chart:{type:"networkgraph",height:"80%"},title:{text:this.translate.instant("network.topo.device.visu.network.chart.title")},credits:{enabled:!1},plotOptions:{networkgraph:{keys:["to","from","weight"],layoutAlgorithm:{enableSimulation:!0,integration:"verlet"}},series:{point:{events:{click:function(){document.getElementById("detail").dispatchEvent(new Event("input",{bubbles:!0}))}}}}},series:Y});this.chart2=C}test(o){const r=oe.getOptions().colors;let w=0;const Y={"Zigbee Coordinator":{id:"Zigbee Coordinator",marker:{radius:20}}},C=this.datas.filter(P=>"Zigbee Coordinator"===P.Child);let E=[];C.forEach(P=>{Y[P.Father]={id:P.Father,marker:{radius:10},color:r[w++]},E.push(P.Father)}),this.colorNode(Y,E),o[0].nodes=Object.keys(Y).map(function(P){return Y[P]})}colorNode(o,r){r.forEach(w=>{let Y=[];this.datas.filter(E=>E.Child===w).forEach(E=>{o[E.Father]||(o[E.Father]={id:E.Father,color:o[E.Child].color},Y.push(E.Father))}),Y.length>0&&this.colorNode(o,Y)})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(Et.s),t.Y36(rt.sK),t.Y36(Yt.qu))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-detail-topology"]],inputs:{timeStamp:"timeStamp"},features:[t.qOj,t.TTD],decls:13,vars:2,consts:[[1,"row","row-cols-1","row-cols-lg-2","g-4","mt-1"],[1,"col"],["class","card",4,"ngIf"],[1,"card"],["translate","network.topo.visu.header",1,"card-header","fw-bold"],[1,"card-body"],[1,"card-text",3,"innerHTML"],[1,"card-text",3,"chart"],["translate","network.topo.visu.network.header",1,"card-header","fw-bold"],[1,"card-text"],[3,"formGroup"],["type","hidden","formControlName","detail","id","detail"],["bindLabel","ZDeviceName","bindValue","ZDeviceName","appendTo","body","formControlName","nodeToFilter",3,"items","multiple","closeOnSelect","searchable","placeholder"],["ng-option-tmp",""],[3,"chart"],["class","row",4,"ngIf"],[1,"row"],["translate","network.topo.visu.network.relation.header",1,"card-header","fw-bold",3,"translateParams"],["styleClass","p-datatable-sm","responsiveLayout","scroll",3,"rowHover","showCurrentPageReport","currentPageReportTemplate","rowsPerPageOptions","value","rows","paginator","scrollable"],["dt1",""],["pTemplate","header"],["pTemplate","body"],["pSortableColumn","to"],["field","to"],["pSortableColumn","weight"],["field","weight"],["pSortableColumn","Model",2,"width","8rem"],["field","Model"],["pSortableColumn","Status",2,"width","10rem"],["field","Status"],["pSortableColumn","Health"],["field","Health"],["pSortableColumn","Battery"],["field","Battery"]],template:function(o,r){1&o&&(t.TgZ(0,"div",0),t._uU(1,"\n  "),t.TgZ(2,"div",1),t._uU(3,"\n    "),t.YNc(4,Ne,12,4,"div",2),t._uU(5,"\n  "),t.qZA(),t._uU(6,"\n  "),t.TgZ(7,"div",1),t._uU(8,"\n    "),t.YNc(9,Re,31,13,"div",2),t._uU(10,"\n  "),t.qZA(),t._uU(11,"\n"),t.qZA(),t._uU(12,"\n")),2&o&&(t.xp6(4),t.Q6J("ngIf",r.chart1),t.xp6(5),t.Q6J("ngIf",r.chart2))},dependencies:[s.O5,Yt._Y,Yt.Fj,Yt.JJ,Yt.JL,Yt.sg,Yt.u,ne.w9,ne.ir,rt.Pi,Bt.iA,Pe.jx,Bt.lQ,Bt.fz,et.Dm,rt.X$]}),e})();new xt.Yd("ReqTopologyComponent");let Oe=(()=>{class e{constructor(o,r,w){this.apiService=o,this.toastr=r,this.translate=w}ngOnInit(){}reqTopology(){this.apiService.getReqTopologie().subscribe(o=>{this.toastr.success(this.translate.instant("api.global.succes.scanlaunched.notify"))})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(Et.s),t.Y36(qt._W),t.Y36(rt.sK))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-req-topology"]],decls:16,vars:3,consts:[[1,"card"],["translate","network.topology.req.header",1,"card-header","fw-bold"],[1,"card-body"],[1,"card-text",3,"innerHTML"],[1,"card-footer","d-flex","justify-content-end"],["translate","network.topology.req.button",1,"btn","btn-light",3,"click"]],template:function(o,r){1&o&&(t.TgZ(0,"div",0),t._uU(1,"\n  "),t._UZ(2,"div",1),t._uU(3,"\n  "),t.TgZ(4,"div",2),t._uU(5,"\n    "),t._UZ(6,"p",3),t.ALo(7,"translate"),t._uU(8,"\n  "),t.qZA(),t._uU(9,"\n  "),t.TgZ(10,"div",4),t._uU(11,"\n    "),t.TgZ(12,"button",5),t.NdJ("click",function(){return r.reqTopology()}),t.qZA(),t._uU(13,"\n  "),t.qZA(),t._uU(14,"\n"),t.qZA(),t._uU(15,"\n")),2&o&&(t.xp6(6),t.Q6J("innerHTML",t.lcZ(7,1,"network.topology.req.subtitle"),t.oJD))},dependencies:[rt.Pi,rt.X$]}),e})();function Xe(e,i){if(1&e){const o=t.EpF();t.TgZ(0,"span",14),t._uU(1,"\n                    "),t.TgZ(2,"button",15),t.NdJ("click",function(){const Y=t.CHM(o).$implicit,C=t.oxw(2);return t.KtG(C.topologyByDate(Y.value))}),t._uU(3),t.ALo(4,"date"),t.qZA(),t._uU(5,"\n                    "),t.TgZ(6,"button",16),t.NdJ("click",function(){const Y=t.CHM(o).$implicit,C=t.oxw(2);return t.KtG(C.deleteTopologyByDate(Y.value))}),t.ALo(7,"translate"),t._uU(8,"\n                      "),t._UZ(9,"i",17),t._uU(10,"\n                    "),t.qZA(),t._uU(11,"\n                  "),t.qZA()}if(2&e){const o=i.$implicit;t.xp6(3),t.hij("\n                      ",t.xi3(4,2,1e3*o.value,"dd/MM/yyyy HH:mm:ss"),"\n                    "),t.xp6(3),t.s9C("title",t.lcZ(7,5,"network.topo.visu.delete.button"))}}function Fe(e,i){if(1&e&&(t.TgZ(0,"div",4),t._uU(1,"\n      "),t._UZ(2,"div",5),t._uU(3,"\n      "),t.TgZ(4,"div",6),t._uU(5,"\n        "),t._UZ(6,"p",7),t.ALo(7,"translate"),t._uU(8,"\n        "),t.TgZ(9,"div",8),t._uU(10,"\n          "),t.TgZ(11,"div",9),t._uU(12,"\n            "),t.TgZ(13,"div",10),t._uU(14,"\n              "),t.TgZ(15,"perfect-scrollbar",11),t._uU(16,"\n                "),t.TgZ(17,"div",12),t._uU(18,"\n                  "),t.YNc(19,Xe,12,7,"span",13),t.ALo(20,"keyvalue"),t._uU(21,"\n                "),t.qZA(),t._uU(22,"\n              "),t.qZA(),t._uU(23,"\n            "),t.qZA(),t._uU(24,"\n          "),t.qZA(),t._uU(25,"\n        "),t.qZA(),t._uU(26,"\n      "),t.qZA(),t._uU(27,"\n    "),t.qZA()),2&e){const o=i.ngIf,r=t.oxw();t.xp6(6),t.Q6J("innerHTML",t.lcZ(7,2,"network.topo.subtitle"),t.oJD),t.xp6(13),t.Q6J("ngForOf",t.xi3(20,4,o,r.sortDesc))}}function Ie(e,i){if(1&e&&(t.TgZ(0,"div"),t._UZ(1,"app-detail-topology",18),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.Q6J("timeStamp",o.timeStamp)}}new xt.Yd("TopologyComponent");const We=[{path:"topology",component:(()=>{class e{constructor(o,r){this.apiService=o,this.cdr=r}ngOnInit(){this.topologies$=this.apiService.getTopologie()}sortDesc(o,r){return ee(o,r)}topologyByDate(o){this.timeStamp=o}deleteTopologyByDate(o){this.apiService.deleteTopologieByTimeStamp(o).subscribe(r=>{this.topologies$=this.apiService.getTopologie(),this.cdr.detectChanges()})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(Et.s),t.Y36(t.sBO))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-topology"]],decls:14,vars:4,consts:[[1,"row","row-cols-1","row-cols-xxl-5","row-cols-xl-4","row-cols-lg-3","row-cols-md-2","row-cols-sm-1","g-4"],[1,"col"],["class","card",4,"ngIf"],[4,"ngIf"],[1,"card"],["translate","network.topo.header",1,"card-header","fw-bold"],[1,"card-body"],[1,"card-text",3,"innerHTML"],[1,"card-text"],[1,"vertical-container"],[1,"content-container"],[1,"scroll-container"],[1,"scrollable-content"],["class","d-sm-flex gap-2",4,"ngFor","ngForOf"],[1,"d-sm-flex","gap-2"],[1,"btn","btn-light",3,"click"],[1,"btn","btn-light",3,"title","click"],[1,"fa","fa-trash"],[3,"timeStamp"]],template:function(o,r){1&o&&(t.TgZ(0,"div",0),t._uU(1,"\n  "),t.TgZ(2,"div",1),t._uU(3,"\n    "),t.YNc(4,Fe,28,7,"div",2),t.ALo(5,"async"),t._uU(6,"\n  "),t.qZA(),t._uU(7,"\n  "),t.TgZ(8,"div"),t._UZ(9,"app-req-topology"),t.qZA(),t._uU(10,"\n"),t.qZA(),t._uU(11,"\n"),t.YNc(12,Ie,2,1,"div",3),t._uU(13,"\n")),2&o&&(t.xp6(4),t.Q6J("ngIf",t.lcZ(5,2,r.topologies$)),t.xp6(8),t.Q6J("ngIf",r.timeStamp))},dependencies:[s.sg,s.O5,rt.Pi,Gt,Ze,Oe,s.Ov,s.uU,s.Nd,rt.X$],styles:[".content-container[_ngcontent-%COMP%]{position:relative;overflow:auto;height:150px;min-height:0}.content-container[_ngcontent-%COMP%]{position:relative;min-height:0}.vertical-container[_ngcontent-%COMP%], .horizontal-container[_ngcontent-%COMP%]{min-height:0!important}.scroll-container[_ngcontent-%COMP%]{position:relative}.scrollable-content[_ngcontent-%COMP%]{padding:16px;margin:0}"]}),e})(),data:{title:(0,xt.Kl)("network.topo")}},{path:"energy-level",component:Le,data:{title:(0,xt.Kl)("network.energy")}}];let je=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[te.Bz.forChild(We),te.Bz]}),e})();const He={suppressScrollX:!0};let qe=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[{provide:et.mA,useFactory:()=>[W,U,X,ge,j]},{provide:Qt,useValue:He}],imports:[je,ut.m,et.SD,me]}),e})()},4e3:(ct,wt,z)=>{var ut,et,W;W=function(W){"use strict";var U=W?W._modules:{};function j(X,M,N,Z){X.hasOwnProperty(M)||(X[M]=Z.apply(null,N),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:M,module:X[M]}})))}j(U,"Series/DependencyWheel/DependencyWheelPoint.js",[U["Core/Series/SeriesRegistry.js"],U["Core/Utilities.js"]],function(X,M){var L,N=this&&this.__extends||(L=function(x,t){return(L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,g){s.__proto__=g}||function(s,g){for(var b in g)g.hasOwnProperty(b)&&(s[b]=g[b])})(x,t)},function(x,t){function s(){this.constructor=x}L(x,t),x.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}),R=M.wrap,A=function(L){function x(){var t=null!==L&&L.apply(this,arguments)||this;return t.angle=void 0,t.fromNode=void 0,t.index=void 0,t.linksFrom=void 0,t.linksTo=void 0,t.options=void 0,t.series=void 0,t.shapeArgs=void 0,t.toNode=void 0,t}return N(x,L),x.prototype.getDataLabelPath=function(t){var s=this,g=this.series.chart.renderer,b=this.shapeArgs,S=this.angle<0||this.angle>Math.PI,l=b.start||0,d=b.end||0;return this.dataLabelPath?(this.dataLabelPath=this.dataLabelPath.destroy(),delete this.dataLabelPath):R(t,"destroy",function(a){return s.dataLabelPath&&(s.dataLabelPath=s.dataLabelPath.destroy()),a.call(t)}),this.dataLabelPath=g.arc({open:!0,longArc:Math.abs(Math.abs(l)-Math.abs(d))<Math.PI?0:1}).attr({x:b.x,y:b.y,r:b.r+(this.dataLabel.options.distance||0),start:S?l:d,end:S?d:l,clockwise:+S}).add(g.defs),this.dataLabelPath},x.prototype.isValid=function(){return!0},x}(X.seriesTypes.sankey.prototype.pointClass);return A}),j(U,"Series/DependencyWheel/DependencyWheelSeriesDefaults.js",[],function(){return{center:[null,null],curveFactor:.6,startAngle:0,dataLabels:{textPath:{enabled:!1,attributes:{dy:5}}}}}),j(U,"Series/DependencyWheel/DependencyWheelSeries.js",[U["Core/Animation/AnimationUtilities.js"],U["Series/DependencyWheel/DependencyWheelPoint.js"],U["Series/DependencyWheel/DependencyWheelSeriesDefaults.js"],U["Core/Globals.js"],U["Series/Sankey/SankeyColumnComposition.js"],U["Core/Series/SeriesRegistry.js"],U["Core/Utilities.js"]],function(X,M,N,Z,R,A,L){var f,x=this&&this.__extends||(f=function(y,p){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,m){c.__proto__=m}||function(c,m){for(var v in m)m.hasOwnProperty(v)&&(c[v]=m[v])})(y,p)},function(y,p){function c(){this.constructor=y}f(y,p),y.prototype=null===p?Object.create(p):(c.prototype=p.prototype,new c)}),t=X.animObject,s=Z.deg2rad,g=A.seriesTypes,b=g.pie,S=g.sankey,l=L.extend,d=L.merge,a=function(f){function y(){var p=null!==f&&f.apply(this,arguments)||this;return p.data=void 0,p.options=void 0,p.nodeColumns=void 0,p.nodes=void 0,p.points=void 0,p}return x(y,f),y.prototype.animate=function(p){if(!p){var m=t(this.options.animation).duration/2/this.nodes.length;this.nodes.forEach(function(v,h){var n=v.graphic;n&&(n.attr({opacity:0}),setTimeout(function(){v.graphic&&v.graphic.animate({opacity:1},{duration:m})},m*h))},this),this.points.forEach(function(v){var h=v.graphic;!v.isNode&&h&&h.attr({opacity:0}).animate({opacity:1},this.options.animation)},this)}},y.prototype.createNode=function(p){var c=S.prototype.createNode.call(this,p);return c.getSum=function(){return c.linksFrom.concat(c.linksTo).reduce(function(m,v){return m+v.weight},0)},c.offset=function(m){var h,k,v=0,n=c.linksFrom.concat(c.linksTo);function u(_){return _.fromNode===c?_.toNode:_.fromNode}for(n.sort(function(_,T){return u(_).index-u(T).index}),h=0;h<n.length;h++)if(u(n[h]).index>c.index){n=n.slice(0,h).reverse().concat(n.slice(h).reverse()),k=!0;break}for(k||n.reverse(),h=0;h<n.length;h++){if(n[h]===m)return v;v+=n[h].weight}},c},y.prototype.createNodeColumns=function(){var p=[R.compose([],this)];return this.nodes.forEach(function(c){c.column=0,p[0].push(c)}),p},y.prototype.getNodePadding=function(){return this.options.nodePadding/Math.PI},y.prototype.translate=function(){var p=this.options,c=2*Math.PI/(this.chart.plotHeight+this.getNodePadding()),m=this.getCenter(),v=(p.startAngle-90)*s;S.prototype.translate.call(this),this.nodeColumns[0].forEach(function(h){if(h.sum){var n=h.shapeArgs,k=m[0],u=m[1],_=m[2]/2,T=_-p.nodeWidth,D=v+c*(n.y||0),O=v+c*((n.y||0)+(n.height||0));h.angle=D+(O-D)/2,h.shapeType="arc",h.shapeArgs={x:k,y:u,r:_,innerR:T,start:D,end:O},h.dlBox={x:k+Math.cos((D+O)/2)*(_+T)/2,y:u+Math.sin((D+O)/2)*(_+T)/2,width:1,height:1},h.linksFrom.forEach(function(B){if(B.linkBase){var H,I=B.linkBase.map(function(q,ot){var $=c*q,G=Math.cos(v+$)*(T+1),st=Math.sin(v+$)*(T+1),it=p.curveFactor||0;return(H=Math.abs(B.linkBase[3-ot]*c-$))>Math.PI&&(H=2*Math.PI-H),(H*=T)<T&&(it*=H/T),{x:k+G,y:u+st,cpX:k+(1-it)*G,cpY:u+(1-it)*st}});B.shapeArgs={d:[["M",I[0].x,I[0].y],["A",T,T,0,0,1,I[1].x,I[1].y],["C",I[1].cpX,I[1].cpY,I[2].cpX,I[2].cpY,I[2].x,I[2].y],["A",T,T,0,0,1,I[3].x,I[3].y],["C",I[3].cpX,I[3].cpY,I[0].cpX,I[0].cpY,I[0].x,I[0].y]]}}})}})},y.defaultOptions=d(S.defaultOptions,N),y}(S);return l(a.prototype,{orderNodes:!1,getCenter:b.prototype.getCenter}),a.prototype.pointClass=M,A.registerSeriesType("dependencywheel",a),a}),j(U,"masters/modules/dependency-wheel.src.js",[],function(){})},ct.exports?(W.default=W,ct.exports=W):(ut=[z(93470),z(4971)],void 0!==(et=function(U){return W(U),W.Highcharts=U,W}.apply(wt,ut))&&(ct.exports=et))},96671:(ct,wt,z)=>{var ut,et,W;W=function(W){"use strict";var U=W?W._modules:{};function j(X,M,N,Z){X.hasOwnProperty(M)||(X[M]=Z.apply(null,N),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:M,module:X[M]}})))}j(U,"Series/DragNodesComposition.js",[U["Core/Utilities.js"]],function(X){var M=X.addEvent,N=[];function R(){var b,S,l,g=this;g.container&&(b=M(g.container,"mousedown",function(d){var a=g.hoverPoint;a&&a.series&&a.series.hasDraggableNodes&&a.series.options.draggable&&(a.series.onMouseDown(a,d),S=M(g.container,"mousemove",function(f){return a&&a.series&&a.series.onMouseMove(a,f)}),l=M(g.container.ownerDocument,"mouseup",function(f){return S(),l(),a&&a.series&&a.series.onMouseUp(a,f)}))})),M(g,"destroy",function(){b()})}return{compose:function Z(g){-1===N.indexOf(g)&&(N.push(g),M(g,"load",R))},onMouseDown:function A(g,b){var S=this.chart.pointer.normalize(b);g.fixedPosition={chartX:S.chartX,chartY:S.chartY,plotX:g.plotX,plotY:g.plotY},g.inDragMode=!0},onMouseMove:function L(g,b){if(g.fixedPosition&&g.inDragMode){var l=this.chart,d=l.pointer.normalize(b),a=g.fixedPosition.chartX-d.chartX,f=g.fixedPosition.chartY-d.chartY,y=l.graphLayoutsLookup,p=void 0,c=void 0;(Math.abs(a)>5||Math.abs(f)>5)&&l.isInsidePlot(p=g.fixedPosition.plotX-a,c=g.fixedPosition.plotY-f)&&(g.plotX=p,g.plotY=c,g.hasDragged=!0,this.redrawHalo(g),y.forEach(function(m){m.restartSimulation()}))}},onMouseUp:function x(g,b){g.fixedPosition&&(g.hasDragged&&(this.layout.enableSimulation?this.layout.start():this.chart.redraw()),g.inDragMode=g.hasDragged=!1,this.options.fixedDraggable||delete g.fixedPosition)},redrawHalo:function t(g){g&&this.halo&&this.halo.attr({d:g.haloPath(this.options.states.hover.halo.size)})}}}),j(U,"Series/GraphLayoutComposition.js",[U["Core/Animation/AnimationUtilities.js"],U["Core/Utilities.js"]],function(X,M){var N=X.setAnimation,Z=M.addEvent,R=[];function t(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(function(l){l.updateSimulation()}),this.redraw())}function s(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(function(l){l.updateSimulation(!1)}),this.redraw())}function g(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(function(l){l.stop()})}function b(){var l,d=!1,a=function(f){f.maxIterations--&&isFinite(f.temperature)&&!f.isStable()&&!f.enableSimulation&&(f.beforeStep&&f.beforeStep(),f.step(),l=!1,d=!0)};if(this.graphLayoutsLookup){for(N(!1,this),this.graphLayoutsLookup.forEach(function(f){return f.start()});!l;)l=!0,this.graphLayoutsLookup.forEach(a);d&&this.series.forEach(function(f){f&&f.layout&&f.render()})}}return{compose:function x(l){R.indexOf(l)&&(R.push(l),Z(l,"afterPrint",t),Z(l,"beforePrint",s),Z(l,"predraw",g),Z(l,"render",b))},integrations:{},layouts:{}}}),j(U,"Series/NodesComposition.js",[U["Core/Series/SeriesRegistry.js"],U["Core/Utilities.js"]],function(X,M){var g,N=X.series,Z=N.prototype,R=N.prototype.pointClass.prototype,A=M.defined,L=M.extend,x=M.find,t=M.merge,s=M.pick;return function(b){var S=[];function a(){return this.data=[].concat(this.points||[],this.nodes),Z.destroy.apply(this,arguments)}function y(){this.nodes&&(this.nodes.forEach(function(m){m.destroy()}),this.nodes.length=0),Z.setData.apply(this,arguments)}function p(m){var v=arguments,h=this.isNode?this.linksTo.concat(this.linksFrom):[this.fromNode,this.toNode];"select"!==m&&h.forEach(function(n){n&&n.series&&(R.setState.apply(n,v),n.isNode||(n.fromNode.graphic&&R.setState.apply(n.fromNode,v),n.toNode&&n.toNode.graphic&&R.setState.apply(n.toNode,v)))}),R.setState.apply(this,v)}function c(m,v,h,n){var k=this,u=this.series.options.nodes,_=this.series.options.data,T=_&&_.length||0,D=_&&_[this.index];if(R.update.call(this,m,!this.isNode&&v,h,n),this.isNode){var O=(u||[]).reduce(function(H,I,q){return k.id===I.id?q:H},-1),B=t(u&&u[O]||{},_&&_[this.index]||{});_&&(D?_[this.index]=D:_.length=T),u?O>=0?u[O]=B:u.push(B):this.series.options.nodes=[B],s(v,!0)&&this.series.chart.redraw(h)}}b.compose=function l(m,v){if(-1===S.indexOf(m)){S.push(m);var h=m.prototype;h.setNodeState=p,h.setState=p,h.update=c}if(-1===S.indexOf(v)){S.push(v);var n=v.prototype;n.destroy=a,n.setData=y}return v},b.createNode=function d(m){var k,v=this.pointClass,h=function(_,T){return x(_,function(D){return D.id===T})},n=h(this.nodes,m);if(!n){k=this.options.nodes&&h(this.options.nodes,m);var u=(new v).init(this,L({className:"highcharts-node",isNode:!0,id:m,y:1},k));u.linksTo=[],u.linksFrom=[],u.getSum=function(){var _=0,T=0;return u.linksTo.forEach(function(D){_+=D.weight||0}),u.linksFrom.forEach(function(D){T+=D.weight||0}),Math.max(_,T)},u.offset=function(_,T){for(var D=0,O=0;O<u[T].length;O++){if(u[T][O]===_)return D;D+=u[T][O].weight}},u.hasShape=function(){var _=0;return u.linksTo.forEach(function(T){T.outgoing&&_++}),!u.linksTo.length||_!==u.linksTo.length},u.index=this.nodes.push(u)-1,n=u}return n.formatPrefix="node",n.name=n.name||n.options.id||"",n.mass=s(n.options.mass,n.options.marker&&n.options.marker.radius,this.options.marker&&this.options.marker.radius,4),n},b.destroy=a,b.generatePoints=function f(){var m=this,v=this.chart,h={};Z.generatePoints.call(this),this.nodes||(this.nodes=[]),this.colorCounter=0,this.nodes.forEach(function(n){n.linksFrom.length=0,n.linksTo.length=0,n.level=n.options.level}),this.points.forEach(function(n){A(n.from)&&(h[n.from]||(h[n.from]=m.createNode(n.from)),h[n.from].linksFrom.push(n),n.fromNode=h[n.from],v.styledMode?n.colorIndex=s(n.options.colorIndex,h[n.from].colorIndex):n.color=n.options.color||h[n.from].color),A(n.to)&&(h[n.to]||(h[n.to]=m.createNode(n.to)),h[n.to].linksTo.push(n),n.toNode=h[n.to]),n.name=n.name||n.id},this),this.nodeLookup=h},b.setNodeState=p,b.updateNode=c}(g||(g={})),g}),j(U,"Series/Networkgraph/NetworkgraphPoint.js",[U["Series/NodesComposition.js"],U["Core/Series/SeriesRegistry.js"],U["Core/Utilities.js"]],function(X,M,N){var l,Z=this&&this.__extends||(l=function(d,a){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,y){f.__proto__=y}||function(f,y){for(var p in y)y.hasOwnProperty(p)&&(f[p]=y[p])})(d,a)},function(d,a){function f(){this.constructor=d}l(d,a),d.prototype=null===a?Object.create(a):(f.prototype=a.prototype,new f)}),R=M.series,A=R.prototype,L=R.prototype.pointClass,x=N.addEvent,t=N.css,s=N.defined,g=N.extend,b=N.pick,S=function(l){function d(){return null!==l&&l.apply(this,arguments)||this}return Z(d,l),d.prototype.destroy=function(){return this.isNode&&this.linksFrom.concat(this.linksTo).forEach(function(a){a.destroyElements&&a.destroyElements()}),this.series.layout.removeElementFromCollection(this,this.series.layout[this.isNode?"nodes":"links"]),L.prototype.destroy.apply(this,arguments)},d.prototype.getDegree=function(){var a=this.isNode?this.linksFrom.length+this.linksTo.length:0;return 0===a?1:a},d.prototype.getLinkAttributes=function(){var a=this.series.options.link,f=this.options;return{"stroke-width":b(f.width,a.width),stroke:f.color||a.color,dashstyle:f.dashStyle||a.dashStyle,opacity:b(f.opacity,a.opacity,1)}},d.prototype.getLinkPath=function(){var a=this.fromNode,f=this.toNode;return a.plotX>f.plotX&&(a=this.toNode,f=this.fromNode),[["M",a.plotX||0,a.plotY||0],["L",f.plotX||0,f.plotY||0]]},d.prototype.getMass=function(){var a=this.fromNode.mass,f=this.toNode.mass,y=a+f;return{fromNode:1-a/y,toNode:1-f/y}},d.prototype.init=function(a,f,y){return l.prototype.init.call(this,a,f,y),this.series.options.draggable&&!this.series.chart.styledMode&&(x(this,"mouseOver",function(){t(this.series.chart.container,{cursor:"move"})}),x(this,"mouseOut",function(){t(this.series.chart.container,{cursor:"default"})})),this},d.prototype.isValid=function(){return!this.isNode||s(this.id)},d.prototype.redrawLink=function(){var f,a=this.getLinkPath();if(this.graphic){this.shapeArgs={d:a},this.series.chart.styledMode||(f=this.series.pointAttribs(this),this.graphic.attr(f),(this.dataLabels||[]).forEach(function(c){c&&c.attr({opacity:f.opacity})})),this.graphic.animate(this.shapeArgs);var y=a[0],p=a[1];"M"===y[0]&&"L"===p[0]&&(this.plotX=(y[1]+p[1])/2,this.plotY=(y[2]+p[2])/2)}},d.prototype.remove=function(a,f){var m,y=this,p=y.series,c=p.options.nodes||[],v=c.length;if(y.isNode){for(p.points=[],[].concat(y.linksFrom).concat(y.linksTo).forEach(function(h){(m=h.fromNode.linksFrom.indexOf(h))>-1&&h.fromNode.linksFrom.splice(m,1),(m=h.toNode.linksTo.indexOf(h))>-1&&h.toNode.linksTo.splice(m,1),A.removePoint.call(p,p.data.indexOf(h),!1,!1)}),p.points=p.data.slice(),p.nodes.splice(p.nodes.indexOf(y),1);v--;)if(c[v].id===y.options.id){p.options.nodes.splice(v,1);break}y&&y.destroy(),p.isDirty=!0,p.isDirtyData=!0,a&&p.chart.redraw(a)}else p.removePoint(p.data.indexOf(y),a,f)},d.prototype.renderLink=function(){var a;this.graphic||(this.graphic=this.series.chart.renderer.path(this.getLinkPath()).addClass(this.getClassName(),!0).add(this.series.group),this.series.chart.styledMode||(a=this.series.pointAttribs(this),this.graphic.attr(a),(this.dataLabels||[]).forEach(function(f){f&&f.attr({opacity:a.opacity})})))},d}(L);return g(S.prototype,{setState:X.setNodeState}),S}),j(U,"Series/Networkgraph/NetworkgraphSeriesDefaults.js",[],function(){return{stickyTracking:!1,inactiveOtherPoints:!0,marker:{enabled:!0,states:{inactive:{opacity:.3,animation:{duration:50}}}},states:{inactive:{linkOpacity:.3,animation:{duration:50}}},dataLabels:{formatter:function(){return this.key},linkFormatter:function(){return this.point.fromNode.name+"<br>"+this.point.toNode.name},linkTextPath:{enabled:!0},textPath:{enabled:!1},style:{transition:"opacity 2000ms"}},link:{color:"rgba(100, 100, 100, 0.5)",width:1},draggable:!0,layoutAlgorithm:{initialPositions:"circle",initialPositionRadius:1,enableSimulation:!1,theta:.5,maxSpeed:10,approximation:"none",type:"reingold-fruchterman",integration:"euler",maxIterations:1e3,gravitationalConstant:.0625,friction:-.981},showInLegend:!1}}),j(U,"Series/Networkgraph/EulerIntegration.js",[],function(){return{attractive:function X(t,s,g,b){var S=t.getMass(),l=g.x/b*s,d=g.y/b*s;t.fromNode.fixedPosition||(t.fromNode.dispX-=l*S.fromNode/t.fromNode.degree,t.fromNode.dispY-=d*S.fromNode/t.fromNode.degree),t.toNode.fixedPosition||(t.toNode.dispX+=l*S.toNode/t.toNode.degree,t.toNode.dispY+=d*S.toNode/t.toNode.degree)},attractiveForceFunction:function M(t,s){return t*t/s},barycenter:function N(){var t=this.options.gravitationalConstant,s=this.barycenter.xFactor,g=this.barycenter.yFactor;this.nodes.forEach(function(b){if(!b.fixedPosition){var S=b.getDegree(),l=S*(1+S/2);b.dispX+=(s-b.plotX)*t*l/b.degree,b.dispY+=(g-b.plotY)*t*l/b.degree}})},getK:function Z(t){return Math.pow(t.box.width*t.box.height/t.nodes.length,.3)},integrate:function R(t,s){var g;s.dispX+=s.dispX*t.options.friction,s.dispY+=s.dispY*t.options.friction,0!==(g=s.temperature=t.vectorLength({x:s.dispX,y:s.dispY}))&&(s.plotX+=s.dispX/g*Math.min(Math.abs(s.dispX),t.temperature),s.plotY+=s.dispY/g*Math.min(Math.abs(s.dispY),t.temperature))},repulsive:function A(t,s,g,b){t.dispX+=g.x/b*s/t.degree,t.dispY+=g.y/b*s/t.degree},repulsiveForceFunction:function L(t,s){return s*s/t}}}),j(U,"Series/Networkgraph/QuadTreeNode.js",[],function(){return function(){function M(N){this.body=!1,this.isEmpty=!1,this.isInternal=!1,this.nodes=[],this.box=N,this.boxSize=Math.min(N.width,N.height)}return M.prototype.divideBox=function(){var N=this.box.width/2,Z=this.box.height/2;this.nodes[0]=new M({left:this.box.left,top:this.box.top,width:N,height:Z}),this.nodes[1]=new M({left:this.box.left+N,top:this.box.top,width:N,height:Z}),this.nodes[2]=new M({left:this.box.left+N,top:this.box.top+Z,width:N,height:Z}),this.nodes[3]=new M({left:this.box.left,top:this.box.top+Z,width:N,height:Z})},M.prototype.getBoxPosition=function(N){var R=N.plotY<this.box.top+this.box.height/2;return N.plotX<this.box.left+this.box.width/2?R?0:3:R?1:2},M.prototype.insert=function(N,Z){var R;this.isInternal?this.nodes[this.getBoxPosition(N)].insert(N,Z-1):(this.isEmpty=!1,this.body?Z?(this.isInternal=!0,this.divideBox(),!0!==this.body&&(this.nodes[this.getBoxPosition(this.body)].insert(this.body,Z-1),this.body=!0),this.nodes[this.getBoxPosition(N)].insert(N,Z-1)):((R=new M({top:N.plotX||NaN,left:N.plotY||NaN,width:.1,height:.1})).body=N,R.isInternal=!1,this.nodes.push(R)):(this.isInternal=!1,this.body=N))},M.prototype.updateMassAndCenter=function(){var N=0,Z=0,R=0;if(this.isInternal){for(var A=0,L=this.nodes;A<L.length;A++){var x=L[A];x.isEmpty||(N+=x.mass,Z+=x.plotX*x.mass,R+=x.plotY*x.mass)}Z/=N,R/=N}else this.body&&(N=this.body.mass,Z=this.body.plotX,R=this.body.plotY);this.mass=N,this.plotX=Z,this.plotY=R},M}()}),j(U,"Series/Networkgraph/QuadTree.js",[U["Series/Networkgraph/QuadTreeNode.js"]],function(X){return function(){function N(Z,R,A,L){this.box={left:Z,top:R,width:A,height:L},this.maxDepth=25,this.root=new X(this.box),this.root.isInternal=!0,this.root.isRoot=!0,this.root.divideBox()}return N.prototype.calculateMassAndCenter=function(){this.visitNodeRecursive(null,null,function(Z){Z.updateMassAndCenter()})},N.prototype.insertNodes=function(Z){for(var R=0,A=Z;R<A.length;R++)this.root.insert(A[R],this.maxDepth)},N.prototype.visitNodeRecursive=function(Z,R,A){var L;if(Z||(Z=this.root),Z===this.root&&R&&(L=R(Z)),!1!==L){for(var x=0,t=Z.nodes;x<t.length;x++){var s=t[x];if(s.isInternal){if(R&&(L=R(s)),!1===L)continue;this.visitNodeRecursive(s,R,A)}else s.body&&R&&R(s.body);A&&A(s)}Z===this.root&&A&&A(Z)}},N}()}),j(U,"Series/Networkgraph/VerletIntegration.js",[],function(){return{attractive:function X(t,s,g){var b=t.getMass(),S=-g.x*s*this.diffTemperature,l=-g.y*s*this.diffTemperature;t.fromNode.fixedPosition||(t.fromNode.plotX-=S*b.fromNode/t.fromNode.degree,t.fromNode.plotY-=l*b.fromNode/t.fromNode.degree),t.toNode.fixedPosition||(t.toNode.plotX+=S*b.toNode/t.toNode.degree,t.toNode.plotY+=l*b.toNode/t.toNode.degree)},attractiveForceFunction:function M(t,s){return(s-t)/t},barycenter:function N(){var t=this.options.gravitationalConstant,s=this.barycenter.xFactor,g=this.barycenter.yFactor;s=(s-(this.box.left+this.box.width)/2)*t,g=(g-(this.box.top+this.box.height)/2)*t,this.nodes.forEach(function(b){b.fixedPosition||(b.plotX-=s/b.mass/b.degree,b.plotY-=g/b.mass/b.degree)})},getK:function Z(t){return Math.pow(t.box.width*t.box.height/t.nodes.length,.5)},integrate:function R(t,s){var g=-t.options.friction,b=t.options.maxSpeed,d=(s.plotX+s.dispX-s.prevX)*g,a=(s.plotY+s.dispY-s.prevY)*g,f=Math.abs,y=f(d)/(d||1),p=f(a)/(a||1);d=y*Math.min(b,Math.abs(d)),a=p*Math.min(b,Math.abs(a)),s.prevX=s.plotX+s.dispX,s.prevY=s.plotY+s.dispY,s.plotX+=d,s.plotY+=a,s.temperature=t.vectorLength({x:d,y:a})},repulsive:function A(t,s,g){var b=s*this.diffTemperature/t.mass/t.degree;t.fixedPosition||(t.plotX+=g.x*b,t.plotY+=g.y*b)},repulsiveForceFunction:function L(t,s){return(s-t)/t*(s>t?1:0)}}}),j(U,"Series/Networkgraph/ReingoldFruchtermanLayout.js",[U["Series/Networkgraph/EulerIntegration.js"],U["Core/Globals.js"],U["Series/GraphLayoutComposition.js"],U["Series/Networkgraph/QuadTree.js"],U["Core/Utilities.js"],U["Series/Networkgraph/VerletIntegration.js"]],function(X,M,N,Z,R,A){var L=M.win,x=R.clamp,t=R.defined,s=R.isFunction,g=R.pick,b=function(){function S(){this.attractiveForce=void 0,this.box={},this.currentStep=0,this.initialRendering=!0,this.integration=void 0,this.links=[],this.nodes=[],this.options=void 0,this.quadTree=void 0,this.repulsiveForce=void 0,this.series=[],this.simulation=!1}return S.compose=function(l){N.compose(l),N.integrations.euler=X,N.integrations.verlet=A,N.layouts["reingold-fruchterman"]=S},S.prototype.init=function(l){this.options=l,this.nodes=[],this.links=[],this.series=[],this.box={x:0,y:0,width:0,height:0},this.setInitialRendering(!0),this.integration=N.integrations[l.integration],this.enableSimulation=l.enableSimulation,this.attractiveForce=g(l.attractiveForce,this.integration.attractiveForceFunction),this.repulsiveForce=g(l.repulsiveForce,this.integration.repulsiveForceFunction),this.approximation=l.approximation},S.prototype.updateSimulation=function(l){this.enableSimulation=g(l,this.options.enableSimulation)},S.prototype.start=function(){var l=this,d=this.series,a=this.options;l.currentStep=0,l.forces=d[0]&&d[0].forces||[],l.chart=d[0]&&d[0].chart,l.initialRendering&&(l.initPositions(),d.forEach(function(f){f.finishedAnimating=!0,f.render()})),l.setK(),l.resetSimulation(a),l.enableSimulation&&l.step()},S.prototype.step=function(){var l=this,a=this.series;this.currentStep++,"barnes-hut"===this.approximation&&(this.createQuadTree(),this.quadTree.calculateMassAndCenter());for(var f=0,y=this.forces||[];f<y.length;f++)this[y[f]+"Forces"](this.temperature);if(this.applyLimits(),this.temperature=this.coolDown(this.startTemperature,this.diffTemperature,this.currentStep),this.prevSystemTemperature=this.systemTemperature,this.systemTemperature=this.getSystemTemperature(),this.enableSimulation){for(var c=0,m=a;c<m.length;c++){var v=m[c];v.chart&&v.render()}this.maxIterations--&&isFinite(this.temperature)&&!this.isStable()?(this.simulation&&L.cancelAnimationFrame(this.simulation),this.simulation=L.requestAnimationFrame(function(){return l.step()})):this.simulation=!1}},S.prototype.stop=function(){this.simulation&&L.cancelAnimationFrame(this.simulation)},S.prototype.setArea=function(l,d,a,f){this.box={left:l,top:d,width:a,height:f}},S.prototype.setK=function(){this.k=this.options.linkLength||this.integration.getK(this)},S.prototype.addElementsToCollection=function(l,d){for(var a=0,f=l;a<f.length;a++){var y=f[a];-1===d.indexOf(y)&&d.push(y)}},S.prototype.removeElementFromCollection=function(l,d){var a=d.indexOf(l);-1!==a&&d.splice(a,1)},S.prototype.clear=function(){this.nodes.length=0,this.links.length=0,this.series.length=0,this.resetSimulation()},S.prototype.resetSimulation=function(){this.forcedStop=!1,this.systemTemperature=0,this.setMaxIterations(),this.setTemperature(),this.setDiffTemperature()},S.prototype.restartSimulation=function(){this.simulation?this.resetSimulation():(this.setInitialRendering(!1),this.enableSimulation?this.start():this.setMaxIterations(1),this.chart&&this.chart.redraw(),this.setInitialRendering(!0))},S.prototype.setMaxIterations=function(l){this.maxIterations=g(l,this.options.maxIterations)},S.prototype.setTemperature=function(){this.temperature=this.startTemperature=Math.sqrt(this.nodes.length)},S.prototype.setDiffTemperature=function(){this.diffTemperature=this.startTemperature/(this.options.maxIterations+1)},S.prototype.setInitialRendering=function(l){this.initialRendering=l},S.prototype.createQuadTree=function(){this.quadTree=new Z(this.box.left,this.box.top,this.box.width,this.box.height),this.quadTree.insertNodes(this.nodes)},S.prototype.initPositions=function(){var l=this.options.initialPositions;if(s(l)){l.call(this);for(var d=0,a=this.nodes;d<a.length;d++){var f=a[d];t(f.prevX)||(f.prevX=f.plotX),t(f.prevY)||(f.prevY=f.plotY),f.dispX=0,f.dispY=0}}else"circle"===l?this.setCircularPositions():this.setRandomPositions()},S.prototype.setCircularPositions=function(){for(var l=this.box,d=this.nodes,f=2*Math.PI/(d.length+1),y=d.filter(function(H){return 0===H.linksTo.length}),p={},c=this.options.initialPositionRadius,m=function(H){for(var I=0,q=H.linksFrom||[];I<q.length;I++){var ot=q[I];p[ot.toNode.id]||(p[ot.toNode.id]=!0,v.push(ot.toNode),m(ot.toNode))}},v=[],h=0,n=y;h<n.length;h++){var k=n[h];v.push(k),m(k)}if(v.length)for(var u=0,_=d;u<_.length;u++){var T=_[u];-1===v.indexOf(T)&&v.push(T)}else v=d;for(var D,O=0,B=v.length;O<B;++O)(D=v[O]).plotX=D.prevX=g(D.plotX,l.width/2+c*Math.cos(O*f)),D.plotY=D.prevY=g(D.plotY,l.height/2+c*Math.sin(O*f)),D.dispX=0,D.dispY=0},S.prototype.setRandomPositions=function(){for(var y,l=this.box,d=this.nodes,a=d.length+1,f=function(m){var v=m*m/Math.PI;return v-Math.floor(v)},p=0,c=d.length;p<c;++p)(y=d[p]).plotX=y.prevX=g(y.plotX,l.width*f(p)),y.plotY=y.prevY=g(y.plotY,l.height*f(a+p)),y.dispX=0,y.dispY=0},S.prototype.force=function(l){for(var d=[],a=1;a<arguments.length;a++)d[a-1]=arguments[a];this.integration[l].apply(this,d)},S.prototype.barycenterForces=function(){this.getBarycenter(),this.force("barycenter")},S.prototype.getBarycenter=function(){for(var l=0,d=0,a=0,f=0,y=this.nodes;f<y.length;f++){var p=y[f];d+=p.plotX*p.mass,a+=p.plotY*p.mass,l+=p.mass}return this.barycenter={x:d,y:a,xFactor:d/l,yFactor:a/l},this.barycenter},S.prototype.barnesHutApproximation=function(l,d){var y,p,a=this.getDistXY(l,d),f=this.vectorLength(a);return l!==d&&0!==f&&(d.isInternal?d.boxSize/f<this.options.theta&&0!==f?(p=this.repulsiveForce(f,this.k),this.force("repulsive",l,p*d.mass,a,f),y=!1):y=!0:(p=this.repulsiveForce(f,this.k),this.force("repulsive",l,p*d.mass,a,f))),y},S.prototype.repulsiveForces=function(){var l=this;if("barnes-hut"===this.approximation)for(var d=function(T){a.quadTree.visitNodeRecursive(null,function(D){return l.barnesHutApproximation(T,D)})},a=this,f=0,y=this.nodes;f<y.length;f++)d(p=y[f]);else for(var c=void 0,m=void 0,v=void 0,h=0,n=this.nodes;h<n.length;h++)for(var p=n[h],k=0,u=this.nodes;k<u.length;k++){var _=u[k];p!==_&&!p.fixedPosition&&(v=this.getDistXY(p,_),0!==(m=this.vectorLength(v))&&(c=this.repulsiveForce(m,this.k),this.force("repulsive",p,c*_.mass,v,m)))}},S.prototype.attractiveForces=function(){for(var l,d,a,f=0,y=this.links;f<y.length;f++){var p=y[f];p.fromNode&&p.toNode&&(l=this.getDistXY(p.fromNode,p.toNode),0!==(d=this.vectorLength(l))&&(a=this.attractiveForce(d,this.k),this.force("attractive",p,a,l,d)))}},S.prototype.applyLimits=function(){for(var d=0,a=this.nodes;d<a.length;d++){var f=a[d];if(f.fixedPosition)return;this.integration.integrate(this,f),this.applyLimitBox(f,this.box),f.dispX=0,f.dispY=0}},S.prototype.applyLimitBox=function(l,d){var a=l.radius;l.plotX=x(l.plotX,d.left+a,d.width-a),l.plotY=x(l.plotY,d.top+a,d.height-a)},S.prototype.coolDown=function(l,d,a){return l-d*a},S.prototype.isStable=function(){return Math.abs(this.systemTemperature-this.prevSystemTemperature)<1e-5||this.temperature<=0},S.prototype.getSystemTemperature=function(){for(var l=0,d=0,a=this.nodes;d<a.length;d++)l+=a[d].temperature;return l},S.prototype.vectorLength=function(l){return Math.sqrt(l.x*l.x+l.y*l.y)},S.prototype.getDistR=function(l,d){var a=this.getDistXY(l,d);return this.vectorLength(a)},S.prototype.getDistXY=function(l,d){var a=l.plotX-d.plotX,f=l.plotY-d.plotY;return{x:a,y:f,absX:Math.abs(a),absY:Math.abs(f)}},S}();return b}),j(U,"Series/Networkgraph/NetworkgraphSeries.js",[U["Series/DragNodesComposition.js"],U["Series/GraphLayoutComposition.js"],U["Core/Globals.js"],U["Series/Networkgraph/NetworkgraphPoint.js"],U["Series/Networkgraph/NetworkgraphSeriesDefaults.js"],U["Series/NodesComposition.js"],U["Series/Networkgraph/ReingoldFruchtermanLayout.js"],U["Core/Series/SeriesRegistry.js"],U["Core/Utilities.js"]],function(X,M,N,Z,R,A,L,x,t){var v,s=this&&this.__extends||(v=function(h,n){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,u){k.__proto__=u}||function(k,u){for(var _ in u)u.hasOwnProperty(_)&&(k[_]=u[_])})(h,n)},function(h,n){function k(){this.constructor=h}v(h,n),h.prototype=null===n?Object.create(n):(k.prototype=n.prototype,new k)}),g=N.noop,b=x.series,S=x.seriesTypes,l=S.column.prototype,d=S.line.prototype,a=t.addEvent,f=t.defined,y=t.extend,p=t.merge,c=t.pick,m=function(v){function h(){var n=null!==v&&v.apply(this,arguments)||this;return n.data=void 0,n.nodes=void 0,n.options=void 0,n.points=void 0,n}return s(h,v),h.compose=function(n){X.compose(n),L.compose(n)},h.prototype.deferLayout=function(){var T,n=this.options.layoutAlgorithm,k=this.chart.graphLayoutsStorage,u=this.chart.graphLayoutsLookup,_=this.chart.options.chart;!this.visible||(k||(this.chart.graphLayoutsStorage=k={},this.chart.graphLayoutsLookup=u=[]),(T=k[n.type])||(n.enableSimulation=f(_.forExport)?!_.forExport:n.enableSimulation,k[n.type]=T=new M.layouts[n.type],T.init(n),u.splice(T.index,0,T)),this.layout=T,T.setArea(0,0,this.chart.plotWidth,this.chart.plotHeight),T.addElementsToCollection([this],T.series),T.addElementsToCollection(this.nodes,T.nodes),T.addElementsToCollection(this.points,T.links))},h.prototype.destroy=function(){this.layout&&this.layout.removeElementFromCollection(this,this.layout.series),A.destroy.call(this)},h.prototype.drawDataLabels=function(){var n=this.options.dataLabels.textPath;b.prototype.drawDataLabels.call(this,this.nodes),this.options.dataLabels.textPath=this.options.dataLabels.linkTextPath,b.prototype.drawDataLabels.call(this,this.data),this.options.dataLabels.textPath=n},h.prototype.generatePoints=function(){var n,k;for(A.generatePoints.apply(this,arguments),this.options.nodes&&this.options.nodes.forEach(function(u){this.nodeLookup[u.id]||(this.nodeLookup[u.id]=this.createNode(u.id))},this),k=this.nodes.length-1;k>=0;k--)(n=this.nodes[k]).degree=n.getDegree(),n.radius=c(n.marker&&n.marker.radius,this.options.marker&&this.options.marker.radius,0),this.nodeLookup[n.id]||n.remove();this.data.forEach(function(u){u.formatPrefix="link"}),this.indexateNodes()},h.prototype.getPointsCollection=function(){return this.nodes||[]},h.prototype.indexateNodes=function(){this.nodes.forEach(function(n,k){n.index=k})},h.prototype.init=function(n,k){var u=this;return v.prototype.init.call(this,n,k),a(this,"updatedData",function(){u.layout&&u.layout.stop()}),a(this,"afterUpdate",function(){u.nodes.forEach(function(_){_&&_.series&&_.resolveColor()})}),this},h.prototype.markerAttribs=function(n,k){var u=b.prototype.markerAttribs.call(this,n,k);return f(n.plotY)||(u.y=0),u.x=(n.plotX||0)-(u.width||0)/2,u},h.prototype.pointAttribs=function(n,k){var u=k||n&&n.state||"normal",_=b.prototype.pointAttribs.call(this,n,u),T=this.options.states[u];return n&&!n.isNode&&(_=n.getLinkAttributes(),T&&(_={stroke:T.linkColor||_.stroke,dashstyle:T.linkDashStyle||_.dashstyle,opacity:c(T.linkOpacity,_.opacity),"stroke-width":T.linkColor||_["stroke-width"]})),_},h.prototype.render=function(){var n=this,k=n.points,u=n.chart.hoverPoint,_=[];n.points=n.nodes,d.render.call(this),n.points=k,k.forEach(function(T){T.fromNode&&T.toNode&&(T.renderLink(),T.redrawLink())}),u&&u.series===n&&n.redrawHalo(u),n.chart.hasRendered&&!n.options.dataLabels.allowOverlap&&(n.nodes.concat(n.points).forEach(function(T){T.dataLabel&&_.push(T.dataLabel)}),n.chart.hideOverlappingLabels(_))},h.prototype.setState=function(n,k){k?(this.points=this.nodes.concat(this.data),b.prototype.setState.apply(this,arguments),this.points=this.data):b.prototype.setState.apply(this,arguments),!this.layout.simulation&&!n&&this.render()},h.prototype.translate=function(){this.processedXData||this.processData(),this.generatePoints(),this.deferLayout(),this.nodes.forEach(function(n){n.isInside=!0,n.linksFrom.forEach(function(k){k.shapeType="path",k.y=1})})},h.defaultOptions=p(b.defaultOptions,R),h}(b);return y(m.prototype,{pointClass:Z,animate:void 0,directTouch:!0,drawGraph:void 0,forces:["barycenter","repulsive","attractive"],hasDraggableNodes:!0,isCartesian:!1,noSharedTooltip:!0,pointArrayMap:["from","to"],requireSorting:!1,trackerGroups:["group","markerGroup","dataLabelsGroup"],buildKDTree:g,createNode:A.createNode,drawTracker:l.drawTracker,onMouseDown:X.onMouseDown,onMouseMove:X.onMouseMove,onMouseUp:X.onMouseUp,redrawHalo:X.redrawHalo}),x.registerSeriesType("networkgraph",m),m}),j(U,"masters/modules/networkgraph.src.js",[U["Core/Globals.js"],U["Series/Networkgraph/NetworkgraphSeries.js"]],function(X,M){M.compose(X.Chart)})},ct.exports?(W.default=W,ct.exports=W):(ut=[z(93470)],void 0!==(et=function(U){return W(U),W.Highcharts=U,W}.apply(wt,ut))&&(ct.exports=et))},4971:(ct,wt,z)=>{var ut,et,W;W=function(W){function U(j,X,M,N){j.hasOwnProperty(X)||(j[X]=N.apply(null,M),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:X,module:j[X]}})))}U(W=W?W._modules:{},"Series/NodesComposition.js",[W["Core/Series/SeriesRegistry.js"],W["Core/Utilities.js"]],function(j,X){var t,M=(j=j.series).prototype,N=j.prototype.pointClass.prototype,Z=X.defined,R=X.extend,A=X.find,L=X.merge,x=X.pick;return function(s){function g(){return this.data=[].concat(this.points||[],this.nodes),M.destroy.apply(this,arguments)}function b(){this.nodes&&(this.nodes.forEach(function(a){a.destroy()}),this.nodes.length=0),M.setData.apply(this,arguments)}function S(a){var f=arguments,y=this.isNode?this.linksTo.concat(this.linksFrom):[this.fromNode,this.toNode];"select"!==a&&y.forEach(function(p){p&&p.series&&(N.setState.apply(p,f),p.isNode||(p.fromNode.graphic&&N.setState.apply(p.fromNode,f),p.toNode&&p.toNode.graphic&&N.setState.apply(p.toNode,f)))}),N.setState.apply(this,f)}function l(a,f,y,p){var c=this,m=this.series.options.nodes,v=this.series.options.data,h=v&&v.length||0,n=v&&v[this.index];N.update.call(this,a,!this.isNode&&f,y,p),this.isNode&&(a=(m||[]).reduce(function(k,u,_){return c.id===u.id?_:k},-1),p=L(m&&m[a]||{},v&&v[this.index]||{}),v&&(n?v[this.index]=n:v.length=h),m?0<=a?m[a]=p:m.push(p):this.series.options.nodes=[p],x(f,!0)&&this.series.chart.redraw(y))}var d=[];s.compose=function(a,f){return-1===d.indexOf(a)&&(d.push(a),(a=a.prototype).setNodeState=S,a.setState=S,a.update=l),-1===d.indexOf(f)&&(d.push(f),(a=f.prototype).destroy=g,a.setData=b),f},s.createNode=function(a){var f=this.pointClass,y=function(m,v){return A(m,function(h){return h.id===v})},p=y(this.nodes,a);if(!p){y=this.options.nodes&&y(this.options.nodes,a);var c=(new f).init(this,R({className:"highcharts-node",isNode:!0,id:a,y:1},y));c.linksTo=[],c.linksFrom=[],c.getSum=function(){var m=0,v=0;return c.linksTo.forEach(function(h){m+=h.weight||0}),c.linksFrom.forEach(function(h){v+=h.weight||0}),Math.max(m,v)},c.offset=function(m,v){for(var h=0,n=0;n<c[v].length;n++){if(c[v][n]===m)return h;h+=c[v][n].weight}},c.hasShape=function(){var m=0;return c.linksTo.forEach(function(v){v.outgoing&&m++}),!c.linksTo.length||m!==c.linksTo.length},c.index=this.nodes.push(c)-1,p=c}return p.formatPrefix="node",p.name=p.name||p.options.id||"",p.mass=x(p.options.mass,p.options.marker&&p.options.marker.radius,this.options.marker&&this.options.marker.radius,4),p},s.destroy=g,s.generatePoints=function(){var a=this,f=this.chart,y={};M.generatePoints.call(this),this.nodes||(this.nodes=[]),this.colorCounter=0,this.nodes.forEach(function(p){p.linksFrom.length=0,p.linksTo.length=0,p.level=p.options.level}),this.points.forEach(function(p){Z(p.from)&&(y[p.from]||(y[p.from]=a.createNode(p.from)),y[p.from].linksFrom.push(p),p.fromNode=y[p.from],f.styledMode?p.colorIndex=x(p.options.colorIndex,y[p.from].colorIndex):p.color=p.options.color||y[p.from].color),Z(p.to)&&(y[p.to]||(y[p.to]=a.createNode(p.to)),y[p.to].linksTo.push(p),p.toNode=y[p.to]),p.name=p.name||p.id},this),this.nodeLookup=y},s.setNodeState=S,s.updateNode=l}(t||(t={})),t}),U(W,"Series/Sankey/SankeyPoint.js",[W["Core/Series/Point.js"],W["Core/Series/SeriesRegistry.js"],W["Core/Utilities.js"]],function(j,X,M){var R,N=this&&this.__extends||(R=function(A,L){return(R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,t){x.__proto__=t}||function(x,t){for(var s in t)t.hasOwnProperty(s)&&(x[s]=t[s])})(A,L)},function(A,L){function x(){this.constructor=A}R(A,L),A.prototype=null===L?Object.create(L):(x.prototype=L.prototype,new x)}),Z=M.defined;return function(R){function A(){var L=null!==R&&R.apply(this,arguments)||this;return L.className=void 0,L.fromNode=void 0,L.level=void 0,L.linkBase=void 0,L.linksFrom=void 0,L.linksTo=void 0,L.mass=void 0,L.nodeX=void 0,L.nodeY=void 0,L.options=void 0,L.series=void 0,L.toNode=void 0,L}return N(A,R),A.prototype.applyOptions=function(L,x){return j.prototype.applyOptions.call(this,L,x),Z(this.options.level)&&(this.options.column=this.column=this.options.level),this},A.prototype.getClassName=function(){return(this.isNode?"highcharts-node ":"highcharts-link ")+j.prototype.getClassName.call(this)},A.prototype.getFromNode=function(){for(var x,L=-1,t=0;t<this.linksTo.length;t++){var s=this.linksTo[t];s.fromNode.column>L&&s.fromNode!==this&&(L=(x=s.fromNode).column)}return{fromNode:x,fromColumn:L}},A.prototype.setNodeColumn=function(){Z(this.options.column)||(this.column=0===this.linksTo.length?0:this.getFromNode().fromColumn+1)},A.prototype.isValid=function(){return this.isNode||"number"==typeof this.weight},A}(X.seriesTypes.column.prototype.pointClass)}),U(W,"Series/Sankey/SankeySeriesDefaults.js",[],function(){return{borderWidth:0,colorByPoint:!0,curveFactor:.33,dataLabels:{enabled:!0,backgroundColor:"none",crop:!1,nodeFormat:void 0,nodeFormatter:function(){return this.point.name},format:void 0,formatter:function(){},inside:!0},inactiveOtherPoints:!0,linkOpacity:.5,opacity:1,minLinkWidth:0,nodeWidth:20,nodePadding:10,showInLegend:!1,states:{hover:{linkOpacity:1,opacity:1},inactive:{linkOpacity:.1,opacity:.1,animation:{duration:50}}},tooltip:{followPointer:!0,headerFormat:'<span style="font-size: 10px">{series.name}</span><br/>',pointFormat:"{point.fromNode.name} \u2192 {point.toNode.name}: <b>{point.weight}</b><br/>",nodeFormat:"{point.name}: <b>{point.sum}</b><br/>"}}}),U(W,"Series/Sankey/SankeyColumnComposition.js",[W["Core/Utilities.js"]],function(j){var N,X=j.defined,M=j.relativeLength;return function(Z){Z.compose=function(A,L){return A.sankeyColumn=new R(A,L),A};var R=function(){function A(L,x){this.points=L,this.series=x}return A.prototype.getTranslationFactor=function(L){for(var b,x=this.points,t=x.slice(),s=L.options.minLinkWidth||0,g=0,S=(L.chart.plotSizeY||0)-(L.options.borderWidth||0)-(x.length-1)*L.nodePadding;x.length;){for(g=S/x.sankeyColumn.sum(),L=!1,b=x.length;b--;)x[b].getSum()*g<s&&(x.splice(b,1),S-=s,L=!0);if(!L)break}return x.length=0,t.forEach(function(l){x.push(l)}),g},A.prototype.top=function(L){var x=this.series,t=x.nodePadding,s=this.points.reduce(function(g,b){return 0<g&&(g+=t),g+Math.max(b.getSum()*L,x.options.minLinkWidth||0)},0);return((x.chart.plotSizeY||0)-s)/2},A.prototype.left=function(L){var x=this.series,t=x.chart,s=x.options.equalNodes,g=t.inverted?t.plotHeight:t.plotWidth,b=x.nodePadding,S=this.points.reduce(function(l,d){return 0<l&&(l+=b),l+(s?g/d.series.nodes.length-b:Math.max(d.getSum()*L,x.options.minLinkWidth||0))},0);return((t.plotSizeX||0)-Math.round(S))/2},A.prototype.sum=function(){return this.points.reduce(function(L,x){return L+x.getSum()},0)},A.prototype.offset=function(L,x){var t=this.points,s=this.series,g=s.nodePadding,b=0;if(s.is("organization")&&L.hangsFrom)return{absoluteTop:L.hangsFrom.nodeY};for(var S=0;S<t.length;S++){var l=t[S].getSum(),d=Math.max(l*x,s.options.minLinkWidth||0),a=L.options[s.chart.inverted?"offsetHorizontal":"offsetVertical"],f=L.options.offset||0;if(l=l?d+g:0,t[S]===L)return{relativeTop:b+(X(a)?M(a,d):M(f,l))};b+=l}},A}();Z.SankeyColumnAdditions=R}(N||(N={})),N}),U(W,"Series/TreeUtilities.js",[W["Core/Color/Color.js"],W["Core/Utilities.js"]],function(j,X){var N=X.extend,Z=X.isArray,R=X.isNumber,A=X.isObject,L=X.merge,x=X.pick;return{getColor:function(t,s){var c,g=s.index,b=s.mapOptionsToLevel,S=s.parentColor,l=s.parentColorIndex,d=s.series,a=s.colors,f=s.siblings,y=d.points,p=d.chart.options.chart;if(t){if(y=y[t.i],t=b[t.level]||{},b=y&&t.colorByPoint)var m=y.index%(a?a.length:p.colorCount),v=a&&a[m];d.chart.styledMode||(a=y&&y.options.color,p=t&&t.color,(c=S)&&(c=(c=t&&t.colorVariation)&&"brightness"===c.key&&g&&f?j.parse(S).brighten(g/f*c.to).get():S),c=x(a,p,v,c,d.color));var h=x(y&&y.options.colorIndex,t&&t.colorIndex,m,l,s.colorIndex)}return{color:c,colorIndex:h}},getLevelOptions:function(t){var s={};if(A(t)){var g=R(t.from)?t.from:1,b=t.levels,S={},l=A(t.defaults)?t.defaults:{};for(Z(b)&&(S=b.reduce(function(d,a){if(A(a)&&R(a.level)){var f=L({},a),y=x(f.levelIsConstant,l.levelIsConstant);delete f.levelIsConstant,delete f.level,A(d[a=a.level+(y?0:g-1)])?L(!0,d[a],f):d[a]=f}return d},{})),b=R(t.to)?t.to:1,t=0;t<=b;t++)s[t]=L({},l,A(S[t])?S[t]:{})}return s},setTreeValues:function M(t,s){var g=s.before,b=s.idRoot,l=s.points[t.i],d=l&&l.options||{},a=[],f=0;return t.levelDynamic=t.level-(!1!==s.levelIsConstant?0:s.mapIdToNode[b].level),t.name=x(l&&l.name,""),t.visible=b===t.id||!0===s.visible,"function"==typeof g&&(t=g(t,s)),t.children.forEach(function(y,p){var c=N({},s);N(c,{index:p,siblings:t.children.length,visible:t.visible}),y=M(y,c),a.push(y),y.visible&&(f+=y.val)}),g=x(d.value,f),t.visible=0<=g&&(0<f||t.visible),t.children=a,t.childrenTotal=f,t.isLeaf=t.visible&&!f,t.val=g,t},updateRootId:function(t){if(A(t)){var s=A(t.options)?t.options:{};s=x(t.rootNode,s.rootId,""),A(t.userOptions)&&(t.userOptions.rootId=s),t.rootNode=s}return s}}}),U(W,"Series/Sankey/SankeySeries.js",[W["Core/Color/Color.js"],W["Core/Globals.js"],W["Series/NodesComposition.js"],W["Series/Sankey/SankeyPoint.js"],W["Series/Sankey/SankeySeriesDefaults.js"],W["Core/Series/SeriesRegistry.js"],W["Series/Sankey/SankeyColumnComposition.js"],W["Series/TreeUtilities.js"],W["Core/Utilities.js"]],function(j,X,M,N,Z,R,A,L,x){var y,t=this&&this.__extends||(y=function(p,c){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,v){m.__proto__=v}||function(m,v){for(var h in v)v.hasOwnProperty(h)&&(m[h]=v[h])})(p,c)},function(p,c){function m(){this.constructor=p}y(p,c),p.prototype=null===c?Object.create(c):(m.prototype=c.prototype,new m)}),s=R.series,g=R.seriesTypes.column,b=L.getLevelOptions;L=x.extend;var S=x.isObject,l=x.merge,d=x.pick,a=x.relativeLength,f=x.stableSort;return x=function(y){function p(){var c=null!==y&&y.apply(this,arguments)||this;return c.colDistance=void 0,c.data=void 0,c.group=void 0,c.nodeLookup=void 0,c.nodePadding=void 0,c.nodes=void 0,c.nodeWidth=void 0,c.options=void 0,c.points=void 0,c.translationFactor=void 0,c}return t(p,y),p.getDLOptions=function(c){var m=S(c.optionsPoint)?c.optionsPoint.dataLabels:{};return c=S(c.level)?c.level.dataLabels:{},l({style:{}},c,m)},p.prototype.createNodeColumns=function(){var c=[];this.nodes.forEach(function(v){v.setNodeColumn(),c[v.column]||(c[v.column]=A.compose([],this)),c[v.column].push(v)},this);for(var m=0;m<c.length;m++)typeof c[m]>"u"&&(c[m]=A.compose([],this));return c},p.prototype.order=function(c,m){var v=this;typeof c.level>"u"&&(c.level=m,c.linksFrom.forEach(function(h){h.toNode&&v.order(h.toNode,m+1)}))},p.prototype.generatePoints=function(){M.generatePoints.apply(this,arguments);var c=this;this.orderNodes&&(this.nodes.filter(function(m){return 0===m.linksTo.length}).forEach(function(m){c.order(m,0)}),f(this.nodes,function(m,v){return m.level-v.level}))},p.prototype.getNodePadding=function(){var c=this.options.nodePadding||0;if(this.nodeColumns){var m=this.nodeColumns.reduce(function(v,h){return Math.max(v,h.length)},0);m*c>this.chart.plotSizeY&&(c=this.chart.plotSizeY/m)}return c},p.prototype.hasData=function(){return!!this.processedXData.length},p.prototype.pointAttribs=function(c,m){if(!c)return{};var v=this,h=v.mapOptionsToLevel[(c.isNode?c.level:c.fromNode.level)||0]||{},n=c.options,k=h.states&&h.states[m||""]||{};m=["colorByPoint","borderColor","borderWidth","linkOpacity","opacity"].reduce(function(_,T){return _[T]=d(k[T],n[T],h[T],v.options[T]),_},{});var u=d(k.color,n.color,m.colorByPoint?c.color:h.color);return c.isNode?{fill:u,stroke:m.borderColor,"stroke-width":m.borderWidth,opacity:m.opacity}:{fill:j.parse(u).setOpacity(m.linkOpacity).get()}},p.prototype.drawTracker=function(){g.prototype.drawTracker.call(this,this.points),g.prototype.drawTracker.call(this,this.nodes)},p.prototype.drawPoints=function(){g.prototype.drawPoints.call(this,this.points),g.prototype.drawPoints.call(this,this.nodes)},p.prototype.drawDataLabels=function(){g.prototype.drawDataLabels.call(this,this.points),g.prototype.drawDataLabels.call(this,this.nodes)},p.prototype.translate=function(){this.processedXData||this.processData(),this.generatePoints(),this.nodeColumns=this.createNodeColumns(),this.nodeWidth=a(this.options.nodeWidth,this.chart.plotSizeX);var c=this,m=this.chart,v=this.options,h=this.nodeWidth,n=this.nodeColumns;this.nodePadding=this.getNodePadding(),this.translationFactor=n.reduce(function(k,u){return Math.min(k,u.sankeyColumn.getTranslationFactor(c))},1/0),this.colDistance=(m.plotSizeX-h-v.borderWidth)/Math.max(1,n.length-1),c.mapOptionsToLevel=b({from:1,levels:v.levels,to:n.length-1,defaults:{borderColor:v.borderColor,borderRadius:v.borderRadius,borderWidth:v.borderWidth,color:c.color,colorByPoint:v.colorByPoint,levelIsConstant:!0,linkColor:v.linkColor,linkLineWidth:v.linkLineWidth,linkOpacity:v.linkOpacity,states:v.states}}),n.forEach(function(k){k.forEach(function(u){c.translateNode(u,k)})},this),this.nodes.forEach(function(k){k.linksFrom.forEach(function(u){(u.weight||u.isNull)&&u.to&&(c.translateLink(u),u.allowShadow=!1)})})},p.prototype.translateLink=function(c){var m=function(pt,yt){return yt=pt.offset(c,yt)*k,Math.min(pt.nodeY+yt,pt.nodeY+(pt.shapeArgs&&pt.shapeArgs.height||0)-u)},v=c.fromNode,h=c.toNode,n=this.chart,k=this.translationFactor,u=Math.max(c.weight*k,this.options.minLinkWidth),_=(n.inverted?-this.colDistance:this.colDistance)*this.options.curveFactor,T=m(v,"linksFrom");m=m(h,"linksTo");var D=v.nodeX,O=this.nodeWidth,B=c.outgoing,H=(h=h.nodeX)>D+O;if(n.inverted&&(T=n.plotSizeY-T,m=(n.plotSizeY||0)-m,O=-O,u=-u,H=D>h),c.shapeType="path",c.linkBase=[T,T+u,m,m+u],H&&"number"==typeof m)c.shapeArgs={d:[["M",D+O,T],["C",D+O+_,T,h-_,m,h,m],["L",h+(B?O:0),m+u/2],["L",h,m+u],["C",h-_,m+u,D+O+_,T+u,D+O,T+u],["Z"]]};else if("number"==typeof m){var I=(H=D+O)+20,q=I+u,$=T+u,G=$+20,st=G+(n.plotHeight-T-u),it=st+20,at=it+u,ft=m+u,mt=ft+20,ht=it+.7*u,gt=h-.7*u,dt=H+.7*u;c.shapeArgs={d:[["M",H,T],["C",dt,T,q,$-.7*u,q,G],["L",q,st],["C",q,ht,dt,at,H,at],["L",h,at],["C",gt,at,_=h-20-u,ht,_,st],["L",_,mt],["C",_,ft-.7*u,gt,m,h,m],["L",h,ft],["C",B=h-20,ft,B,ft,B,mt],["L",B,st],["C",B,it,B,it,h,it],["L",H,it],["C",I,it,I,it,I,st],["L",I,G],["C",I,$,I,$,H,$],["Z"]]}}c.dlBox={x:D+(h-D+O)/2,y:T+(m-T)/2,height:u,width:0},c.tooltipPos=n.inverted?[n.plotSizeY-c.dlBox.y-u/2,n.plotSizeX-c.dlBox.x]:[c.dlBox.x,c.dlBox.y+u/2],c.y=c.plotY=1,c.x=c.plotX=1,c.color||(c.color=v.color)},p.prototype.translateNode=function(c,m){var v=this.translationFactor,h=this.chart,n=this.options,k=c.getSum(),u=Math.max(Math.round(k*v),this.options.minLinkWidth),_=Math.round(this.nodeWidth),T=Math.round(n.borderWidth)%2/2,D=m.sankeyColumn.offset(c,v);if(m=Math.floor(d(D.absoluteTop,m.sankeyColumn.top(v)+D.relativeTop))+T,T=Math.floor(this.colDistance*c.column+n.borderWidth/2)+a(c.options.offsetHorizontal||0,_)+T,T=h.inverted?h.plotSizeX-T:T,c.sum=k){c.shapeType="rect",c.nodeX=T,c.nodeY=m,k=T,v=m,D=c.options.width||n.width||_;var O=c.options.height||n.height||u;h.inverted&&(k=T-_,v=h.plotSizeY-m-u,D=c.options.height||n.height||_,O=c.options.width||n.width||u),c.dlOptions=p.getDLOptions({level:this.mapOptionsToLevel[c.level],optionsPoint:c.options}),c.plotX=1,c.plotY=1,c.tooltipPos=h.inverted?[h.plotSizeY-v-O/2,h.plotSizeX-k-D/2]:[k+D/2,v+O/2],c.shapeArgs={x:k,y:v,width:D,height:O,display:c.hasShape()?"":"none"}}else c.dlOptions={enabled:!1}},p.defaultOptions=l(g.defaultOptions,Z),p}(g),M.compose(N,x),L(x.prototype,{animate:s.prototype.animate,createNode:M.createNode,forceDL:!0,invertible:!0,isCartesian:!1,orderNodes:!0,noSharedTooltip:!0,pointArrayMap:["from","to","weight"],pointClass:N,searchPoint:X.noop}),R.registerSeriesType("sankey",x),x}),U(W,"masters/modules/sankey.src.js",[],function(){})},ct.exports?(W.default=W,ct.exports=W):(ut=[z(93470)],void 0!==(et=function(U){return W(U),W.Highcharts=U,W}.apply(wt,ut))&&(ct.exports=et))},3304:(ct,wt,z)=>{var ut,et,W;W=function(W){"use strict";var U=W?W._modules:{};function j(X,M,N,Z){X.hasOwnProperty(M)||(X[M]=Z.apply(null,N),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:M,module:X[M]}})))}j(U,"Series/NodesComposition.js",[U["Core/Series/SeriesRegistry.js"],U["Core/Utilities.js"]],function(X,M){var g,N=X.series,Z=N.prototype,R=N.prototype.pointClass.prototype,A=M.defined,L=M.extend,x=M.find,t=M.merge,s=M.pick;return function(b){var S=[];function a(){return this.data=[].concat(this.points||[],this.nodes),Z.destroy.apply(this,arguments)}function y(){this.nodes&&(this.nodes.forEach(function(m){m.destroy()}),this.nodes.length=0),Z.setData.apply(this,arguments)}function p(m){var v=arguments,h=this.isNode?this.linksTo.concat(this.linksFrom):[this.fromNode,this.toNode];"select"!==m&&h.forEach(function(n){n&&n.series&&(R.setState.apply(n,v),n.isNode||(n.fromNode.graphic&&R.setState.apply(n.fromNode,v),n.toNode&&n.toNode.graphic&&R.setState.apply(n.toNode,v)))}),R.setState.apply(this,v)}function c(m,v,h,n){var k=this,u=this.series.options.nodes,_=this.series.options.data,T=_&&_.length||0,D=_&&_[this.index];if(R.update.call(this,m,!this.isNode&&v,h,n),this.isNode){var O=(u||[]).reduce(function(H,I,q){return k.id===I.id?q:H},-1),B=t(u&&u[O]||{},_&&_[this.index]||{});_&&(D?_[this.index]=D:_.length=T),u?O>=0?u[O]=B:u.push(B):this.series.options.nodes=[B],s(v,!0)&&this.series.chart.redraw(h)}}b.compose=function l(m,v){if(-1===S.indexOf(m)){S.push(m);var h=m.prototype;h.setNodeState=p,h.setState=p,h.update=c}if(-1===S.indexOf(v)){S.push(v);var n=v.prototype;n.destroy=a,n.setData=y}return v},b.createNode=function d(m){var k,v=this.pointClass,h=function(_,T){return x(_,function(D){return D.id===T})},n=h(this.nodes,m);if(!n){k=this.options.nodes&&h(this.options.nodes,m);var u=(new v).init(this,L({className:"highcharts-node",isNode:!0,id:m,y:1},k));u.linksTo=[],u.linksFrom=[],u.getSum=function(){var _=0,T=0;return u.linksTo.forEach(function(D){_+=D.weight||0}),u.linksFrom.forEach(function(D){T+=D.weight||0}),Math.max(_,T)},u.offset=function(_,T){for(var D=0,O=0;O<u[T].length;O++){if(u[T][O]===_)return D;D+=u[T][O].weight}},u.hasShape=function(){var _=0;return u.linksTo.forEach(function(T){T.outgoing&&_++}),!u.linksTo.length||_!==u.linksTo.length},u.index=this.nodes.push(u)-1,n=u}return n.formatPrefix="node",n.name=n.name||n.options.id||"",n.mass=s(n.options.mass,n.options.marker&&n.options.marker.radius,this.options.marker&&this.options.marker.radius,4),n},b.destroy=a,b.generatePoints=function f(){var m=this,v=this.chart,h={};Z.generatePoints.call(this),this.nodes||(this.nodes=[]),this.colorCounter=0,this.nodes.forEach(function(n){n.linksFrom.length=0,n.linksTo.length=0,n.level=n.options.level}),this.points.forEach(function(n){A(n.from)&&(h[n.from]||(h[n.from]=m.createNode(n.from)),h[n.from].linksFrom.push(n),n.fromNode=h[n.from],v.styledMode?n.colorIndex=s(n.options.colorIndex,h[n.from].colorIndex):n.color=n.options.color||h[n.from].color),A(n.to)&&(h[n.to]||(h[n.to]=m.createNode(n.to)),h[n.to].linksTo.push(n),n.toNode=h[n.to]),n.name=n.name||n.id},this),this.nodeLookup=h},b.setNodeState=p,b.updateNode=c}(g||(g={})),g}),j(U,"Series/Sankey/SankeyPoint.js",[U["Core/Series/Point.js"],U["Core/Series/SeriesRegistry.js"],U["Core/Utilities.js"]],function(X,M,N){var x,Z=this&&this.__extends||(x=function(t,s){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,b){g.__proto__=b}||function(g,b){for(var S in b)b.hasOwnProperty(S)&&(g[S]=b[S])})(t,s)},function(t,s){function g(){this.constructor=t}x(t,s),t.prototype=null===s?Object.create(s):(g.prototype=s.prototype,new g)}),A=N.defined,L=function(x){function t(){var s=null!==x&&x.apply(this,arguments)||this;return s.className=void 0,s.fromNode=void 0,s.level=void 0,s.linkBase=void 0,s.linksFrom=void 0,s.linksTo=void 0,s.mass=void 0,s.nodeX=void 0,s.nodeY=void 0,s.options=void 0,s.series=void 0,s.toNode=void 0,s}return Z(t,x),t.prototype.applyOptions=function(s,g){return X.prototype.applyOptions.call(this,s,g),A(this.options.level)&&(this.options.column=this.column=this.options.level),this},t.prototype.getClassName=function(){return(this.isNode?"highcharts-node ":"highcharts-link ")+X.prototype.getClassName.call(this)},t.prototype.getFromNode=function(){for(var b,s=this,g=-1,S=0;S<s.linksTo.length;S++){var l=s.linksTo[S];l.fromNode.column>g&&l.fromNode!==s&&(g=(b=l.fromNode).column)}return{fromNode:b,fromColumn:g}},t.prototype.setNodeColumn=function(){var s=this;A(s.options.column)||(s.column=0===s.linksTo.length?0:s.getFromNode().fromColumn+1)},t.prototype.isValid=function(){return this.isNode||"number"==typeof this.weight},t}(M.seriesTypes.column.prototype.pointClass);return L}),j(U,"Series/Sankey/SankeySeriesDefaults.js",[],function(){return{borderWidth:0,colorByPoint:!0,curveFactor:.33,dataLabels:{enabled:!0,backgroundColor:"none",crop:!1,nodeFormat:void 0,nodeFormatter:function(){return this.point.name},format:void 0,formatter:function(){},inside:!0},inactiveOtherPoints:!0,linkOpacity:.5,opacity:1,minLinkWidth:0,nodeWidth:20,nodePadding:10,showInLegend:!1,states:{hover:{linkOpacity:1,opacity:1},inactive:{linkOpacity:.1,opacity:.1,animation:{duration:50}}},tooltip:{followPointer:!0,headerFormat:'<span style="font-size: 10px">{series.name}</span><br/>',pointFormat:"{point.fromNode.name} \u2192 {point.toNode.name}: <b>{point.weight}</b><br/>",nodeFormat:"{point.name}: <b>{point.sum}</b><br/>"}}}),j(U,"Series/Sankey/SankeyColumnComposition.js",[U["Core/Utilities.js"]],function(X){var Z,M=X.defined,N=X.relativeLength;return function(R){R.compose=function A(x,t){var s=x;return s.sankeyColumn=new L(s,t),s};var L=function(){function x(t,s){this.points=t,this.series=s}return x.prototype.getTranslationFactor=function(t){for(var l,a,s=this.points,g=s.slice(),S=t.options.minLinkWidth||0,d=0,f=(t.chart.plotSizeY||0)-(t.options.borderWidth||0)-(s.length-1)*t.nodePadding;s.length;){for(d=f/s.sankeyColumn.sum(),l=!1,a=s.length;a--;)s[a].getSum()*d<S&&(s.splice(a,1),f-=S,l=!0);if(!l)break}return s.length=0,g.forEach(function(y){s.push(y)}),d},x.prototype.top=function(t){var s=this.series,g=s.nodePadding,b=this.points.reduce(function(S,l){return S>0&&(S+=g),S+Math.max(l.getSum()*t,s.options.minLinkWidth||0)},0);return((s.chart.plotSizeY||0)-b)/2},x.prototype.left=function(t){var s=this.series,g=s.chart,b=s.options.equalNodes,S=g.inverted?g.plotHeight:g.plotWidth,l=s.nodePadding,d=this.points.reduce(function(a,f){return a>0&&(a+=l),a+(b?S/f.series.nodes.length-l:Math.max(f.getSum()*t,s.options.minLinkWidth||0))},0);return((g.plotSizeX||0)-Math.round(d))/2},x.prototype.sum=function(){return this.points.reduce(function(t,s){return t+s.getSum()},0)},x.prototype.offset=function(t,s){var d,g=this.points,b=this.series,S=b.nodePadding,l=0;if(b.is("organization")&&t.hangsFrom)return{absoluteTop:t.hangsFrom.nodeY};for(var a=0;a<g.length;a++){var f=g[a].getSum(),y=Math.max(f*s,b.options.minLinkWidth||0),p=t.options[b.chart.inverted?"offsetHorizontal":"offsetVertical"],c=t.options.offset||0;if(d=f?y+S:0,g[a]===t)return{relativeTop:l+(M(p)?N(p,y):N(c,d))};l+=d}},x}();R.SankeyColumnAdditions=L}(Z||(Z={})),Z}),j(U,"Series/TreeUtilities.js",[U["Core/Color/Color.js"],U["Core/Utilities.js"]],function(X,M){var N=M.extend,Z=M.isArray,R=M.isNumber,A=M.isObject,L=M.merge,x=M.pick;return{getColor:function t(l,d){var u,_,T,D,O,B,I,q,a=d.index,y=d.parentColor,p=d.parentColorIndex,c=d.series,m=d.colors,v=d.siblings;return l&&(_=d.mapOptionsToLevel[l.level]||{},(u=c.points[l.i])&&_.colorByPoint&&(D=u.index%(m?m.length:c.chart.options.chart.colorCount),T=m&&m[D]),c.chart.styledMode||(O=x(u&&u.options.color,_&&_.color,T,y&&(I=y,(q=_&&_.colorVariation)&&"brightness"===q.key&&a&&v?X.parse(I).brighten(q.to*(a/v)).get():I),c.color)),B=x(u&&u.options.colorIndex,_&&_.colorIndex,D,p,d.colorIndex)),{color:O,colorIndex:B}},getLevelOptions:function s(l){var a,f,y,p,c,m,d={};if(A(l))for(p=R(l.from)?l.from:1,m=l.levels,f={},a=A(l.defaults)?l.defaults:{},Z(m)&&(f=m.reduce(function(v,h){var n,k,u;return A(h)&&R(h.level)&&(u=L({},h),k=x(u.levelIsConstant,a.levelIsConstant),delete u.levelIsConstant,delete u.level,A(v[n=h.level+(k?0:p-1)])?L(!0,v[n],u):v[n]=u),v},{})),c=R(l.to)?l.to:1,y=0;y<=c;y++)d[y]=L({},a,A(f[y])?f[y]:{});return d},setTreeValues:function g(l,d){var a=d.before,f=d.idRoot,v=d.points[l.i],h=v&&v.options||{},n=[],k=0;l.levelDynamic=l.level-(!1!==d.levelIsConstant?0:d.mapIdToNode[f].level),l.name=x(v&&v.name,""),l.visible=f===l.id||!0===d.visible,"function"==typeof a&&(l=a(l,d)),l.children.forEach(function(_,T){var D=N({},d);N(D,{index:T,siblings:l.children.length,visible:l.visible}),_=g(_,D),n.push(_),_.visible&&(k+=_.val)});var u=x(h.value,k);return l.visible=u>=0&&(k>0||l.visible),l.children=n,l.childrenTotal=k,l.isLeaf=l.visible&&!k,l.val=u,l},updateRootId:function b(l){var d,a;return A(l)&&(a=A(l.options)?l.options:{},d=x(l.rootNode,a.rootId,""),A(l.userOptions)&&(l.userOptions.rootId=d),l.rootNode=d),d}}}),j(U,"Series/Sankey/SankeySeries.js",[U["Core/Color/Color.js"],U["Core/Globals.js"],U["Series/NodesComposition.js"],U["Series/Sankey/SankeyPoint.js"],U["Series/Sankey/SankeySeriesDefaults.js"],U["Core/Series/SeriesRegistry.js"],U["Series/Sankey/SankeyColumnComposition.js"],U["Series/TreeUtilities.js"],U["Core/Utilities.js"]],function(X,M,N,Z,R,A,L,x,t){var v,s=this&&this.__extends||(v=function(h,n){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,u){k.__proto__=u}||function(k,u){for(var _ in u)u.hasOwnProperty(_)&&(k[_]=u[_])})(h,n)},function(h,n){function k(){this.constructor=h}v(h,n),h.prototype=null===n?Object.create(n):(k.prototype=n.prototype,new k)}),g=A.series,b=A.seriesTypes.column,S=x.getLevelOptions,d=t.extend,a=t.isObject,f=t.merge,y=t.pick,p=t.relativeLength,c=t.stableSort,m=function(v){function h(){var n=null!==v&&v.apply(this,arguments)||this;return n.colDistance=void 0,n.data=void 0,n.group=void 0,n.nodeLookup=void 0,n.nodePadding=void 0,n.nodes=void 0,n.nodeWidth=void 0,n.options=void 0,n.points=void 0,n.translationFactor=void 0,n}return s(h,v),h.getDLOptions=function(n){var k=a(n.optionsPoint)?n.optionsPoint.dataLabels:{},u=a(n.level)?n.level.dataLabels:{};return f({style:{}},u,k)},h.prototype.createNodeColumns=function(){var n=[];this.nodes.forEach(function(u){u.setNodeColumn(),n[u.column]||(n[u.column]=L.compose([],this)),n[u.column].push(u)},this);for(var k=0;k<n.length;k++)typeof n[k]>"u"&&(n[k]=L.compose([],this));return n},h.prototype.order=function(n,k){var u=this;typeof n.level>"u"&&(n.level=k,n.linksFrom.forEach(function(_){_.toNode&&u.order(_.toNode,k+1)}))},h.prototype.generatePoints=function(){N.generatePoints.apply(this,arguments);var n=this;this.orderNodes&&(this.nodes.filter(function(k){return 0===k.linksTo.length}).forEach(function(k){n.order(k,0)}),c(this.nodes,function(k,u){return k.level-u.level}))},h.prototype.getNodePadding=function(){var n=this.options.nodePadding||0;if(this.nodeColumns){var k=this.nodeColumns.reduce(function(u,_){return Math.max(u,_.length)},0);k*n>this.chart.plotSizeY&&(n=this.chart.plotSizeY/k)}return n},h.prototype.hasData=function(){return!!this.processedXData.length},h.prototype.pointAttribs=function(n,k){if(!n)return{};var u=this,T=u.mapOptionsToLevel[(n.isNode?n.level:n.fromNode.level)||0]||{},D=n.options,O=T.states&&T.states[k||""]||{},B=["colorByPoint","borderColor","borderWidth","linkOpacity","opacity"].reduce(function(I,q){return I[q]=y(O[q],D[q],T[q],u.options[q]),I},{}),H=y(O.color,D.color,B.colorByPoint?n.color:T.color);return n.isNode?{fill:H,stroke:B.borderColor,"stroke-width":B.borderWidth,opacity:B.opacity}:{fill:X.parse(H).setOpacity(B.linkOpacity).get()}},h.prototype.drawTracker=function(){b.prototype.drawTracker.call(this,this.points),b.prototype.drawTracker.call(this,this.nodes)},h.prototype.drawPoints=function(){b.prototype.drawPoints.call(this,this.points),b.prototype.drawPoints.call(this,this.nodes)},h.prototype.drawDataLabels=function(){b.prototype.drawDataLabels.call(this,this.points),b.prototype.drawDataLabels.call(this,this.nodes)},h.prototype.translate=function(){this.processedXData||this.processData(),this.generatePoints(),this.nodeColumns=this.createNodeColumns(),this.nodeWidth=p(this.options.nodeWidth,this.chart.plotSizeX);var n=this,k=this.chart,u=this.options,_=this.nodeWidth,T=this.nodeColumns;this.nodePadding=this.getNodePadding(),this.translationFactor=T.reduce(function(D,O){return Math.min(D,O.sankeyColumn.getTranslationFactor(n))},1/0),this.colDistance=(k.plotSizeX-_-u.borderWidth)/Math.max(1,T.length-1),n.mapOptionsToLevel=S({from:1,levels:u.levels,to:T.length-1,defaults:{borderColor:u.borderColor,borderRadius:u.borderRadius,borderWidth:u.borderWidth,color:n.color,colorByPoint:u.colorByPoint,levelIsConstant:!0,linkColor:u.linkColor,linkLineWidth:u.linkLineWidth,linkOpacity:u.linkOpacity,states:u.states}}),T.forEach(function(D){D.forEach(function(O){n.translateNode(O,D)})},this),this.nodes.forEach(function(D){D.linksFrom.forEach(function(O){(O.weight||O.isNull)&&O.to&&(n.translateLink(O),O.allowShadow=!1)})})},h.prototype.translateLink=function(n){var k=function(Nt,Wt){var jt=Nt.offset(n,Wt)*D;return Math.min(Nt.nodeY+jt,Nt.nodeY+(Nt.shapeArgs&&Nt.shapeArgs.height||0)-O)},u=n.fromNode,_=n.toNode,T=this.chart,D=this.translationFactor,O=Math.max(n.weight*D,this.options.minLinkWidth),H=(T.inverted?-this.colDistance:this.colDistance)*this.options.curveFactor,I=k(u,"linksFrom"),q=k(_,"linksTo"),ot=u.nodeX,$=this.nodeWidth,G=_.nodeX,st=n.outgoing,it=G>ot+$;if(T.inverted&&(I=T.plotSizeY-I,q=(T.plotSizeY||0)-q,$=-$,O=-O,it=ot>G),n.shapeType="path",n.linkBase=[I,I+O,q,q+O],it&&"number"==typeof q)n.shapeArgs={d:[["M",ot+$,I],["C",ot+$+H,I,G-H,q,G,q],["L",G+(st?$:0),q+O/2],["L",G,q+O],["C",G-H,q+O,ot+$+H,I+O,ot+$,I+O],["Z"]]};else if("number"==typeof q){var ft=G-20-O,mt=G-20,gt=ot+$,dt=gt+20,pt=dt+O,Ct=I+O,Mt=Ct+20,Lt=Mt+(T.plotHeight-I-O),_t=Lt+20,At=_t+O,Pt=q+O,Zt=Pt+20,Ot=_t+.7*O,Xt=G-.7*O,Ft=gt+.7*O;n.shapeArgs={d:[["M",gt,I],["C",Ft,I,pt,Ct-.7*O,pt,Mt],["L",pt,Lt],["C",pt,Ot,Ft,At,gt,At],["L",G,At],["C",Xt,At,ft,Ot,ft,Lt],["L",ft,Zt],["C",ft,Pt-.7*O,Xt,q,G,q],["L",G,Pt],["C",mt,Pt,mt,Pt,mt,Zt],["L",mt,Lt],["C",mt,_t,mt,_t,G,_t],["L",gt,_t],["C",dt,_t,dt,_t,dt,Lt],["L",dt,Mt],["C",dt,Ct,dt,Ct,gt,Ct],["Z"]]}}n.dlBox={x:ot+(G-ot+$)/2,y:I+(q-I)/2,height:O,width:0},n.tooltipPos=T.inverted?[T.plotSizeY-n.dlBox.y-O/2,T.plotSizeX-n.dlBox.x]:[n.dlBox.x,n.dlBox.y+O/2],n.y=n.plotY=1,n.x=n.plotX=1,n.color||(n.color=u.color)},h.prototype.translateNode=function(n,k){var u=this.translationFactor,_=this.chart,T=this.options,D=n.getSum(),O=Math.max(Math.round(D*u),this.options.minLinkWidth),B=Math.round(this.nodeWidth),H=Math.round(T.borderWidth)%2/2,I=k.sankeyColumn.offset(n,u),q=Math.floor(y(I.absoluteTop,k.sankeyColumn.top(u)+I.relativeTop))+H,ot=Math.floor(this.colDistance*n.column+T.borderWidth/2)+p(n.options.offsetHorizontal||0,B)+H,$=_.inverted?_.plotSizeX-ot:ot;if(n.sum=D,D){n.shapeType="rect",n.nodeX=$,n.nodeY=q;var G=$,st=q,it=n.options.width||T.width||B,at=n.options.height||T.height||O;_.inverted&&(G=$-B,st=_.plotSizeY-q-O,it=n.options.height||T.height||B,at=n.options.width||T.width||O),n.dlOptions=h.getDLOptions({level:this.mapOptionsToLevel[n.level],optionsPoint:n.options}),n.plotX=1,n.plotY=1,n.tooltipPos=_.inverted?[_.plotSizeY-st-at/2,_.plotSizeX-G-it/2]:[G+it/2,st+at/2],n.shapeArgs={x:G,y:st,width:it,height:at,display:n.hasShape()?"":"none"}}else n.dlOptions={enabled:!1}},h.defaultOptions=f(b.defaultOptions,R),h}(b);return N.compose(Z,m),d(m.prototype,{animate:g.prototype.animate,createNode:N.createNode,forceDL:!0,invertible:!0,isCartesian:!1,orderNodes:!0,noSharedTooltip:!0,pointArrayMap:["from","to","weight"],pointClass:Z,searchPoint:M.noop}),A.registerSeriesType("sankey",m),m}),j(U,"masters/modules/sankey.src.js",[],function(){})},ct.exports?(W.default=W,ct.exports=W):(ut=[z(93470)],void 0!==(et=function(U){return W(U),W.Highcharts=U,W}.apply(wt,ut))&&(ct.exports=et))}}]);