(self.webpackChunkz4d_plugin=self.webpackChunkz4d_plugin||[]).push([[837],{86837:(nt,_t,X)=>{"use strict";X.r(_t),X.d(_t,{NetworkModule:()=>xo});var ht=X(93887),et=X(91346),Q=X(12168),S=X(69820),K=X(38833),O=X(2501),I=X(55782),E=X(10467),t=X(54438),T=X(71985),N=X(43236),j=X(39974),P=X(54360),c=X(58750),m=X(41584);var f=X(88141),k=X(96354),n=X(33726),s=X(25558),d=X(7673),l=X(56977),g=X(84412),b=X(57786),p=X(23294),v=X(91986),D=X(983),r=X(70980);function u(o,F=!1){return(0,j.N)((e,i)=>{let a=0;e.subscribe((0,P._)(i,M=>{const x=o(M,a++);(x||F)&&i.next(M),!x&&i.complete()}))})}var C=X(30536),y=X(60177);let A;try{A=typeof Intl<"u"&&Intl.v8BreakIterator}catch{A=!1}let z=(()=>{class o{constructor(e){this._platformId=e,this.isBrowser=this._platformId?(0,y.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!A)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#t=this.\u0275fac=function(i){return new(i||o)(t.KVO(t.Agw))};static#e=this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var U=function(o){return o[o.NORMAL=0]="NORMAL",o[o.NEGATED=1]="NEGATED",o[o.INVERTED=2]="INVERTED",o}(U||{});let G;const gt=new t.nKC("cdk-dir-doc",{providedIn:"root",factory:function St(){return(0,t.WQX)(y.qQ)}}),dt=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let mt=(()=>{class o{constructor(e){this.value="ltr",this.change=new t.bkB,e&&(this.value=function ct(o){const F=o?.toLowerCase()||"";return"auto"===F&&typeof navigator<"u"&&navigator?.language?dt.test(navigator.language)?"rtl":"ltr":"rtl"===F?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#t=this.\u0275fac=function(i){return new(i||o)(t.KVO(gt,8))};static#e=this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var kt=X(89079),Qt=X(21413),me=X(96697),ve=X(85412);const ke="function"==typeof Float32Array;function Zt(o,F){return 1-3*F+3*o}function Kt(o,F){return 3*F-6*o}function qt(o){return 3*o}function At(o,F,e){return((Zt(F,e)*o+Kt(F,e))*o+qt(F))*o}function Jt(o,F,e){return 3*Zt(F,e)*o*o+2*Kt(F,e)*o+qt(F)}function Fe(o){return o}function Me(o,F,e,i){if(!(0<=o&&o<=1&&0<=e&&e<=1))throw new Error("bezier x values must be in [0, 1] range");if(o===F&&e===i)return Fe;const a=ke?new Float32Array(11):new Array(11);for(let x=0;x<11;++x)a[x]=At(.1*x,o,e);return function(L){return 0===L?0:1===L?1:At(function M(x){let L=0,R=1;for(;10!==R&&a[R]<=x;++R)L+=.1;--R;const ut=L+(x-a[R])/(a[R+1]-a[R])*.1,wt=Jt(ut,o,e);return wt>=.001?function Ce(o,F,e,i){for(let a=0;a<4;++a){const M=Jt(F,e,i);if(0===M)return F;F-=(At(F,e,i)-o)/M}return F}(x,ut,o,e):0===wt?ut:function xe(o,F,e,i,a){let M,x,L=0;do{x=F+(e-F)/2,M=At(x,i,a)-o,M>0?e=x:F=x}while(Math.abs(M)>1e-7&&++L<10);return x}(x,L,L+.1,o,e)}(L),F,i)}}const Ee=new t.nKC("SMOOTH_SCROLL_OPTIONS");let Pe=(()=>{class o{get _w(){return this._document.defaultView}get _now(){return this._w.performance?.now?.bind(this._w.performance)||Date.now}constructor(e,i,a){this._document=e,this._platform=i,this.rtlScrollAxisType=function tt(){if("object"!=typeof document||!document)return U.NORMAL;if(null==G){const o=document.createElement("div"),F=o.style;o.dir="rtl",F.width="1px",F.overflow="auto",F.visibility="hidden",F.pointerEvents="none",F.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",o.appendChild(e),document.body.appendChild(o),G=U.NORMAL,0===o.scrollLeft&&(o.scrollLeft=1,G=0===o.scrollLeft?U.NEGATED:U.INVERTED),o.remove()}return G}(),this._onGoingScrolls=new Map,this._defaultOptions={duration:468,easing:{x1:.42,y1:0,x2:.58,y2:1},...a}}_scrollElement(e,i,a){e.scrollLeft=i,e.scrollTop=a}_getElement(e,i){return"string"==typeof e?(i||this._document).querySelector(e):function zt(o){return o instanceof t.aKT?o.nativeElement:o}(e)}_initSmoothScroll(e){return this._onGoingScrolls.has(e)&&this._onGoingScrolls.get(e).next(),this._onGoingScrolls.set(e,new Qt.B).get(e)}_isFinished(e,i,a){return e.currentX!==e.x||e.currentY!==e.y||(i.next(),a(),!1)}_interrupted(e,i){return(0,b.h)((0,n.R)(e,"wheel",{passive:!0,capture:!0}),(0,n.R)(e,"touchmove",{passive:!0,capture:!0}),i).pipe((0,me.s)(1))}_destroy(e,i){i.complete(),this._onGoingScrolls.delete(e)}_step(e){return new T.c(i=>{let a=(this._now()-e.startTime)/e.duration;a=a>1?1:a;const M=e.easing(a);e.currentX=e.startX+(e.x-e.startX)*M,e.currentY=e.startY+(e.y-e.startY)*M,this._scrollElement(e.scrollable,e.currentX,e.currentY),C.X.schedule(()=>i.next(e))})}_applyScrollToOptions(e,i){if(!i.duration)return this._scrollElement(e,i.left,i.top),Promise.resolve();const a=this._initSmoothScroll(e),M={scrollable:e,startTime:this._now(),startX:e.scrollLeft,startY:e.scrollTop,x:null==i.left?e.scrollLeft:~~i.left,y:null==i.top?e.scrollTop:~~i.top,duration:i.duration,easing:Me(i.easing.x1,i.easing.y1,i.easing.x2,i.easing.y2)};return new Promise(x=>{(0,d.of)(null).pipe(function be(o,F=1/0,e){return F=(F||0)<1?1/0:F,(0,j.N)((i,a)=>(0,ve.h)(i,a,o,F,void 0,!0,e))}(()=>this._step(M).pipe(u(L=>this._isFinished(L,a,x)))),(0,l.Q)(this._interrupted(e,a)),(0,r.j)(()=>this._destroy(e,a))).subscribe()})}scrollTo(e,i){if((0,y.UE)(this._platform)){const a=this._getElement(e),M="rtl"===getComputedStyle(a).direction,x={...this._defaultOptions,...i,left:null==i.left?M?i.end:i.start:i.left,right:null==i.right?M?i.start:i.end:i.right};return null!=x.bottom&&(x.top=a.scrollHeight-a.clientHeight-x.bottom),M&&this.rtlScrollAxisType!==U.NORMAL?(null!=x.left&&(x.right=a.scrollWidth-a.clientWidth-x.left),this.rtlScrollAxisType===U.INVERTED?x.left=x.right:this.rtlScrollAxisType===U.NEGATED&&(x.left=x.right?-x.right:x.right)):null!=x.right&&(x.left=a.scrollWidth-a.clientWidth-x.right),this._applyScrollToOptions(a,x)}return Promise.resolve()}scrollToElement(e,i,a={}){const M=this._getElement(e),x=this._getElement(i,M),L={...a,left:x.offsetLeft+(a.left||0),top:x.offsetTop+(a.top||0)};return x?this.scrollTo(M,L):Promise.resolve()}static#t=this.\u0275fac=function(i){return new(i||o)(t.KVO(y.qQ),t.KVO(t.Agw),t.KVO(Ee,8))};static#e=this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const Ne=["scrollbarButton",""];function Oe(o,F){if(1&o&&t.nrm(0,"button",5)(1,"button",6),2&o){const e=t.XpG();t.ZvI("ng-scrollbar-button ",e.cmp.buttonClass,""),t.R7$(),t.ZvI("ng-scrollbar-button ",e.cmp.buttonClass,"")}}function Te(o,F){if(1&o&&t.nrm(0,"button",5)(1,"button",6),2&o){const e=t.XpG();t.ZvI("ng-scrollbar-button ",e.cmp.buttonClass,""),t.R7$(),t.ZvI("ng-scrollbar-button ",e.cmp.buttonClass,"")}}function Ie(o,F){1&o&&t.nrm(0,"scrollbar-y")}function Le(o,F){1&o&&t.nrm(0,"scrollbar-x")}const je=["contentWrapper"],Re=["*"];let ze=(()=>{class o{constructor(){this.nativeElement=(0,t.WQX)(t.aKT).nativeElement}static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275dir=t.FsC({type:o,selectors:[["","scrollViewport",""]],standalone:!0})}return o})();var It=function(o){return o.AfterInit="AfterInit",o.Resized="ResizeObserver",o}(It||{});const te=new t.nKC("NG_SCROLLBAR_OPTIONS"),ee=new t.nKC("NG_SCROLLBAR_POLYFILL");function oe({element:o,contentWrapper:F,throttleDuration:e}){let a,i=It.AfterInit;const M=new T.c(x=>(a=new ResizeObserver(()=>{x.next(i),i=It.Resized}),a.observe(o),F&&a.observe(F),()=>{a?.disconnect()}));return e?M.pipe(function _(o,F=N.E,e){const i=(0,m.O)(o,F);return function h(o,F){return(0,j.N)((e,i)=>{const{leading:a=!0,trailing:M=!1}=F??{};let x=!1,L=null,R=null,W=!1;const yt=()=>{R?.unsubscribe(),R=null,M&&(ge(),W&&i.complete())},ut=()=>{R=null,W&&i.complete()},wt=Mt=>R=(0,c.Tg)(o(Mt)).subscribe((0,P._)(i,yt,ut)),ge=()=>{if(x){x=!1;const Mt=L;L=null,i.next(Mt),!W&&wt(Mt)}};e.subscribe((0,P._)(i,Mt=>{x=!0,L=Mt,(!R||R.closed)&&(a?ge():wt(Mt))},()=>{W=!0,(!(M&&x&&R)||R.closed)&&i.complete()}))})}(()=>i,e)}(e,null,{leading:!0,trailing:!0})):M}function Yt(o){return(0,f.M)(()=>o.onselectstart=()=>!1)}function Wt(o){return(0,f.M)(()=>o.onselectstart=null)}function Nt(){return(0,f.M)(o=>{o.preventDefault(),o.stopPropagation()})}var Ut=function(o){return o.Viewport="ng-scroll-viewport",o.Content="ng-scroll-content",o}(Ut||{});class Be{constructor(){this.initialized=(0,t.vPA)(!1)}get offsetHeight(){return this.nativeElement.getBoundingClientRect().height}get offsetWidth(){return this.nativeElement.getBoundingClientRect().width}get scrollTop(){return this.nativeElement.scrollTop}get scrollLeft(){return this.nativeElement.scrollLeft}get contentHeight(){return this.contentWrapperElement.getBoundingClientRect().height}get contentWidth(){return this.contentWrapperElement.getBoundingClientRect().width}get scrollMaxX(){return this.contentWidth-this.offsetWidth}get scrollMaxY(){return this.contentHeight-this.offsetHeight}init(F,e,i){F.classList.add(Ut.Viewport),this.nativeElement=F,e.classList.add(Ut.Content),i?(i.style.position="relative",this.contentWrapperElement=i):this.contentWrapperElement=e,this.initialized.set(!0)}scrollYTo(F){this.nativeElement.scrollTop=F}scrollXTo(F){this.nativeElement.scrollLeft=F}}const Lt=new t.nKC("NG_SCROLLBAR"),re={trackClass:"",thumbClass:"",buttonClass:"",orientation:"auto",appearance:"native",visibility:"native",position:"native",trackScrollDuration:50,sensorThrottleTime:0,disableSensor:!1,disableInteraction:!1,buttons:!1};let Ae=(()=>{class o{constructor(){this.injectedOptions=(0,t.WQX)(te,{optional:!0}),this.options=this.injectedOptions?{...re,...this.injectedOptions}:re,this.zone=(0,t.WQX)(t.SKi),this.platform=(0,t.WQX)(z),this.injector=(0,t.WQX)(t.zZn),this.isMobile=this.platform.IOS||this.platform.ANDROID,this.dir=(0,t.WQX)(mt),this.smoothScroll=(0,t.WQX)(Pe),this.nativeElement=(0,t.WQX)(t.aKT).nativeElement,this.dragging=(0,t.vPA)("none"),this.orientation=(0,t.hFB)(this.options.orientation),this.visibility=(0,t.hFB)(this.options.visibility),this.buttons=(0,t.hFB)(this.options.buttons,{transform:t.L39}),this.disableInteraction=(0,t.hFB)(this.options.disableInteraction,{transform:t.L39}),this.disableSensor=(0,t.hFB)(this.options.disableSensor,{transform:t.L39}),this.sensorThrottleTime=(0,t.hFB)(this.options.sensorThrottleTime,{transform:t.Udg}),this.viewportDimension=(0,t.vPA)({contentHeight:0,contentWidth:0,offsetHeight:0,offsetWidth:0}),this.state=(0,t.EWP)(()=>{let e=!1,i=!1,a=!1,M=!1;const x=this.orientation(),L=this.visibility(),R=this.viewportDimension();return("auto"===x||"vertical"===x)&&(a=R.contentHeight>R.offsetHeight,e="visible"===L||a),("auto"===x||"horizontal"===x)&&(M=R.contentWidth>R.offsetWidth,i="visible"===L||M),{verticalUsed:e,horizontalUsed:i,isVerticallyScrollable:a,isHorizontallyScrollable:M}}),this.isVerticallyScrollable=(0,t.EWP)(()=>this.state().isVerticallyScrollable),this.isHorizontallyScrollable=(0,t.EWP)(()=>this.state().isHorizontallyScrollable),this.verticalUsed=(0,t.EWP)(()=>this.state().verticalUsed),this.horizontalUsed=(0,t.EWP)(()=>this.state().horizontalUsed),this.trackScrollDuration=this.options.trackScrollDuration,this.appearance=this.options.appearance,this.position=this.options.position,this.trackClass=this.options.trackClass,this.thumbClass=this.options.thumbClass,this.buttonClass=this.options.thumbClass,this.afterInit=new t.bkB,this.afterUpdate=new t.bkB,this.viewport=new Be}ngOnInit(){(0,t.N4e)(this.injector,()=>{this.direction=(0,kt.ot)(this.dir.change.pipe((0,k.T)(()=>this.dir.value)),{initialValue:this.dir.value}),(0,t.QZP)(e=>{this.disableSensor()?this.sizeChangeSub?.unsubscribe():this.platform.isBrowser&&this.viewport.initialized()&&(this.sizeChangeSub?.unsubscribe(),this.zone.runOutsideAngular(()=>{this.sizeChangeSub=oe({element:this.viewport.nativeElement,contentWrapper:this.viewport.contentWrapperElement,throttleDuration:this.sensorThrottleTime()}).pipe((0,f.M)(i=>this.update(i))).subscribe()})),e(()=>this.sizeChangeSub?.unsubscribe())})})}ngAfterViewInit(){this.platform.isBrowser&&this.disableSensor()&&requestAnimationFrame(()=>{this.update(It.AfterInit)})}update(e){this.updateCSSVariables(),this.zone.run(()=>{this.viewportDimension.set({contentHeight:this.viewport.contentHeight,contentWidth:this.viewport.contentWidth,offsetHeight:this.viewport.offsetHeight,offsetWidth:this.viewport.offsetWidth}),e===It.AfterInit?this.afterInit.emit():this.afterUpdate.emit()})}scrollTo(e){return this.smoothScroll.scrollTo(this.viewport.nativeElement,e)}scrollToElement(e,i){return this.smoothScroll.scrollToElement(this.viewport.nativeElement,e,i)}updateCSSVariables(){this.nativeElement.style.setProperty("--content-height",`${this.viewport.contentHeight}`),this.nativeElement.style.setProperty("--content-width",`${this.viewport.contentWidth}`),this.nativeElement.style.setProperty("--viewport-height",`${this.viewport.offsetHeight}`),this.nativeElement.style.setProperty("--viewport-width",`${this.viewport.offsetWidth}`)}static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275dir=t.FsC({type:o,hostVars:14,hostBindings:function(i,a){2&i&&(t.BMQ("verticalUsed",a.verticalUsed())("horizontalUsed",a.horizontalUsed())("isVerticallyScrollable",a.isVerticallyScrollable())("isHorizontallyScrollable",a.isHorizontallyScrollable())("mobile",a.isMobile)("dir",a.direction())("position",a.position)("dragging",a.dragging())("appearance",a.appearance)("visibility",a.visibility())("orientation",a.orientation())("disableInteraction",a.disableInteraction()),t.AVh("ng-scrollbar",!0))},inputs:{orientation:[t.Mj6.SignalBased,"orientation"],visibility:[t.Mj6.SignalBased,"visibility"],buttons:[t.Mj6.SignalBased,"buttons"],disableInteraction:[t.Mj6.SignalBased,"disableInteraction"],disableSensor:[t.Mj6.SignalBased,"disableSensor"],sensorThrottleTime:[t.Mj6.SignalBased,"sensorThrottleTime"],trackScrollDuration:[t.Mj6.HasDecoratorInputTransform,"trackScrollDuration","trackScrollDuration",t.Udg],appearance:"appearance",position:"position",trackClass:"trackClass",thumbClass:"thumbClass",buttonClass:"buttonClass"},outputs:{afterInit:"afterInit",afterUpdate:"afterUpdate"},features:[t.Jv_([{provide:Lt,useExisting:o}]),t.GFd]})}return o})(),ie=(()=>{class o{constructor(){this.isBrowser=(0,y.UE)((0,t.WQX)(t.Agw)),this._polyfillUrl=(0,t.WQX)(ee,{optional:!0})||"https://flackr.github.io/scroll-timeline/dist/scroll-timeline.js",this.document=(0,t.WQX)(y.qQ),this.window=this.document.defaultView,this.scrollTimelinePolyfill=(0,t.vPA)(null),this.isBrowser&&(!this.window.ScrollTimeline||!CSS.supports("animation-timeline","scroll()"))&&this.initPolyfill()}initPolyfill(){var e=this;return(0,E.A)(function*(){try{const i=e.document.createElement("script");i.src=e._polyfillUrl,yield new Promise((a,M)=>{i.onload=a,i.onerror=M,e.document.head.appendChild(i)}),e.window.ScrollTimeline?e.scrollTimelinePolyfill.set(e.window.ScrollTimeline):console.error("[NgScrollbar]: ScrollTimeline is not attached to the window object.")}catch(i){console.error("[NgScrollbar]: Error loading ScrollTimeline script:",i)}})()}static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const Gt=new t.nKC("SCROLLBAR_CONTROL");let se=(()=>{class o{constructor(){this.cmp=(0,t.WQX)(Lt)}static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275dir=t.FsC({type:o})}return o})(),Vt=(()=>{class o{constructor(){this.cmp=(0,t.WQX)(Lt),this.control=(0,t.WQX)(Gt),this.document=(0,t.WQX)(y.qQ),this.zone=(0,t.WQX)(t.SKi),this.nativeElement=(0,t.WQX)(t.aKT).nativeElement,(0,t.QZP)(e=>{this.cmp.disableInteraction()?this._pointerEventsSub?.unsubscribe():this.zone.runOutsideAngular(()=>{this._pointerEventsSub=this.pointerEvents.subscribe()}),e(()=>this._pointerEventsSub?.unsubscribe())})}static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275dir=t.FsC({type:o})}return o})(),jt=(()=>{class o extends Vt{get trackMax(){return this.track.size-this.size}get clientRect(){return this.nativeElement.getBoundingClientRect()}get pointerEvents(){return(0,n.R)(this.nativeElement,"pointerdown").pipe(Nt(),Yt(this.document),(0,s.n)(e=>{let i,a;const M=(0,d.of)(e).pipe((0,f.M)(()=>{i=this.trackMax,a=this.control.viewportScrollMax,this.setDragging(this.control.axis)})),x=(0,n.R)(this.document,"pointermove").pipe(Nt()),L=(0,n.R)(this.document,"pointerup",{capture:!0}).pipe(Nt(),Wt(this.document),(0,f.M)(()=>this.setDragging("none")));return M.pipe((0,k.T)(R=>R[this.control.clientProperty]),(0,k.T)(R=>R-this.dragStartOffset),(0,s.n)(R=>x.pipe((0,k.T)(W=>W[this.control.clientProperty]),(0,k.T)(W=>W-this.track.offset),(0,k.T)(W=>a*(W-R)/i),(0,f.M)(W=>this.control.instantScrollTo(W,a)),(0,l.Q)(L))))}))}constructor(){(0,t.QZP)(()=>{const e=this.manager.scrollTimelinePolyfill();e&&!this._animation&&(this._animation=function Ye(o,F,e,i){return F.animate({translate:["var(--_scrollbar-thumb-transform-from)","var(--_scrollbar-thumb-transform-to)"]},{fill:"both",easing:"linear",timeline:new o({source:e,axis:i})})}(e,this.nativeElement,this.cmp.viewport.nativeElement,this.control.axis))}),super(),this.manager=(0,t.WQX)(ie),this.track=(0,t.WQX)(Rt)}setDragging(e){this.zone.run(()=>this.cmp.dragging.set(e))}static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275dir=t.FsC({type:o,features:[t.Vt3]})}return o})(),Rt=(()=>{class o extends Vt{get clientRect(){return this.nativeElement.getBoundingClientRect()}get pointerEvents(){const e=(0,n.R)(this.nativeElement,"pointerdown").pipe(Nt(),Yt(this.document)),i=(0,n.R)(this.document,"pointerup",{passive:!0}).pipe(Wt(this.document)),a=(0,n.R)(this.nativeElement,"pointermove",{passive:!0}).pipe((0,k.T)(L=>(this.currMousePosition=L[this.control.clientProperty],!0))),M=(0,n.R)(this.nativeElement,"pointerout",{passive:!0}).pipe((0,k.T)(()=>!1)),x=new g.t(!0);return e.pipe((0,s.n)(L=>((0,b.h)(a,M).pipe((0,p.F)(),(0,f.M)(R=>x.next(R)),(0,l.Q)(i)).subscribe(),(0,n.R)(this.thumb.nativeElement,"pointermove").pipe(Nt(),(0,l.Q)(i)).subscribe(),this.onTrackFirstClick(L).pipe((0,v.c)(200),(0,s.n)(()=>x.pipe((0,s.n)(R=>{const W=this.getScrollDirection(this.currMousePosition);return R&&this.scrollDirection===W?this.onTrackOngoingMousedown():D.w}),(0,r.j)(()=>{x.next(!0)}))),(0,l.Q)(i)))))}constructor(){(0,t.QZP)(e=>{this.cmp.disableSensor()?(this.update(),this.sizeChangeSub?.unsubscribe()):this.zone.runOutsideAngular(()=>{this.sizeChangeSub=oe({element:this.nativeElement,throttleDuration:this.cmp.sensorThrottleTime()}).pipe((0,f.M)(()=>this.update())).subscribe()}),e(()=>this.sizeChangeSub?.unsubscribe())}),super()}update(){this.cmp.nativeElement.style.setProperty(this.cssLengthProperty,`${this.size}`)}onTrackFirstClick(e){let i;if(this.currMousePosition=e[this.control.clientProperty],this.scrollDirection=this.getScrollDirection(this.currMousePosition),this.scrollMax=this.control.viewportScrollMax,"forward"===this.scrollDirection){const a=this.getScrollForwardIncrement();i=a>=this.scrollMax?this.scrollMax:a}else{const a=this.getScrollBackwardIncrement();i=a<=0?0:a}return this.scrollTo(i)}onTrackOngoingMousedown(){let e,i,a;({position:e,nextPosition:i,endPosition:a}="forward"===this.scrollDirection?this.getOnGoingScrollForward():this.getOnGoingScrollBackward());const M=this.isFinalStep(e);return this.scrollTo(M?a:i).pipe(u(()=>!M),(0,s.n)(()=>this.onTrackOngoingMousedown()))}getCurrPosition(e){return"forward"===this.scrollDirection?Math.abs(e):Math.abs(e+this.thumb.size-this.viewportScrollSize)}isFinalStep(e){const i=this.viewportScrollSize-this.thumb.size-this.getCurrPosition(e);return 0===Math.floor(i/this.viewportSize)}static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275dir=t.FsC({type:o,contentQueries:function(i,a,M){if(1&i&&t.wni(M,jt,5),2&i){let x;t.mGM(x=t.lsd())&&(a.thumb=x.first)}},features:[t.Vt3]})}return o})(),We=(()=>{class o extends Rt{constructor(){super(...arguments),this.cssLengthProperty="--track-x-length"}get offset(){return this.clientRect.left}get size(){return this.clientRect.width}get viewportScrollSize(){return this.cmp.viewport.contentWidth}get viewportSize(){return this.cmp.viewport.offsetWidth}getScrollDirection(e){return"rtl"===this.cmp.direction()?e-this.thumb.offset<0?"forward":"backward":e-this.thumb.offset>0?"forward":"backward"}scrollTo(e){return(0,c.Sx)(this.cmp.scrollTo({left:e,duration:this.cmp.trackScrollDuration}))}getScrollForwardIncrement(){return"rtl"===this.cmp.direction()?this.scrollMax- -(this.control.viewportScrollOffset-this.viewportSize):this.control.viewportScrollOffset+this.viewportSize}getScrollBackwardIncrement(){return"rtl"===this.cmp.direction()?this.scrollMax- -(this.control.viewportScrollOffset+this.viewportSize):this.control.viewportScrollOffset-this.viewportSize}getOnGoingScrollForward(){if("rtl"===this.cmp.direction()){const i=this.control.viewportScrollOffset-this.viewportSize;return{position:i,nextPosition:this.scrollMax+i,endPosition:0}}const e=this.control.viewportScrollOffset+this.viewportSize;return{position:e,nextPosition:e,endPosition:this.scrollMax}}getOnGoingScrollBackward(){if("rtl"===this.cmp.direction()){const i=this.control.viewportScrollOffset+this.viewportSize;return{position:i,nextPosition:this.scrollMax+i,endPosition:this.scrollMax}}const e=this.control.viewportScrollOffset-this.viewportSize;return{position:e,nextPosition:e,endPosition:0}}static#t=this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.xGo(o)))(a||o)}})();static#e=this.\u0275dir=t.FsC({type:o,selectors:[["","scrollbarTrackX",""]],standalone:!0,features:[t.Jv_([{provide:Rt,useExisting:o}]),t.Vt3]})}return o})(),Ue=(()=>{class o extends Rt{constructor(){super(...arguments),this.cssLengthProperty="--track-y-length"}get offset(){return this.clientRect.top}get size(){return this.clientRect.height}get viewportScrollSize(){return this.cmp.viewport.contentHeight}get viewportSize(){return this.cmp.viewport.offsetHeight}getScrollDirection(e){return e-this.thumb.offset>0?"forward":"backward"}scrollTo(e){return(0,c.Sx)(this.cmp.scrollTo({top:e,duration:this.cmp.trackScrollDuration}))}getScrollForwardIncrement(){return this.control.viewportScrollOffset+this.viewportSize}getScrollBackwardIncrement(){return this.control.viewportScrollOffset-this.viewportSize}getOnGoingScrollForward(){const e=this.control.viewportScrollOffset+this.viewportSize;return{position:e,nextPosition:e,endPosition:this.scrollMax}}getOnGoingScrollBackward(){const e=this.control.viewportScrollOffset-this.viewportSize;return{position:e,nextPosition:e,endPosition:0}}static#t=this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.xGo(o)))(a||o)}})();static#e=this.\u0275dir=t.FsC({type:o,selectors:[["","scrollbarTrackY",""]],standalone:!0,features:[t.Jv_([{provide:Rt,useExisting:o}]),t.Vt3]})}return o})(),Ge=(()=>{class o extends jt{get offset(){return this.clientRect.left}get size(){return this.clientRect.width}get dragStartOffset(){return this.offset+this.document.defaultView.scrollX}static#t=this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.xGo(o)))(a||o)}})();static#e=this.\u0275dir=t.FsC({type:o,selectors:[["","scrollbarThumbX",""]],standalone:!0,features:[t.Jv_([{provide:jt,useExisting:o}]),t.Vt3]})}return o})(),Ve=(()=>{class o extends jt{get offset(){return this.clientRect.top}get size(){return this.clientRect.height}get dragStartOffset(){return this.offset+this.document.defaultView.scrollY}static#t=this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.xGo(o)))(a||o)}})();static#e=this.\u0275dir=t.FsC({type:o,selectors:[["","scrollbarThumbY",""]],standalone:!0,features:[t.Jv_([{provide:jt,useExisting:o}]),t.Vt3]})}return o})(),ne=(()=>{class o extends Vt{constructor(){super(...arguments),this.injector=(0,t.WQX)(t.zZn),this.afterFirstClickDelay=120,this.firstClickDuration=100,this.scrollBy=50,this.onGoingScrollBy=12,this.canScrollFunc={forward:(e,i)=>Math.abs(e)<i,backward:e=>Math.abs(e)>0},this.scrollStepFunc={forward:(e,i)=>i+e,backward:(e,i)=>i-e},this.horizontalScrollStepFunc={rtl:{forward:(e,i,a)=>a+i-e,backward:(e,i,a)=>a+i+e},ltr:this.scrollStepFunc}}get pointerEvents(){const e=(0,n.R)(this.nativeElement,"pointerdown").pipe(Nt(),Yt(this.document)),i=(0,n.R)(this.document,"pointerup",{passive:!0}).pipe(Wt(this.document)),a=(0,n.R)(this.nativeElement,"pointerleave",{passive:!0}),M=(0,b.h)(i,a);return e.pipe((0,s.n)(()=>this.firstScrollStep().pipe((0,v.c)(this.afterFirstClickDelay),(0,s.n)(()=>this.onOngoingPointerdown()),(0,l.Q)(M))))}ngOnInit(){this.canScroll=this.canScrollFunc[this.scrollDirection],"x"===this.control.axis?(0,t.N4e)(this.injector,()=>{(0,t.QZP)(()=>{const e=this.cmp.direction();this.nextStep=this.horizontalScrollStepFunc[e][this.scrollDirection]})}):this.nextStep=this.scrollStepFunc[this.scrollDirection]}firstScrollStep(){const e=this.nextStep(this.scrollBy,this.control.viewportScrollOffset,this.control.viewportScrollMax);return this.control.scrollTo(e,this.firstClickDuration)}onGoingScrollStep(){const e=this.control.viewportScrollMax,i=this.nextStep(this.onGoingScrollBy,this.control.viewportScrollOffset,e);this.control.instantScrollTo(i,e)}onOngoingPointerdown(){return function w(o=0,F=N.E){return o<0&&(o=0),(0,m.O)(o,o,F)}(0,C.X).pipe(u(()=>this.canScroll(this.control.viewportScrollOffset,this.control.viewportScrollMax)),(0,f.M)(()=>this.onGoingScrollStep()))}static#t=this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.xGo(o)))(a||o)}})();static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["button","scrollbarButton",""]],inputs:{scrollbarButton:"scrollbarButton",scrollDirection:"scrollDirection"},standalone:!0,features:[t.Vt3,t.aNF],attrs:Ne,decls:3,vars:0,consts:[[1,"ng-scrollbar-button-icon"],["viewBox","0 0 512 512","xmlns","http://www.w3.org/2000/svg"],["d","M413.1,327.3l-1.8-2.1l-136-156.5c-4.6-5.3-11.5-8.6-19.2-8.6c-7.7,0-14.6,3.4-19.2,8.6L101,324.9l-2.3,2.6  C97,330,96,333,96,336.2c0,8.7,7.4,15.8,16.6,15.8v0h286.8v0c9.2,0,16.6-7.1,16.6-15.8C416,332.9,414.9,329.8,413.1,327.3z"]],template:function(i,a){1&i&&(t.j41(0,"div",0),t.qSk(),t.j41(1,"svg",1),t.nrm(2,"path",2),t.k0s()())},styles:["[_nghost-%COMP%]{--scrollbar-button-size: 20px;position:relative;border:none;margin:0;padding:0;border-radius:0;appearance:none;background-color:var(--scrollbar-button-color)}[_nghost-%COMP%]   svg[_ngcontent-%COMP%]{fill:var(--scrollbar-button-fill)}[_nghost-%COMP%]:hover{background:var(--scrollbar-button-hover-color)}[_nghost-%COMP%]:hover   svg[_ngcontent-%COMP%]{fill:var(--scrollbar-button-hover-fill)}[_nghost-%COMP%]:active{background:var(--scrollbar-button-active-color)}[_nghost-%COMP%]:active   svg[_ngcontent-%COMP%]{fill:var(--scrollbar-button-active-fill)}[scrollbarButton=top][_nghost-%COMP%], [scrollbarButton=start][_nghost-%COMP%]{order:1}[scrollbarButton=bottom][_nghost-%COMP%], [scrollbarButton=end][_nghost-%COMP%]{order:3}[scrollbarButton=top][_nghost-%COMP%], [scrollbarButton=bottom][_nghost-%COMP%]{width:100%;height:var(--scrollbar-button-size)}[scrollbarButton=start][_nghost-%COMP%], [scrollbarButton=end][_nghost-%COMP%]{width:var(--scrollbar-button-size);height:100%}[scrollbarButton=bottom][_nghost-%COMP%]{--_button-rotate: 180deg}[scrollbarButton=start][_nghost-%COMP%]{--_button-rotate: -90deg}[scrollbarButton=start][_nghost-%COMP%]   .ng-scrollbar-button-icon[_ngcontent-%COMP%]{writing-mode:vertical-lr}[scrollbarButton=end][_nghost-%COMP%]{--_button-rotate: 90deg}[scrollbarButton=end][_nghost-%COMP%]   .ng-scrollbar-button-icon[_ngcontent-%COMP%]{writing-mode:vertical-rl}.ng-scrollbar-button-icon[_ngcontent-%COMP%]{rotate:var(--_button-rotate);display:flex;place-content:center;place-items:center;width:100%;height:100%}"],changeDetection:0})}return o})(),$e=(()=>{class o extends se{constructor(){super(...arguments),this.clientProperty="clientY",this.axis="y"}get viewportScrollMax(){return this.cmp.viewport.scrollMaxY}get viewportScrollOffset(){return this.cmp.viewport.scrollTop}scrollTo(e,i){return(0,c.Sx)(this.cmp.scrollTo({top:e,duration:i}))}instantScrollTo(e){this.cmp.viewport.scrollYTo(e)}static#t=this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.xGo(o)))(a||o)}})();static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["scrollbar-y"]],standalone:!0,features:[t.Jv_([{provide:Gt,useExisting:o}]),t.Vt3,t.aNF],decls:6,vars:7,consts:[["sticky",""],[1,"ng-scrollbar-sticky"],[1,"ng-scrollbar-track-wrapper"],["scrollbarTrackY",""],["scrollbarThumbY",""],["scrollbarButton","top","scrollDirection","backward"],["scrollbarButton","bottom","scrollDirection","forward"]],template:function(i,a){1&i&&(t.j41(0,"div",1,0)(2,"div",2)(3,"div",3),t.nrm(4,"div",4),t.k0s(),t.DNE(5,Oe,2,6),t.k0s()()),2&i&&(t.R7$(3),t.ZvI("ng-scrollbar-track ",a.cmp.trackClass,""),t.R7$(),t.ZvI("ng-scrollbar-thumb ",a.cmp.thumbClass,""),t.R7$(),t.vxM(5,a.cmp.buttons()?5:-1))},dependencies:[Ue,Ve,ne],styles:["[_nghost-%COMP%]{position:absolute;inset:0;pointer-events:none;min-width:calc(var(--viewport-width) * 1px);min-height:calc(var(--viewport-height) * 1px)}.ng-scrollbar-sticky[_ngcontent-%COMP%]{top:calc(var(--_scrollbar-wrapper-top) * 1px);left:calc(var(--_scrollbar-wrapper-left) * 1px);right:calc(var(--_scrollbar-wrapper-right) * 1px);height:calc(var(--_scrollbar-wrapper-height) * 1px);width:calc(var(--_scrollbar-wrapper-width) * 1px);position:sticky;z-index:100;opacity:var(--_scrollbar-hover-opacity);transition:var(--_scrollbar-opacity-transition)}.ng-scrollbar-track-wrapper[_ngcontent-%COMP%]{touch-action:none;-webkit-user-select:none;user-select:none;top:var(--_scrollbar-track-top);bottom:var(--_scrollbar-track-bottom);right:var(--_scrollbar-track-right);left:var(--_scrollbar-track-left);pointer-events:var(--_scrollbar-pointer-events);transition:var(--scrollbar-track-wrapper-transition);position:absolute;overflow:hidden;display:flex;place-items:center}.ng-scrollbar-track[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;background-color:var(--scrollbar-track-color);transition:var(--scrollbar-track-transition);border-radius:var(--scrollbar-border-radius);cursor:default;z-index:1;order:2}.ng-scrollbar-thumb[_ngcontent-%COMP%]{box-sizing:border-box;position:absolute;transition:var(--scrollbar-thumb-transition);border-radius:var(--scrollbar-border-radius);height:var(--_thumb-height);width:var(--_thumb-width);animation-name:_ngcontent-%COMP%_scrollbarThumbAnimation;animation-duration:1ms;animation-timing-function:linear}@keyframes _ngcontent-%COMP%_scrollbarThumbAnimation{0%{translate:var(--_scrollbar-thumb-transform-from)}to{translate:var(--_scrollbar-thumb-transform-to)}}","[_nghost-%COMP%]{--_scrollbar-wrapper-top: 0;--_scrollbar-wrapper-left: var(--_scrollbar-wrapper-y-left);--_scrollbar-wrapper-right: var(--_scrollbar-wrapper-y-right);--_scrollbar-wrapper-height: var(--viewport-height);--_scrollbar-wrapper-width: var(--_scrollbar-thickness);--_scrollbar-track-top: var(--_vertical-top);--_scrollbar-track-bottom: var(--_vertical-bottom);--_scrollbar-track-right: var(--_vertical-right);--_scrollbar-track-left: var(--_vertical-left);--_thumb-height: calc(var(--thumb-y-length) * 1px);--_thumb-width: 100%;--_scrollbar-thumb-transform-from: 0 0;--_scrollbar-thumb-transform-to: 0 calc(var(--_scrollbar-y-thumb-transform-to-value) * 1px)}.ng-scrollbar-track-wrapper[_ngcontent-%COMP%]{width:var(--_track-y-thickness);flex-direction:column}.ng-scrollbar-track-wrapper[_ngcontent-%COMP%]:hover{--_track-y-thickness: var(--_scrollbar-hover-thickness-px);--_thumb-y-color: var(--scrollbar-thumb-hover-color)}.ng-scrollbar-thumb[_ngcontent-%COMP%]{animation-timeline:var(--_animation-timeline-y);min-height:calc(var(--scrollbar-thumb-min-size) * 1px);display:var(--_vertical-thumb-display);background-color:var(--_thumb-y-color)}"],changeDetection:0})}return o})(),He=(()=>{class o extends se{get viewportScrollMax(){return this.cmp.viewport.scrollMaxX}get viewportScrollOffset(){return this.cmp.viewport.scrollLeft}constructor(){(0,t.QZP)(()=>{this.handlePosition="rtl"===this.cmp.direction()?(e,i)=>-(i-e):e=>e}),super(),this.manager=(0,t.WQX)(ie),this.clientProperty="clientX",this.axis="x"}scrollTo(e,i){return(0,c.Sx)(this.cmp.scrollTo({left:e,duration:i}))}instantScrollTo(e,i){this.cmp.viewport.scrollXTo(this.handlePosition(e,i))}static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["scrollbar-x"]],hostVars:1,hostBindings:function(i,a){2&i&&t.BMQ("dir",a.cmp.direction())},standalone:!0,features:[t.Jv_([{provide:Gt,useExisting:o}]),t.Vt3,t.aNF],decls:6,vars:7,consts:[["sticky",""],[1,"ng-scrollbar-sticky"],[1,"ng-scrollbar-track-wrapper"],["scrollbarTrackX",""],["scrollbarThumbX",""],["scrollbarButton","start","scrollDirection","backward"],["scrollbarButton","end","scrollDirection","forward"]],template:function(i,a){1&i&&(t.j41(0,"div",1,0)(2,"div",2)(3,"div",3),t.nrm(4,"div",4),t.k0s(),t.DNE(5,Te,2,6),t.k0s()()),2&i&&(t.R7$(3),t.ZvI("ng-scrollbar-track ",a.cmp.trackClass,""),t.R7$(),t.ZvI("ng-scrollbar-thumb ",a.cmp.thumbClass,""),t.R7$(),t.vxM(5,a.cmp.buttons()?5:-1))},dependencies:[We,Ge,ne],styles:["[_nghost-%COMP%]{position:absolute;inset:0;pointer-events:none;min-width:calc(var(--viewport-width) * 1px);min-height:calc(var(--viewport-height) * 1px)}.ng-scrollbar-sticky[_ngcontent-%COMP%]{top:calc(var(--_scrollbar-wrapper-top) * 1px);left:calc(var(--_scrollbar-wrapper-left) * 1px);right:calc(var(--_scrollbar-wrapper-right) * 1px);height:calc(var(--_scrollbar-wrapper-height) * 1px);width:calc(var(--_scrollbar-wrapper-width) * 1px);position:sticky;z-index:100;opacity:var(--_scrollbar-hover-opacity);transition:var(--_scrollbar-opacity-transition)}.ng-scrollbar-track-wrapper[_ngcontent-%COMP%]{touch-action:none;-webkit-user-select:none;user-select:none;top:var(--_scrollbar-track-top);bottom:var(--_scrollbar-track-bottom);right:var(--_scrollbar-track-right);left:var(--_scrollbar-track-left);pointer-events:var(--_scrollbar-pointer-events);transition:var(--scrollbar-track-wrapper-transition);position:absolute;overflow:hidden;display:flex;place-items:center}.ng-scrollbar-track[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;background-color:var(--scrollbar-track-color);transition:var(--scrollbar-track-transition);border-radius:var(--scrollbar-border-radius);cursor:default;z-index:1;order:2}.ng-scrollbar-thumb[_ngcontent-%COMP%]{box-sizing:border-box;position:absolute;transition:var(--scrollbar-thumb-transition);border-radius:var(--scrollbar-border-radius);height:var(--_thumb-height);width:var(--_thumb-width);animation-name:_ngcontent-%COMP%_scrollbarThumbAnimation;animation-duration:1ms;animation-timing-function:linear}@keyframes _ngcontent-%COMP%_scrollbarThumbAnimation{0%{translate:var(--_scrollbar-thumb-transform-from)}to{translate:var(--_scrollbar-thumb-transform-to)}}","[_nghost-%COMP%]{--_scrollbar-wrapper-top: var(--_scrollbar-wrapper-x-top);--_scrollbar-wrapper-left: 0;--_scrollbar-wrapper-right: 0;--_scrollbar-wrapper-height: var(--_scrollbar-thickness);--_scrollbar-wrapper-width: var(--viewport-width);--_scrollbar-track-top: var(--_horizontal-top);--_scrollbar-track-bottom: var(--_horizontal-bottom);--_scrollbar-track-right: var(--_horizontal-right);--_scrollbar-track-left: var(--_horizontal-left);--_thumb-height: 100%;--_thumb-width: calc(var(--thumb-x-length) * 1px);--_scrollbar-thumb-transform-from: 0;--_scrollbar-thumb-transform-to: calc(var(--_scrollbar-x-thumb-transform-to-value) * 1px)}[_nghost-%COMP%]   .ng-scrollbar-button[scrollbarButton=start][_ngcontent-%COMP%]{_--button-rotate:90}[_nghost-%COMP%]   .ng-scrollbar-button[scrollbarButton=end][_ngcontent-%COMP%]{_--button-rotate:-90}[dir=rtl][_nghost-%COMP%]   .ng-scrollbar-thumb[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_scrollbarThumbRTLAnimation;will-change:right;--_scrollbar-thumb-transform-to: calc(var(--_scrollbar-x-thumb-transform-to-value) * -1px)}[dir=rtl][_nghost-%COMP%]   .ng-scrollbar-button[scrollbarButton=start][_ngcontent-%COMP%]{--_button-rotate: 90deg}[dir=rtl][_nghost-%COMP%]   .ng-scrollbar-button[scrollbarButton=end][_ngcontent-%COMP%]{--_button-rotate: -90deg}.ng-scrollbar-track-wrapper[_ngcontent-%COMP%]{height:var(--_track-x-thickness);flex-direction:row}.ng-scrollbar-track-wrapper[_ngcontent-%COMP%]:hover{--_track-x-thickness: var(--_scrollbar-hover-thickness-px);--_thumb-x-color: var(--scrollbar-thumb-hover-color)}.ng-scrollbar-thumb[_ngcontent-%COMP%]{animation-timeline:var(--_animation-timeline-x);min-width:calc(var(--scrollbar-thumb-min-size) * 1px);display:var(--_horizontal-thumb-display);background-color:var(--_thumb-x-color)}@keyframes _ngcontent-%COMP%_scrollbarThumbRTLAnimation{0%{right:var(--_scrollbar-thumb-transform-from)}to{right:calc(var(--_scrollbar-thumb-transform-to) * -1)}}"],changeDetection:0})}return o})(),ae=(()=>{class o{constructor(){this.cmp=(0,t.WQX)(Lt)}static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["scrollbars"]],standalone:!0,features:[t.aNF],decls:2,vars:2,template:function(i,a){1&i&&t.DNE(0,Ie,1,0,"scrollbar-y")(1,Le,1,0,"scrollbar-x"),2&i&&(t.vxM(0,a.cmp.verticalUsed()?0:-1),t.R7$(),t.vxM(1,a.cmp.horizontalUsed()?1:-1))},dependencies:[He,$e],styles:["[_nghost-%COMP%]{display:contents}"],changeDetection:0})}return o})(),le=(()=>{class o extends Ae{ngOnInit(){this.viewport.init(this.nativeElement,this.contentWrapper.nativeElement),super.ngOnInit()}static#t=this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.xGo(o)))(a||o)}})();static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["ng-scrollbar",3,"externalViewport",""]],viewQuery:function(i,a){if(1&i&&(t.GBs(je,7),t.GBs(ae,7)),2&i){let M;t.mGM(M=t.lsd())&&(a.contentWrapper=M.first),t.mGM(M=t.lsd())&&(a._scrollbars=M.first)}},exportAs:["ngScrollbar"],standalone:!0,features:[t.Jv_([{provide:Lt,useExisting:o}]),t.nM4([ze]),t.Vt3,t.aNF],ngContentSelectors:Re,decls:4,vars:0,consts:[["contentWrapper",""]],template:function(i,a){1&i&&(t.NAR(),t.j41(0,"div",null,0),t.SdG(2),t.nrm(3,"scrollbars"),t.k0s())},dependencies:[ae],styles:["[_nghost-%COMP%]{display:block;position:relative;max-height:100%;max-width:100%;--scrollbar-border-radius: 0px;--scrollbar-thickness: 5;--scrollbar-offset: 0;--scrollbar-track-wrapper-transition: width 60ms linear, height 60ms linear;--scrollbar-track-color: transparent;--scrollbar-track-transition: none;--scrollbar-thumb-color: rgb(0 0 0 / 20%);--scrollbar-thumb-hover-color: var(--scrollbar-thumb-color);--scrollbar-hover-thickness: var(--scrollbar-thickness);--scrollbar-thumb-transition: none;--scrollbar-thumb-min-size: 20;--scrollbar-button-color: var(--scrollbar-thumb-color);--scrollbar-button-hover-color: var(--scrollbar-button-color);--scrollbar-button-active-color: var(--scrollbar-button-hover-color);--scrollbar-button-fill: white;--scrollbar-button-hover-fill: var(--scrollbar-button-fill);--scrollbar-button-active-fill: var(--scrollbar-button-hover-fill);--scrollbar-hover-opacity-transition-enter-duration: 0;--scrollbar-hover-opacity-transition-leave-duration: .4s;--scrollbar-hover-opacity-transition-leave-delay: 1s;--scrollbar-overscroll-behavior: initial;--scrollbar-mobile-overscroll-behavior: none;--_scrollbar-thickness: calc(var(--scrollbar-thickness) + var(--scrollbar-offset) * 2);--_scrollbar-pointer-events: auto;--_scrollbar-offset-px: calc(var(--scrollbar-offset) * 1px);--_scrollbar-thickness-px: calc(var(--scrollbar-thickness) * 1px);--_scrollbar-hover-thickness-px: calc(var(--scrollbar-hover-thickness) * 1px);--_viewport-padding-top: 0;--_viewport-padding-bottom: 0;--_viewport-padding-left: 0;--_viewport-padding-right: 0;--_horizontal-thumb-display: block;--_vertical-thumb-display: block;--_viewport-overflow: auto;--_thumb-x-color: var(--scrollbar-thumb-color);--_thumb-y-color: var(--scrollbar-thumb-color);--_track-y-thickness: var(--_scrollbar-thickness-px);--_track-x-thickness: var(--_scrollbar-thickness-px);--_viewport-overscroll-behavior: var(--scrollbar-overscroll-behavior);--_scrollbar-content-width: fit-content}[_nghost-%COMP%]{--_vertical-top: var(--_scrollbar-offset-px);--_vertical-bottom: var(--_scrollbar-offset-px);--_horizontal-left: var(--_scrollbar-offset-px);--_horizontal-right: var(--_scrollbar-offset-px);--_horizontal-top: initial;--_horizontal-bottom: var(--_scrollbar-offset-px);--_scrollbar-wrapper-x-top: calc(var(--viewport-height) - var(--_scrollbar-thickness));--reached-offset: 1px;--reached-offset-top: var(--reached-offset);--reached-offset-bottom: var(--reached-offset);--reached-offset-start: var(--reached-offset);--reached-offset-end: var(--reached-offset);--_viewport_scroll-timeline: unset;--_animation-timeline-y: unset;--_scrollbar-y-thumb-transform-to-value: unset;--_scrollbar-x-thumb-transform-to-value: unset;--_scrollbar-thumb-transform-from: unset;--_scrollbar-thumb-transform-to: unset}.ng-scrollbar-external-viewport[_nghost-%COMP%]     .ng-scroll-viewport{min-height:100%;min-width:100%;height:100%;max-height:100%;max-width:100%}.ng-scroll-viewport[_nghost-%COMP%], .ng-scrollbar-external-viewport[_nghost-%COMP%]     .ng-scroll-viewport{position:relative;overflow:var(--_viewport-overflow);scroll-timeline:var(--_viewport_scroll-timeline);box-sizing:border-box!important;-webkit-overflow-scrolling:touch;will-change:scroll-position;-webkit-user-select:var(--_viewport-user-select);user-select:var(--_viewport-user-select);overscroll-behavior:var(--_viewport-overscroll-behavior)}.ng-scroll-viewport[_nghost-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], .ng-scrollbar-external-viewport[_nghost-%COMP%]     .ng-scroll-viewport>.ng-scroll-content{width:var(--_scrollbar-content-width);z-index:1;min-width:100%;min-height:100%;contain:content;padding:var(--_viewport-padding-top, 0) var(--_viewport-padding-right, 0) var(--_viewport-padding-bottom, 0) var(--_viewport-padding-left, 0)}.ng-scroll-viewport[_nghost-%COMP%], .ng-scrollbar-external-viewport[_nghost-%COMP%]     .ng-scroll-viewport{scrollbar-width:none!important}.ng-scroll-viewport[_nghost-%COMP%]::-webkit-scrollbar, .ng-scrollbar-external-viewport[_nghost-%COMP%]     .ng-scroll-viewport::-webkit-scrollbar{display:none!important}[position=invertX][_nghost-%COMP%], [position=invertAll][_nghost-%COMP%]{--_horizontal-top: var(--_scrollbar-offset-px);--_horizontal-bottom: initial;--_scrollbar-wrapper-x-top: 0}[dir=ltr][_nghost-%COMP%]{--_scrollbar-wrapper-y-right: initial;--_vertical-right: var(--_scrollbar-offset-px);--_vertical-left: initial;--_scrollbar-wrapper-y-left: calc(var(--viewport-width) - var(--_scrollbar-thickness))}[dir=ltr][position=invertY][_nghost-%COMP%], [dir=ltr][position=invertAll][_nghost-%COMP%]{--_vertical-left: var(--_scrollbar-offset-px);--_vertical-right: initial;--_scrollbar-wrapper-y-left: 0}[dir=rtl][_nghost-%COMP%]{--_scrollbar-wrapper-y-left: initial;--_vertical-left: var(--_scrollbar-offset-px);--_vertical-right: initial;--_scrollbar-wrapper-y-right: calc(var(--viewport-width) - var(--_scrollbar-thickness))}[dir=rtl][position=invertY][_nghost-%COMP%], [dir=rtl][position=invertAll][_nghost-%COMP%]{--_vertical-right: var(--_scrollbar-offset-px);--_vertical-left: initial;--_scrollbar-wrapper-y-right: 0}[verticalUsed=true][horizontalUsed=true][_nghost-%COMP%]{--_scrollbar-thickness-margin: calc(var(--scrollbar-thickness) + var(--scrollbar-offset) * 3);--_scrollbar-thickness-margin-px: calc(var(--_scrollbar-thickness-margin) * 1px)}[horizontalUsed=true][_nghost-%COMP%]{--_vertical-top: var(--_scrollbar-offset-px);--_vertical-bottom: var(--_scrollbar-thickness-margin-px)}[horizontalUsed=true][position=invertX][_nghost-%COMP%], [horizontalUsed=true][position=invertAll][_nghost-%COMP%]{--_vertical-top: var(--_scrollbar-thickness-margin-px);--_vertical-bottom: var(--_scrollbar-offset-px)}[verticalUsed=true][dir=ltr][_nghost-%COMP%]{--_horizontal-left: var(--_scrollbar-offset-px);--_horizontal-right: var(--_scrollbar-thickness-margin-px)}[verticalUsed=true][dir=rtl][_nghost-%COMP%]{--_horizontal-left: var(--_scrollbar-thickness-margin-px);--_horizontal-right: var(--_scrollbar-offset-px)}[verticalUsed=true][position=invertY][dir=ltr][_nghost-%COMP%], [verticalUsed=true][position=invertAll][dir=ltr][_nghost-%COMP%]{--_horizontal-left: var(--_scrollbar-thickness-margin-px);--_horizontal-right: var(--_scrollbar-offset-px)}[verticalUsed=true][position=invertY][dir=rtl][_nghost-%COMP%], [verticalUsed=true][position=invertAll][dir=rtl][_nghost-%COMP%]{--_horizontal-left: var(--_scrollbar-offset-px);--_horizontal-right: var(--_scrollbar-thickness-margin-px)}[appearance=native][verticalUsed=true][dir=ltr][_nghost-%COMP%]{--_viewport-padding-left: 0;--_viewport-padding-right: calc(var(--_scrollbar-thickness) * 1px)}[appearance=native][verticalUsed=true][dir=rtl][_nghost-%COMP%]{--_viewport-padding-left: calc(var(--_scrollbar-thickness) * 1px);--_viewport-padding-right: 0}[appearance=native][verticalUsed=true][position=invertY][dir=ltr][_nghost-%COMP%], [appearance=native][verticalUsed=true][position=invertAll][dir=ltr][_nghost-%COMP%]{--_viewport-padding-left: calc(var(--_scrollbar-thickness) * 1px);--_viewport-padding-right: 0}[appearance=native][verticalUsed=true][position=invertY][dir=rtl][_nghost-%COMP%], [appearance=native][verticalUsed=true][position=invertAll][dir=rtl][_nghost-%COMP%]{--_viewport-padding-left: 0;--_viewport-padding-right: calc(var(--_scrollbar-thickness) * 1px)}[appearance=native][horizontalUsed=true][_nghost-%COMP%]{--_viewport-padding-top: 0;--_viewport-padding-bottom: calc(var(--_scrollbar-thickness) * 1px)}[appearance=native][horizontalUsed=true][position=invertX][_nghost-%COMP%], [appearance=native][horizontalUsed=true][position=invertAll][_nghost-%COMP%]{--_viewport-padding-top: calc(var(--_scrollbar-thickness) * 1px);--_viewport-padding-bottom: 0}[visibility=hover][_nghost-%COMP%]{--_scrollbar-hover-opacity: 0;--_scrollbar-opacity-transition: opacity var(--scrollbar-hover-opacity-transition-leave-duration) var(--scrollbar-hover-opacity-transition-leave-delay)}[visibility=hover][_nghost-%COMP%]:hover, [visibility=hover][_nghost-%COMP%]:active, [visibility=hover][_nghost-%COMP%]:focus{--_scrollbar-hover-opacity: 1;--_scrollbar-opacity-transition: opacity var(--scrollbar-hover-opacity-transition-enter-duration)}[dir=ltr][_nghost-%COMP%]     .scroll-reached-trigger-element[trigger=start]{left:0;right:unset}[dir=ltr][_nghost-%COMP%]     .scroll-reached-trigger-element[trigger=end]{right:0;left:unset}[dir=rtl][_nghost-%COMP%]     .scroll-reached-trigger-element[trigger=start]{right:0;left:unset}[dir=rtl][_nghost-%COMP%]     .scroll-reached-trigger-element[trigger=end]{left:0;right:unset}[_nghost-%COMP%]     .ng-scroll-reached-wrapper, [_nghost-%COMP%]     .scroll-reached-trigger-element{position:absolute;-webkit-user-select:none;user-select:none;pointer-events:none;z-index:-9999}[_nghost-%COMP%]     .ng-scroll-reached-wrapper{visibility:hidden;inset:0;min-width:calc(var(--viewport-width) * 1px);min-height:calc(var(--viewport-height) * 1px)}[_nghost-%COMP%]     [isHorizontallyScrollable=false] .scroll-reached-trigger-element[trigger=end]{display:none}[_nghost-%COMP%]     [isVerticallyScrollable=false] .scroll-reached-trigger-element[trigger=bottom]{display:none}[_nghost-%COMP%]     .scroll-reached-trigger-element{background:red}[_nghost-%COMP%]     .scroll-reached-trigger-element[trigger=top], [_nghost-%COMP%]     .scroll-reached-trigger-element[trigger=bottom]{left:0;right:0}[_nghost-%COMP%]     .scroll-reached-trigger-element[trigger=start], [_nghost-%COMP%]     .scroll-reached-trigger-element[trigger=end]{top:0;bottom:0}[_nghost-%COMP%]     .scroll-reached-trigger-element[trigger=top]{top:0;height:var(--reached-offset-top)}[_nghost-%COMP%]     .scroll-reached-trigger-element[trigger=bottom]{bottom:0;height:var(--reached-offset-bottom)}[_nghost-%COMP%]     .scroll-reached-trigger-element[trigger=start]{width:var(--reached-offset-start)}[_nghost-%COMP%]     .scroll-reached-trigger-element[trigger=end]{width:var(--reached-offset-end)}[verticalUsed=true][_nghost-%COMP%]{--_timeline-scope: --scrollerY;--_animation-timeline-y: --scrollerY;--_viewport_scroll-timeline: --scrollerY y;--_scrollbar-y-thumb-transform-to-value: calc(var(--track-y-length) - var(--thumb-y-length))}[horizontalUsed=true][_nghost-%COMP%]{--_timeline-scope: --scrollerX;--_animation-timeline-x: --scrollerX;--_viewport_scroll-timeline: --scrollerX x;--_scrollbar-x-thumb-transform-to-value: calc(var(--track-x-length) - var(--thumb-x-length))}[verticalUsed=true][horizontalUsed=true][_nghost-%COMP%]{--_timeline-scope: --scrollerX, --scrollerY;--_viewport_scroll-timeline: --scrollerX x, --scrollerY y}[orientation=vertical][_nghost-%COMP%]{--_viewport-overflow: hidden auto;--_scrollbar-content-width: unset}[orientation=horizontal][_nghost-%COMP%]{--_viewport-overflow: auto hidden}[disableInteraction=true][_nghost-%COMP%]{--_scrollbar-pointer-events: none}[isVerticallyScrollable=false][_nghost-%COMP%]{--_vertical-thumb-display: none}[isHorizontallyScrollable=false][_nghost-%COMP%]{--_horizontal-thumb-display: none}[dragging=x][_nghost-%COMP%], [dragging=y][_nghost-%COMP%]{--_viewport-user-select: none}[horizontalUsed=true][_nghost-%COMP%]{--thumb-x-length: max(calc(var(--viewport-width) * var(--track-x-length) / var(--content-width)), var(--scrollbar-thumb-min-size))}[verticalUsed=true][_nghost-%COMP%]{--thumb-y-length: max(calc(var(--viewport-height) * var(--track-y-length) / var(--content-height)), var(--scrollbar-thumb-min-size))}[dragging=x][_nghost-%COMP%]{--_track-x-thickness: calc(var(--scrollbar-hover-thickness) * 1px);--_thumb-x-color: var(--scrollbar-thumb-hover-color)}[dragging=y][_nghost-%COMP%]{--_track-y-thickness: calc(var(--scrollbar-hover-thickness) * 1px);--_thumb-y-color: var(--scrollbar-thumb-hover-color)}[mobile=true][_nghost-%COMP%]{--_viewport-overscroll-behavior: var(--scrollbar-mobile-overscroll-behavior)}"],changeDetection:0})}return o})(),Qe=(()=>{class o{static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275mod=t.$C({type:o});static#o=this.\u0275inj=t.G2t({})}return o})();var ce=X(93331),he=X(38117);function de(o,F){const e=/(\d+)|(\D+)/g,i=/\d+/,M=F.value,x=String(o.value).match(e),L=String(M).match(e);for(;x.length&&L.length;){const R=x.shift(),W=L.shift();if(i.test(R)||i.test(W)){if(!i.test(R))return-1;if(!i.test(W))return 1;if(R!==W)return Number(W)-Number(R)}else if(R!==W)return W.localeCompare(R)}return L.length-x.length}var Ct=X(3366),it=X(19664),$t=X(45794);let Ze=(()=>{class o{apiService;toastr;translate;stats$;constructor(e,i,a){this.apiService=e,this.toastr=i,this.translate=a}reqInter(){this.apiService.getReqInter().subscribe(()=>{this.toastr.success(this.translate.instant("api.global.succes.scanlaunched.notify"))})}static \u0275fac=function(i){return new(i||o)(t.rXU(Ct.G),t.rXU($t.tw),t.rXU(it.c$))};static \u0275cmp=t.VBU({type:o,selectors:[["app-req-network-inter"]],decls:16,vars:3,consts:[[1,"card"],["translate","network.inter.req.header",1,"card-header","fw-bold"],[1,"card-body"],[1,"card-text",3,"innerHTML"],[1,"card-footer","d-flex","justify-content-end"],["translate","network.inter.req.button",1,"btn","btn-light",3,"click"]],template:function(i,a){1&i&&(t.j41(0,"div",0),t.EFF(1,"\n  "),t.nrm(2,"div",1),t.EFF(3,"\n  "),t.j41(4,"div",2),t.EFF(5,"\n    "),t.nrm(6,"p",3),t.nI1(7,"translate"),t.EFF(8,"\n  "),t.k0s(),t.EFF(9,"\n  "),t.j41(10,"div",4),t.EFF(11,"\n    "),t.j41(12,"button",5),t.bIt("click",function(){return a.reqInter()}),t.k0s(),t.EFF(13,"\n  "),t.k0s(),t.EFF(14,"\n"),t.k0s(),t.EFF(15,"\n")),2&i&&(t.R7$(6),t.Y8G("innerHTML",t.bMT(7,1,"network.inter.req.subtitle"),t.npT))},dependencies:[it.Mm,it.D9]})}return o})();var pe=X(28990),ue=X(21264);function Ke(o,F){if(1&o&&(t.j41(0,"div",4),t.EFF(1,"\n      "),t.nrm(2,"div",5),t.EFF(3,"\n      "),t.j41(4,"div",6),t.EFF(5,"\n        "),t.nrm(6,"p",7),t.nI1(7,"translate"),t.EFF(8,"\n        "),t.j41(9,"div",8),t.EFF(10,"\n          "),t.nrm(11,"div",9),t.EFF(12,"\n        "),t.k0s(),t.EFF(13,"\n      "),t.k0s(),t.EFF(14,"\n    "),t.k0s()),2&o){const e=t.XpG(2);t.R7$(6),t.Y8G("innerHTML",t.bMT(7,2,"network.stats.detail.visu.subtitle"),t.npT),t.R7$(5),t.Y8G("chart",e.chart)}}function qe(o,F){if(1&o&&(t.j41(0,"div",2),t.EFF(1,"\n    "),t.DNE(2,Ke,15,4,"div",3),t.EFF(3,"\n  "),t.k0s()),2&o){const e=t.XpG();t.R7$(2),t.Y8G("ngIf",e.chart)}}function Je(o,F){if(1&o&&(t.j41(0,"div",4),t.EFF(1,"\n      "),t.nrm(2,"div",5),t.EFF(3,"\n      "),t.j41(4,"div",6),t.EFF(5,"\n        "),t.nrm(6,"p",7),t.nI1(7,"translate"),t.EFF(8,"\n        "),t.j41(9,"div",8),t.EFF(10,"\n          "),t.nrm(11,"div",10),t.EFF(12,"\n        "),t.k0s(),t.EFF(13,"\n      "),t.k0s(),t.EFF(14,"\n    "),t.k0s()),2&o){const e=t.XpG();t.R7$(6),t.Y8G("innerHTML",t.bMT(7,2,"network.stats.detail.visu.subtitle"),t.npT),t.R7$(5),t.Y8G("chart",e.chart2)}}let to=(()=>{class o extends pe.U{apiService;translate;timeStamp;chart;chart2;devices$;totalTx;totalFail;plugin;constructor(e,i){super(),this.apiService=e,this.translate=i}ngOnInit(){this.devices$=this.apiService.getDevices(),setTimeout(()=>{this.plugin=JSON.parse(sessionStorage.getItem("plugin"))},500)}ngOnChanges(e){e.timeStamp.currentValue!==e.timeStamp.previousValue&&this.apiService.getNwkStatsByTimeStamp(this.timeStamp).subscribe(i=>{this.createChart(i),this.createChart2(i)})}createChart(e){const i=[],a=[],M=[],x=[];e.forEach(W=>{const yt=W.Channels;yt.sort((ut,wt)=>Number(ut.Channel)-Number(wt.Channel)),W.Channels=yt}),e[0].Channels.forEach(W=>{a.push(W.Channel)}),e.forEach(W=>{const yt=[];let ut=0;W.Channels.forEach(wt=>{yt.push(wt.Level),x[ut]=x[ut]?Number(x[ut])+Number(wt.Level):Number(wt.Level),ut++}),i.push({name:W.ZDeviceName?W.ZDeviceName:W._NwkId,data:yt})}),x.forEach(W=>{W/=e.length,W=Number(W).toFixed(2),M.push(Number(W))});const L=i;L.push({name:"Average",data:M,type:"spline",marker:{lineWidth:2,lineColor:ue.getOptions().colors[3],fillColor:"white"}});const R=new et.t1({chart:{type:"column",height:"20%"},title:{text:this.translate.instant("network.stats.detail.visu.chart.title")},xAxis:{categories:a},yAxis:{title:{text:this.translate.instant("network.stats.detail.visu.chart.y-axis")}},credits:{enabled:!1},series:L});this.chart=R,this.subs.add(R.ref$.subscribe())}createChart2(e){const i=[],a=[];e.forEach(x=>{const L=x.Channels;L.sort((R,W)=>Number(R.Channel)-Number(W.Channel)),x.Channels=L}),e[0].Channels.forEach(x=>{a.push(x.Channel)}),e.forEach(x=>{const L=[];x.Channels.forEach(R=>{L.push(R.Level)}),i.push({name:x.ZDeviceName?x.ZDeviceName:x._NwkId,data:L,pointPlacement:"on"})});const M=new et.t1({chart:{height:"90%",polar:!0,type:"line"},pane:{},title:{text:this.translate.instant("network.stats.detail.visu.chart.title")},xAxis:{categories:a,tickmarkPlacement:"on",lineWidth:0},yAxis:{gridLineInterpolation:"polygon",lineWidth:0,min:0},tooltip:{shared:!0,pointFormat:'<span style="color:{series.color}">{series.name}: <b>{point.y:,.0f}</b><br/>'},legend:{align:"left",verticalAlign:"bottom"},credits:{enabled:!1},series:i,responsive:{rules:[{condition:{maxWidth:600},chartOptions:{legend:{align:"center",verticalAlign:"bottom"},pane:{size:"80%"}}}]}});this.chart2=M,this.subs.add(M.ref$.subscribe())}static \u0275fac=function(i){return new(i||o)(t.rXU(Ct.G),t.rXU(it.c$))};static \u0275cmp=t.VBU({type:o,selectors:[["app-detail-nwk-stat"]],inputs:{timeStamp:"timeStamp"},features:[t.Vt3,t.OA$],decls:10,vars:2,consts:[[1,"row","row-cols-1","row-cols-md-2","g-4","mt-1"],["class","col",4,"ngIf"],[1,"col"],["class","card",4,"ngIf"],[1,"card"],["translate","network.stats.detail.visu.header",1,"card-header","fw-bold"],[1,"card-body"],[1,"card-text",3,"innerHTML"],[1,"card-text"],[1,"text-center",3,"chart"],[3,"chart"]],template:function(i,a){1&i&&(t.j41(0,"div",0),t.EFF(1,"\n  "),t.DNE(2,qe,4,1,"div",1),t.EFF(3,"\n  "),t.j41(4,"div",2),t.EFF(5,"\n    "),t.DNE(6,Je,15,4,"div",3),t.EFF(7,"\n  "),t.k0s(),t.EFF(8,"\n"),t.k0s(),t.EFF(9,"\n")),2&i&&(t.R7$(2),t.Y8G("ngIf",!(null!=a.plugin&&a.plugin.Zigpy)),t.R7$(4),t.Y8G("ngIf",a.chart2))},dependencies:[y.bT,it.Mm,et.S6,it.D9]})}return o})(),eo=(()=>{class o{apiService;toastr;translate;stats$;constructor(e,i,a){this.apiService=e,this.toastr=i,this.translate=a}reqFull(){this.apiService.getNwkFull().subscribe(()=>{this.toastr.success(this.translate.instant("api.global.succes.scanlaunched.notify"))})}static \u0275fac=function(i){return new(i||o)(t.rXU(Ct.G),t.rXU($t.tw),t.rXU(it.c$))};static \u0275cmp=t.VBU({type:o,selectors:[["app-req-network-full"]],decls:16,vars:3,consts:[[1,"card"],["translate","network.full.req.header",1,"card-header","fw-bold"],[1,"card-body"],[1,"card-text",3,"innerHTML"],[1,"card-footer","d-flex","justify-content-end"],["translate","network.full.req.button",1,"btn","btn-light",3,"click"]],template:function(i,a){1&i&&(t.j41(0,"div",0),t.EFF(1,"\n  "),t.nrm(2,"div",1),t.EFF(3,"\n  "),t.j41(4,"div",2),t.EFF(5,"\n    "),t.nrm(6,"p",3),t.nI1(7,"translate"),t.EFF(8,"\n  "),t.k0s(),t.EFF(9,"\n  "),t.j41(10,"div",4),t.EFF(11,"\n    "),t.j41(12,"button",5),t.bIt("click",function(){return a.reqFull()}),t.k0s(),t.EFF(13,"\n  "),t.k0s(),t.EFF(14,"\n"),t.k0s(),t.EFF(15,"\n")),2&i&&(t.R7$(6),t.Y8G("innerHTML",t.bMT(7,1,"network.full.req.subtitle"),t.npT))},dependencies:[it.Mm,it.D9]})}return o})();function oo(o,F){if(1&o){const e=t.RV6();t.j41(0,"span",14),t.EFF(1,"\n                    "),t.j41(2,"div",15),t.EFF(3,"\n                      "),t.j41(4,"button",16),t.bIt("click",function(){const a=t.eBV(e).$implicit,M=t.XpG(2);return t.Njj(M.nwkStatByDate(a.value))}),t.EFF(5),t.nI1(6,"date"),t.k0s(),t.EFF(7,"\n                    "),t.k0s(),t.EFF(8,"\n                    "),t.j41(9,"div",15),t.EFF(10,"\n                      "),t.j41(11,"button",17),t.nI1(12,"translate"),t.bIt("click",function(){const a=t.eBV(e).$implicit,M=t.XpG(2);return t.Njj(M.deleteNwkStatByDate(a.value))}),t.EFF(13,"\n                        "),t.nrm(14,"i",18),t.EFF(15,"\n                      "),t.k0s(),t.EFF(16,"\n                    "),t.k0s(),t.EFF(17,"\n                  "),t.k0s()}if(2&o){const e=F.$implicit;t.R7$(5),t.SpI("\n                        ",t.i5U(6,2,1e3*e.value,"dd/MM/yyyy HH:mm:ss"),"\n                      "),t.R7$(6),t.FS9("title",t.bMT(12,5,"network.stats.visu.delete.button"))}}function ro(o,F){if(1&o&&(t.j41(0,"div",4),t.EFF(1,"\n      "),t.nrm(2,"div",5),t.EFF(3,"\n      "),t.j41(4,"div",6),t.EFF(5,"\n        "),t.nrm(6,"p",7),t.nI1(7,"translate"),t.EFF(8,"\n        "),t.j41(9,"div",8),t.EFF(10,"\n          "),t.j41(11,"div",9),t.EFF(12,"\n            "),t.j41(13,"div",10),t.EFF(14,"\n              "),t.j41(15,"ng-scrollbar",11),t.EFF(16,"\n                "),t.j41(17,"div",12),t.EFF(18,"\n                  "),t.DNE(19,oo,18,7,"span",13),t.nI1(20,"keyvalue"),t.EFF(21,"\n                "),t.k0s(),t.EFF(22,"\n              "),t.k0s(),t.EFF(23,"\n            "),t.k0s(),t.EFF(24,"\n          "),t.k0s(),t.EFF(25,"\n        "),t.k0s(),t.EFF(26,"\n      "),t.k0s(),t.EFF(27,"\n    "),t.k0s()),2&o){const e=F.ngIf,i=t.XpG();t.R7$(6),t.Y8G("innerHTML",t.bMT(7,2,"network.stats.subtitle"),t.npT),t.R7$(13),t.Y8G("ngForOf",t.i5U(20,4,e,i.sortDesc))}}function io(o,F){1&o&&t.nrm(0,"app-req-network-full")}function so(o,F){if(1&o&&(t.j41(0,"div"),t.nrm(1,"app-detail-nwk-stat",19),t.k0s()),2&o){const e=t.XpG();t.R7$(),t.Y8G("timeStamp",e.timeStamp)}}let no=(()=>{class o{apiService;cdr;stats$;listSubject$=new Qt.B;timeStamp;plugin;constructor(e,i){this.apiService=e,this.cdr=i}ngOnInit(){this.stats$=this.apiService.getNwkStats(),setTimeout(()=>{this.plugin=JSON.parse(sessionStorage.getItem("plugin"))},500)}sortDesc(e,i){return de(e,i)}nwkStatByDate(e){this.timeStamp=e}deleteNwkStatByDate(e){this.apiService.deleteNwkStatsByTimeStamp(e).subscribe(()=>{this.stats$=this.apiService.getNwkStats(),this.cdr.detectChanges()})}static \u0275fac=function(i){return new(i||o)(t.rXU(Ct.G),t.rXU(t.gRc))};static \u0275cmp=t.VBU({type:o,selectors:[["app-nwk-stats"]],decls:17,vars:5,consts:[[1,"row","row-cols-1","row-cols-xxl-5","row-cols-xl-4","row-cols-lg-3","row-cols-md-2","row-cols-sm-1","g-4"],[1,"col"],["class","card",4,"ngIf"],[4,"ngIf"],[1,"card"],["translate","network.stats.header",1,"card-header","fw-bold"],[1,"card-body"],[1,"card-text",3,"innerHTML"],[1,"card-text"],[1,"vertical-container"],[1,"content-container"],[1,"scroll-container"],[1,"scrollable-content"],["class","row d-flex align-items-center",4,"ngFor","ngForOf"],[1,"row","d-flex","align-items-center"],[1,"col-sm"],[1,"btn","btn-light",3,"click"],[1,"btn","btn-light",3,"click","title"],[1,"fa","fa-trash"],[3,"timeStamp"]],template:function(i,a){1&i&&(t.j41(0,"div",0),t.EFF(1,"\n  "),t.j41(2,"div",1),t.EFF(3,"\n    "),t.DNE(4,ro,28,7,"div",2),t.nI1(5,"async"),t.EFF(6,"\n  "),t.k0s(),t.EFF(7,"\n  "),t.j41(8,"div",1),t.nrm(9,"app-req-network-inter"),t.k0s(),t.EFF(10,"\n  "),t.j41(11,"div",1),t.DNE(12,io,1,0,"app-req-network-full",3),t.k0s(),t.EFF(13,"\n"),t.k0s(),t.EFF(14,"\n"),t.DNE(15,so,2,1,"div",3),t.EFF(16,"\n")),2&i&&(t.R7$(4),t.Y8G("ngIf",t.bMT(5,3,a.stats$)),t.R7$(8),t.Y8G("ngIf",!(null!=a.plugin&&a.plugin.Zigpy)),t.R7$(3),t.Y8G("ngIf",a.timeStamp))},dependencies:[y.Sq,y.bT,it.Mm,le,Ze,to,eo,y.Jj,y.vh,y.lG,it.D9],styles:[".content-container[_ngcontent-%COMP%]{position:relative;overflow:auto;height:150px;min-height:0}.vertical-container[_ngcontent-%COMP%], .horizontal-container[_ngcontent-%COMP%]{min-height:0}.scroll-container[_ngcontent-%COMP%]{position:relative}.scrollable-content[_ngcontent-%COMP%]{padding:16px;margin:0}"]})}return o})();var Ft=X(89417),fe=X(97013),Ht=X(46247),ao=X(5779);const lo=o=>({deviceSelected:o}),co=()=>[10,25,50];function ho(o,F){if(1&o&&(t.j41(0,"div",4),t.EFF(1,"\n      "),t.nrm(2,"div",5),t.EFF(3,"\n      "),t.j41(4,"div",6),t.EFF(5,"\n        "),t.nrm(6,"p",7),t.nI1(7,"translate"),t.EFF(8,"\n        "),t.nrm(9,"div",8),t.EFF(10,"\n      "),t.k0s(),t.EFF(11,"\n    "),t.k0s()),2&o){const e=t.XpG();t.R7$(6),t.Y8G("innerHTML",t.bMT(7,2,"network.topo.visu.subtitle"),t.npT),t.R7$(3),t.Y8G("chart",e.chart1)}}function po(o,F){if(1&o&&(t.EFF(0,"\n                  "),t.j41(1,"span"),t.EFF(2,"\n                    "),t.j41(3,"b"),t.EFF(4,"Name"),t.k0s(),t.EFF(5),t.j41(6,"b"),t.EFF(7,"IEEE"),t.k0s(),t.EFF(8),t.j41(9,"b"),t.EFF(10,"Model"),t.k0s(),t.EFF(11),t.k0s(),t.EFF(12,"\n                ")),2&o){const e=F.item;t.R7$(5),t.SpI(" : ",e.ZDeviceName," - "),t.R7$(3),t.SpI(" : ",e.IEEE," - "),t.R7$(3),t.SpI(" :\n                    ",e.Model,"\n                  ")}}function uo(o,F){1&o&&(t.EFF(0,"\n                        "),t.j41(1,"tr"),t.EFF(2,"\n                          "),t.j41(3,"th",22),t.EFF(4),t.nI1(5,"translate"),t.nrm(6,"p-sortIcon",23),t.EFF(7,"\n                          "),t.k0s(),t.EFF(8,"\n                          "),t.j41(9,"th",24),t.EFF(10),t.nI1(11,"translate"),t.nrm(12,"p-sortIcon",25),t.EFF(13,"\n                          "),t.k0s(),t.EFF(14,"\n                          "),t.j41(15,"th",26),t.EFF(16),t.nI1(17,"translate"),t.nrm(18,"p-sortIcon",27),t.EFF(19,"\n                          "),t.k0s(),t.EFF(20,"\n                          "),t.j41(21,"th",28),t.EFF(22),t.nI1(23,"translate"),t.nrm(24,"p-sortIcon",29),t.EFF(25,"\n                          "),t.k0s(),t.EFF(26,"\n                          "),t.j41(27,"th",30),t.EFF(28),t.nI1(29,"translate"),t.nrm(30,"p-sortIcon",31),t.EFF(31,"\n                          "),t.k0s(),t.EFF(32,"\n                          "),t.j41(33,"th",32),t.EFF(34),t.nI1(35,"translate"),t.nrm(36,"p-sortIcon",33),t.EFF(37,"\n                          "),t.k0s(),t.EFF(38,"\n                        "),t.k0s(),t.EFF(39,"\n                      ")),2&o&&(t.R7$(4),t.SpI("\n                            ",t.bMT(5,6,"network.topo.visu.network.relation.to"),""),t.R7$(6),t.SpI("\n                            ",t.bMT(11,8,"network.topo.visu.network.relation.weight"),""),t.R7$(6),t.SpI("\n                            ",t.bMT(17,10,"network.topo.visu.network.relation.model"),""),t.R7$(6),t.SpI("\n                            ",t.bMT(23,12,"network.topo.visu.network.relation.status"),""),t.R7$(6),t.SpI("\n                            ",t.bMT(29,14,"network.topo.visu.network.relation.health"),""),t.R7$(6),t.SpI("\n                            ",t.bMT(35,16,"network.topo.visu.network.relation.battery"),""))}function fo(o,F){if(1&o&&(t.EFF(0,"\n                        "),t.j41(1,"tr"),t.EFF(2,"\n                          "),t.j41(3,"td"),t.EFF(4),t.k0s(),t.EFF(5,"\n                          "),t.j41(6,"td"),t.EFF(7),t.k0s(),t.EFF(8,"\n                          "),t.j41(9,"td"),t.EFF(10),t.k0s(),t.EFF(11,"\n                          "),t.j41(12,"td"),t.EFF(13),t.k0s(),t.EFF(14,"\n                          "),t.j41(15,"td"),t.EFF(16),t.k0s(),t.EFF(17,"\n                          "),t.j41(18,"td"),t.EFF(19),t.k0s(),t.EFF(20,"\n                        "),t.k0s()),2&o){const e=F.$implicit;t.R7$(4),t.SpI("\n                            ",e.to,"\n                          "),t.R7$(3),t.SpI("\n                            ",e.weight,"\n                          "),t.R7$(3),t.SpI("\n                            ",e.Model,"\n                          "),t.R7$(3),t.SpI("\n                            ",e.Status,"\n                          "),t.R7$(3),t.SpI("\n                            ",e.Health,"\n                          "),t.R7$(3),t.SpI("\n                            ",e.Battery,"\n                          ")}}function go(o,F){if(1&o&&(t.j41(0,"div",17),t.EFF(1,"\n            "),t.j41(2,"div",2),t.EFF(3,"\n              "),t.j41(4,"div",4),t.EFF(5,"\n                "),t.nrm(6,"div",18),t.EFF(7,"\n                "),t.j41(8,"div",6),t.EFF(9,"\n                  "),t.nrm(10,"p",7),t.nI1(11,"translate"),t.EFF(12,"\n                  "),t.j41(13,"div",10),t.EFF(14,"\n                    "),t.j41(15,"p-table",19,0),t.nI1(17,"translate"),t.EFF(18,"\n                      "),t.DNE(19,uo,40,18,"ng-template",20),t.EFF(20,"\n                      "),t.DNE(21,fo,21,6,"ng-template",21),t.EFF(22,"\n                    "),t.k0s(),t.EFF(23,"\n                  "),t.k0s(),t.EFF(24,"\n                "),t.k0s(),t.EFF(25,"\n              "),t.k0s(),t.EFF(26,"\n            "),t.k0s(),t.EFF(27,"\n          "),t.k0s()),2&o){const e=t.XpG(2);t.R7$(6),t.Y8G("translateParams",t.eq3(14,lo,e.selectedPoint.name)),t.R7$(4),t.Y8G("innerHTML",t.bMT(11,10,"network.topo.visu.network.relation.subtitle"),t.npT),t.R7$(5),t.FS9("currentPageReportTemplate",t.bMT(17,12,"TOTAL")),t.Y8G("rowHover",!0)("showCurrentPageReport",!0)("rowsPerPageOptions",t.lJ4(16,co))("value",e.relationsSelected)("rows",10)("paginator",!0)("scrollable",!0)}}function mo(o,F){if(1&o&&(t.j41(0,"div",4),t.EFF(1,"\n      "),t.nrm(2,"div",9),t.EFF(3,"\n      "),t.j41(4,"div",6),t.EFF(5,"\n        "),t.nrm(6,"p",7),t.nI1(7,"translate"),t.EFF(8,"\n        "),t.j41(9,"div",10),t.EFF(10,"\n          "),t.j41(11,"div"),t.EFF(12,"\n            "),t.j41(13,"form",11),t.EFF(14,"\n              "),t.nrm(15,"input",12),t.EFF(16,"\n              "),t.j41(17,"ng-select",13),t.nI1(18,"translate"),t.EFF(19,"\n                "),t.DNE(20,po,13,3,"ng-template",14),t.EFF(21,"\n              "),t.k0s(),t.EFF(22,"\n            "),t.k0s(),t.EFF(23,"\n          "),t.k0s(),t.EFF(24,"\n          "),t.nrm(25,"div",15),t.EFF(26,"\n          "),t.DNE(27,go,28,17,"div",16),t.EFF(28,"\n        "),t.k0s(),t.EFF(29,"\n      "),t.k0s(),t.EFF(30,"\n    "),t.k0s()),2&o){const e=t.XpG();t.R7$(6),t.Y8G("innerHTML",t.bMT(7,9,"network.topo.visu.network.subtitle"),t.npT),t.R7$(7),t.Y8G("formGroup",e.form),t.R7$(4),t.FS9("placeholder",t.bMT(18,11,"network.topo.visu.network.filter")),t.Y8G("items",e.devices)("multiple",!1)("closeOnSelect",!0)("searchable",!0),t.R7$(8),t.Y8G("chart",e.chart2),t.R7$(2),t.Y8G("ngIf",e.relationsSelected)}}let vo=(()=>{class o extends pe.U{apiService;translate;formBuilder;timeStamp;chart1;chart2;form;datas;devices;showDetail=!1;device;data;relationsSelected;selectedPoint;constructor(e,i,a){super(),this.apiService=e,this.translate=i,this.formBuilder=a}ngOnInit(){this.form=this.formBuilder.group({nodeToFilter:[null],detail:[null]}),this.apiService.getZDeviceName().subscribe(e=>{this.devices=e,this.devices.unshift({IEEE:"",MacCapa:[""],Model:"",Health:"",Status:"",WidgetList:[""],ZDeviceName:"Zigbee Coordinator",_NwkId:""})}),this.subs.sink=this.form.get("nodeToFilter").valueChanges.subscribe(e=>{this.createChart2(e)}),this.subs.add(this.form.get("detail").valueChanges.subscribe(()=>{const e=[];this.selectedPoint=this.chart2.ref.hoverPoint,this.selectedPoint.linksFrom.map(M=>M.options).map(M=>{const x=this.devices.find(L=>L.ZDeviceName===M.to||L._NwkId===M.to);e.push({to:M.to,from:M.from,weight:M.weight,Model:x.Model,Status:x.Status,Health:x.Health,Battery:x.Battery})}),this.selectedPoint.linksTo.map(M=>M.options).map(M=>{if(!e.some(x=>x.to===M.from)){const x=this.devices.find(L=>L.ZDeviceName===M.from||L._NwkId===M.from);e.push({to:M.from,from:M.from,weight:x.LQI,Model:x.Model,Status:x.Status,Health:x.Health,Battery:x.Battery})}}),this.relationsSelected=e}))}ngOnChanges(e){e.timeStamp.currentValue!==e.timeStamp.previousValue&&this.apiService.getTopologieByTimeStamp(this.timeStamp).subscribe(i=>{this.datas=i,this.createChart1(),this.createChart2()})}createChart1(){const e=this.datas.map(a=>{const M=Object.values(a);return M.splice(1,1),M}),i=new et.t1({chart:{type:"dependencywheel",height:"80%"},title:{text:this.translate.instant("network.topo.device.visu.chart.title")},credits:{enabled:!1},series:[{type:void 0,keys:["to","from","weight"],data:e}]});this.chart1=i}createChart2(e){let i=this.datas.map(x=>{const L=Object.values(x);return L.splice(1,1),L});e&&(i=i.filter(x=>x[0].toLowerCase()===e.toLowerCase()||x[1].toLowerCase()===e.toLowerCase()));const a=[{nodes:void 0,type:void 0,keys:["to","from","weight"],dataLabels:{enabled:!0,linkFormat:""},data:i}];this.test(a);const M=new et.t1({chart:{type:"networkgraph",height:"80%"},title:{text:this.translate.instant("network.topo.device.visu.network.chart.title")},credits:{enabled:!1},plotOptions:{networkgraph:{keys:["to","from","weight"],layoutAlgorithm:{enableSimulation:!0,integration:"verlet"}},series:{point:{events:{click:function(){document.getElementById("detail").dispatchEvent(new Event("input",{bubbles:!0}))}}}}},series:a});this.chart2=M}test(e){const i=ue.getOptions().colors;let a=0;const M={"Zigbee Coordinator":{id:"Zigbee Coordinator",marker:{radius:20}}},x=this.datas.filter(R=>"Zigbee Coordinator"===R.Child),L=[];x.forEach(R=>{M[R.Father]={id:R.Father,marker:{radius:10},color:i[a++]},L.push(R.Father)}),this.colorNode(M,L),e[0].nodes=Object.keys(M).map(function(R){return M[R]})}colorNode(e,i){i.forEach(a=>{const M=[];this.datas.filter(L=>L.Child===a).forEach(L=>{e[L.Father]||(e[L.Father]={id:L.Father,color:e[L.Child].color},M.push(L.Father))}),M.length>0&&this.colorNode(e,M)})}static \u0275fac=function(i){return new(i||o)(t.rXU(Ct.G),t.rXU(it.c$),t.rXU(Ft.ok))};static \u0275cmp=t.VBU({type:o,selectors:[["app-detail-topology"]],inputs:{timeStamp:"timeStamp"},features:[t.Vt3,t.OA$],decls:13,vars:2,consts:[["dt1",""],[1,"row","row-cols-1","row-cols-lg-2","g-4","mt-1"],[1,"col"],["class","card",4,"ngIf"],[1,"card"],["translate","network.topo.visu.header",1,"card-header","fw-bold"],[1,"card-body"],[1,"card-text",3,"innerHTML"],[1,"card-text",3,"chart"],["translate","network.topo.visu.network.header",1,"card-header","fw-bold"],[1,"card-text"],[3,"formGroup"],["type","hidden","formControlName","detail","id","detail"],["bindLabel","ZDeviceName","bindValue","ZDeviceName","appendTo","body","formControlName","nodeToFilter",3,"items","multiple","closeOnSelect","searchable","placeholder"],["ng-option-tmp",""],[3,"chart"],["class","row",4,"ngIf"],[1,"row"],["translate","network.topo.visu.network.relation.header",1,"card-header","fw-bold",3,"translateParams"],["styleClass","p-datatable-sm","responsiveLayout","scroll",3,"rowHover","showCurrentPageReport","currentPageReportTemplate","rowsPerPageOptions","value","rows","paginator","scrollable"],["pTemplate","header"],["pTemplate","body"],["pSortableColumn","to"],["field","to"],["pSortableColumn","weight"],["field","weight"],["pSortableColumn","Model",2,"width","8rem"],["field","Model"],["pSortableColumn","Status",2,"width","10rem"],["field","Status"],["pSortableColumn","Health"],["field","Health"],["pSortableColumn","Battery"],["field","Battery"]],template:function(i,a){1&i&&(t.j41(0,"div",1),t.EFF(1,"\n  "),t.j41(2,"div",2),t.EFF(3,"\n    "),t.DNE(4,ho,12,4,"div",3),t.EFF(5,"\n  "),t.k0s(),t.EFF(6,"\n  "),t.j41(7,"div",2),t.EFF(8,"\n    "),t.DNE(9,mo,31,13,"div",3),t.EFF(10,"\n  "),t.k0s(),t.EFF(11,"\n"),t.k0s(),t.EFF(12,"\n")),2&i&&(t.R7$(4),t.Y8G("ngIf",a.chart1),t.R7$(5),t.Y8G("ngIf",a.chart2))},dependencies:[y.bT,Ft.qT,Ft.me,Ft.BC,Ft.cb,Ft.j4,Ft.JD,fe.vr,fe.Uq,it.Mm,Ht.XI,ao.Ei,Ht.Tg,Ht.yc,et.S6,it.D9]})}return o})(),bo=(()=>{class o{apiService;toastr;translate;stats$;constructor(e,i,a){this.apiService=e,this.toastr=i,this.translate=a}reqTopology(){this.apiService.getReqTopologie().subscribe(()=>{this.toastr.success(this.translate.instant("api.global.succes.scanlaunched.notify"))})}static \u0275fac=function(i){return new(i||o)(t.rXU(Ct.G),t.rXU($t.tw),t.rXU(it.c$))};static \u0275cmp=t.VBU({type:o,selectors:[["app-req-topology"]],decls:16,vars:3,consts:[[1,"card"],["translate","network.topology.req.header",1,"card-header","fw-bold"],[1,"card-body"],[1,"card-text",3,"innerHTML"],[1,"card-footer","d-flex","justify-content-end"],["translate","network.topology.req.button",1,"btn","btn-light",3,"click"]],template:function(i,a){1&i&&(t.j41(0,"div",0),t.EFF(1,"\n  "),t.nrm(2,"div",1),t.EFF(3,"\n  "),t.j41(4,"div",2),t.EFF(5,"\n    "),t.nrm(6,"p",3),t.nI1(7,"translate"),t.EFF(8,"\n  "),t.k0s(),t.EFF(9,"\n  "),t.j41(10,"div",4),t.EFF(11,"\n    "),t.j41(12,"button",5),t.bIt("click",function(){return a.reqTopology()}),t.k0s(),t.EFF(13,"\n  "),t.k0s(),t.EFF(14,"\n"),t.k0s(),t.EFF(15,"\n")),2&i&&(t.R7$(6),t.Y8G("innerHTML",t.bMT(7,1,"network.topology.req.subtitle"),t.npT))},dependencies:[it.Mm,it.D9]})}return o})();function yo(o,F){if(1&o){const e=t.RV6();t.j41(0,"span",14),t.EFF(1,"\n                    "),t.j41(2,"button",15),t.bIt("click",function(){const a=t.eBV(e).$implicit,M=t.XpG(2);return t.Njj(M.topologyByDate(a.value))}),t.EFF(3),t.nI1(4,"date"),t.k0s(),t.EFF(5,"\n                    "),t.j41(6,"button",16),t.nI1(7,"translate"),t.bIt("click",function(){const a=t.eBV(e).$implicit,M=t.XpG(2);return t.Njj(M.deleteTopologyByDate(a.value))}),t.EFF(8,"\n                      "),t.nrm(9,"i",17),t.EFF(10,"\n                    "),t.k0s(),t.EFF(11,"\n                  "),t.k0s()}if(2&o){const e=F.$implicit;t.R7$(3),t.SpI("\n                      ",t.i5U(4,2,1e3*e.value,"dd/MM/yyyy HH:mm:ss"),"\n                    "),t.R7$(3),t.FS9("title",t.bMT(7,5,"network.topo.visu.delete.button"))}}function wo(o,F){if(1&o&&(t.j41(0,"div",4),t.EFF(1,"\n      "),t.nrm(2,"div",5),t.EFF(3,"\n      "),t.j41(4,"div",6),t.EFF(5,"\n        "),t.nrm(6,"p",7),t.nI1(7,"translate"),t.EFF(8,"\n        "),t.j41(9,"div",8),t.EFF(10,"\n          "),t.j41(11,"div",9),t.EFF(12,"\n            "),t.j41(13,"div",10),t.EFF(14,"\n              "),t.j41(15,"ng-scrollbar",11),t.EFF(16,"\n                "),t.j41(17,"div",12),t.EFF(18,"\n                  "),t.DNE(19,yo,12,7,"span",13),t.nI1(20,"keyvalue"),t.EFF(21,"\n                "),t.k0s(),t.EFF(22,"\n              "),t.k0s(),t.EFF(23,"\n            "),t.k0s(),t.EFF(24,"\n          "),t.k0s(),t.EFF(25,"\n        "),t.k0s(),t.EFF(26,"\n      "),t.k0s(),t.EFF(27,"\n    "),t.k0s()),2&o){const e=F.ngIf,i=t.XpG();t.R7$(6),t.Y8G("innerHTML",t.bMT(7,2,"network.topo.subtitle"),t.npT),t.R7$(13),t.Y8G("ngForOf",t.i5U(20,4,e,i.sortDesc))}}function _o(o,F){if(1&o&&(t.j41(0,"div"),t.nrm(1,"app-detail-topology",18),t.k0s()),2&o){const e=t.XpG();t.R7$(),t.Y8G("timeStamp",e.timeStamp)}}const So=[{path:"topology",component:(()=>{class o{apiService;cdr;timeStamp;topologies$;constructor(e,i){this.apiService=e,this.cdr=i}ngOnInit(){this.topologies$=this.apiService.getTopologie()}sortDesc(e,i){return de(e,i)}topologyByDate(e){this.timeStamp=e}deleteTopologyByDate(e){this.apiService.deleteTopologieByTimeStamp(e).subscribe(()=>{this.topologies$=this.apiService.getTopologie(),this.cdr.detectChanges()})}static \u0275fac=function(i){return new(i||o)(t.rXU(Ct.G),t.rXU(t.gRc))};static \u0275cmp=t.VBU({type:o,selectors:[["app-topology"]],decls:14,vars:4,consts:[[1,"row","row-cols-1","row-cols-xxl-5","row-cols-xl-4","row-cols-lg-3","row-cols-md-2","row-cols-sm-1","g-4"],[1,"col"],["class","card",4,"ngIf"],[4,"ngIf"],[1,"card"],["translate","network.topo.header",1,"card-header","fw-bold"],[1,"card-body"],[1,"card-text",3,"innerHTML"],[1,"card-text"],[1,"vertical-container"],[1,"content-container"],[1,"scroll-container"],[1,"scrollable-content"],["class","d-sm-flex gap-2",4,"ngFor","ngForOf"],[1,"d-sm-flex","gap-2"],[1,"btn","btn-light",3,"click"],[1,"btn","btn-light",3,"click","title"],[1,"fa","fa-trash"],[3,"timeStamp"]],template:function(i,a){1&i&&(t.j41(0,"div",0),t.EFF(1,"\n  "),t.j41(2,"div",1),t.EFF(3,"\n    "),t.DNE(4,wo,28,7,"div",2),t.nI1(5,"async"),t.EFF(6,"\n  "),t.k0s(),t.EFF(7,"\n  "),t.j41(8,"div"),t.nrm(9,"app-req-topology"),t.k0s(),t.EFF(10,"\n"),t.k0s(),t.EFF(11,"\n"),t.DNE(12,_o,2,1,"div",3),t.EFF(13,"\n")),2&i&&(t.R7$(4),t.Y8G("ngIf",t.bMT(5,2,a.topologies$)),t.R7$(8),t.Y8G("ngIf",a.timeStamp))},dependencies:[y.Sq,y.bT,it.Mm,le,vo,bo,y.Jj,y.vh,y.lG,it.D9],styles:[".content-container[_ngcontent-%COMP%]{position:relative;overflow:auto;height:150px;min-height:0}.vertical-container[_ngcontent-%COMP%], .horizontal-container[_ngcontent-%COMP%]{min-height:0}.scroll-container[_ngcontent-%COMP%]{position:relative}.scrollable-content[_ngcontent-%COMP%]{padding:16px;margin:0}"]})}return o})(),data:{title:(0,he.o6)("network.topo")}},{path:"energy-level",component:no,data:{title:(0,he.o6)("network.energy")}}];let ko=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275mod=t.$C({type:o});static \u0275inj=t.G2t({imports:[ce.iI.forChild(So),ce.iI]})}return o})(),xo=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275mod=t.$C({type:o});static \u0275inj=t.G2t({providers:[{provide:et.SV,useFactory:()=>[Q,K,I,S,O]}],imports:[ko,ht.G,et.Fr,Qe]})}return o})()},69820:(nt,_t,X)=>{var ht,et,Q;Q=function(Q){"use strict";var S=Q?Q._modules:{};function K(O,I,E,t){O.hasOwnProperty(I)||(O[I]=t.apply(null,E),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:I,module:O[I]}})))}K(S,"Series/DependencyWheel/DependencyWheelPoint.js",[S["Core/Series/SeriesRegistry.js"],S["Core/Utilities.js"]],function(O,I){const{sankey:{prototype:{pointClass:E}}}=O.seriesTypes,{pInt:t,wrap:T}=I;return class N extends E{getDataLabelPath(P){const c=this,h=c.series.chart.renderer,m=c.shapeArgs,_=c.angle<0||c.angle>Math.PI,f=m.start||0,k=m.end||0;return c.dataLabelPath?(c.dataLabelPath=c.dataLabelPath.destroy(),delete c.dataLabelPath):T(P,"destroy",function(n){return c.dataLabelPath&&(c.dataLabelPath=c.dataLabelPath.destroy()),n.call(this)}),c.dataLabelPath=h.arc({open:!0,longArc:Math.abs(Math.abs(f)-Math.abs(k))<Math.PI?0:1}).attr({x:m.x,y:m.y,r:(m.r||0)+t(P.options?.distance||0),start:_?f:k,end:_?k:f,clockwise:+_}).add(h.defs),c.dataLabelPath}isValid(){return!0}}}),K(S,"Series/DependencyWheel/DependencyWheelSeriesDefaults.js",[],function(){return{center:[null,null],curveFactor:.6,startAngle:0,dataLabels:{textPath:{enabled:!1,attributes:{dy:5}}}}}),K(S,"Series/DependencyWheel/DependencyWheelSeries.js",[S["Core/Animation/AnimationUtilities.js"],S["Series/DependencyWheel/DependencyWheelPoint.js"],S["Series/DependencyWheel/DependencyWheelSeriesDefaults.js"],S["Core/Globals.js"],S["Series/Sankey/SankeyColumnComposition.js"],S["Core/Series/SeriesRegistry.js"],S["Core/Utilities.js"]],function(O,I,E,t,T,N,j){const{animObject:P}=O,{deg2rad:c}=t,{pie:h,sankey:m}=N.seriesTypes,{extend:_,merge:f,relativeLength:k}=j;class n extends m{animate(d){const l=this;if(!d){const b=P(l.options.animation).duration/2/l.nodes.length;let p=0;for(const v of l.nodes){const D=v.graphic;D&&(D.attr({opacity:0}),setTimeout(()=>{v.graphic&&v.graphic.animate({opacity:1},{duration:b})},b*p++))}for(const v of l.points){const D=v.graphic;!v.isNode&&D&&D.attr({opacity:0}).animate({opacity:1},l.options.animation)}}}createNode(d){const l=super.createNode(d);return l.getSum=()=>l.linksFrom.concat(l.linksTo).reduce((g,b)=>g+b.weight,0),l.offset=g=>{const b=r=>r.fromNode===l?r.toNode:r.fromNode;let D,p=0,v=l.linksFrom.concat(l.linksTo);v.sort((r,u)=>b(r).index-b(u).index);for(let r=0;r<v.length;r++)if(b(v[r]).index>l.index){v=v.slice(0,r).reverse().concat(v.slice(r).reverse()),D=!0;break}D||v.reverse();for(let r=0;r<v.length;r++){if(v[r]===g)return p;p+=v[r].weight}},l}createNodeColumns(){const d=this,l=[T.compose([],d)];for(const g of d.nodes)g.column=0,l[0].push(g);return l}getNodePadding(){return this.options.nodePadding/Math.PI}translate(){const d=this,l=d.options,g=2*Math.PI/(d.chart.plotHeight+d.getNodePadding()),b=d.getCenter(),p=(l.startAngle-90)*c,v=l.borderRadius,D="object"==typeof v?v.radius:v;super.translate();for(const r of this.nodeColumns[0])if(r.sum){const u=r.shapeArgs,w=b[0],C=b[1],y=b[2]/2,z=y-k(("auto"===l.nodeWidth?20:l.nodeWidth)||0,y),V=p+g*(u.y||0),Z=p+g*((u.y||0)+(u.height||0));r.angle=V+(Z-V)/2,r.shapeType="arc",r.shapeArgs={x:w,y:C,r:y,innerR:z,start:V,end:Z,borderRadius:D},r.dlBox={x:w+Math.cos((V+Z)/2)*(y+z)/2,y:C+Math.sin((V+Z)/2)*(y+z)/2,width:1,height:1};for(const q of r.linksFrom)if(q.linkBase){let $,Y;const J=q.linkBase.map((B,U)=>{const G=g*B,H=Math.cos(p+G)*(z+1),rt=Math.sin(p+G)*(z+1);return $=l.curveFactor||0,Y=Math.abs(q.linkBase[3-U]*g-G),Y>Math.PI&&(Y=2*Math.PI-Y),Y*=z,Y<z&&($*=Y/z),{x:w+H,y:C+rt,cpX:w+(1-$)*H,cpY:C+(1-$)*rt}});q.shapeArgs={d:[["M",J[0].x,J[0].y],["A",z,z,0,0,1,J[1].x,J[1].y],["C",J[1].cpX,J[1].cpY,J[2].cpX,J[2].cpY,J[2].x,J[2].y],["A",z,z,0,0,1,J[3].x,J[3].y],["C",J[3].cpX,J[3].cpY,J[0].cpX,J[0].cpY,J[0].x,J[0].y]]}}}}}return n.defaultOptions=f(m.defaultOptions,E),_(n.prototype,{orderNodes:!1,getCenter:h.prototype.getCenter}),n.prototype.pointClass=I,N.registerSeriesType("dependencywheel",n),n}),K(S,"masters/modules/dependency-wheel.src.js",[S["Core/Globals.js"]],function(O){return O})},nt.exports?(Q.default=Q,nt.exports=Q):(ht=[X(21264),X(95606)],void 0!==(et=function(S){return Q(S),Q.Highcharts=S,Q}.apply(_t,ht))&&(nt.exports=et))},2501:(nt,_t,X)=>{var ht,et,Q;Q=function(Q){"use strict";var S=Q?Q._modules:{};function K(O,I,E,t){O.hasOwnProperty(I)||(O[I]=t.apply(null,E),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:I,module:O[I]}})))}K(S,"Series/DragNodesComposition.js",[S["Core/Globals.js"],S["Core/Utilities.js"]],function(O,I){const{composed:E}=O,{addEvent:t,pushUnique:T}=I;function j(){const f=this;let k,n,s;f.container&&(k=t(f.container,"mousedown",d=>{const l=f.hoverPoint;l&&l.series&&l.series.hasDraggableNodes&&l.series.options.draggable&&(l.series.onMouseDown(l,d),n=t(f.container,"mousemove",g=>l&&l.series&&l.series.onMouseMove(l,g)),s=t(f.container.ownerDocument,"mouseup",g=>(n(),s(),l&&l.series&&l.series.onMouseUp(l,g))))})),t(f,"destroy",function(){k()})}return{compose:function N(f){T(E,"DragNodes")&&t(f,"load",j)},onMouseDown:function P(f,k){const n=this.chart.pointer?.normalize(k)||k;f.fixedPosition={chartX:n.chartX,chartY:n.chartY,plotX:f.plotX,plotY:f.plotY},f.inDragMode=!0},onMouseMove:function c(f,k){if(f.fixedPosition&&f.inDragMode){const s=this.chart,d=s.pointer?.normalize(k)||k,l=f.fixedPosition.chartX-d.chartX,g=f.fixedPosition.chartY-d.chartY,b=s.graphLayoutsLookup;let p,v;(Math.abs(l)>5||Math.abs(g)>5)&&(p=f.fixedPosition.plotX-l,v=f.fixedPosition.plotY-g,s.isInsidePlot(p,v)&&(f.plotX=p,f.plotY=v,f.hasDragged=!0,this.redrawHalo(f),b.forEach(D=>{D.restartSimulation()})))}},onMouseUp:function h(f){f.fixedPosition&&(f.hasDragged&&(this.layout.enableSimulation?this.layout.start():this.chart.redraw()),f.inDragMode=f.hasDragged=!1,this.options.fixedDraggable||delete f.fixedPosition)},redrawHalo:function m(f){f&&this.halo&&this.halo.attr({d:f.haloPath(this.options.states.hover.halo.size)})}}}),K(S,"Series/GraphLayoutComposition.js",[S["Core/Animation/AnimationUtilities.js"],S["Core/Globals.js"],S["Core/Utilities.js"]],function(O,I,E){const{setAnimation:t}=O,{composed:T}=I,{addEvent:N,pushUnique:j}=E;function m(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(s=>{s.updateSimulation()}),this.redraw())}function _(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(s=>{s.updateSimulation(!1)}),this.redraw())}function f(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(s=>{s.stop()})}function k(){let s,d=!1;const l=g=>{g.maxIterations--&&isFinite(g.temperature)&&!g.isStable()&&!g.enableSimulation&&(g.beforeStep&&g.beforeStep(),g.step(),s=!1,d=!0)};if(this.graphLayoutsLookup){for(t(!1,this),this.graphLayoutsLookup.forEach(g=>g.start());!s;)s=!0,this.graphLayoutsLookup.forEach(l);d&&this.series.forEach(g=>{g&&g.layout&&g.render()})}}return{compose:function h(s){j(T,"GraphLayout")&&(N(s,"afterPrint",m),N(s,"beforePrint",_),N(s,"predraw",f),N(s,"render",k))},integrations:{},layouts:{}}}),K(S,"Series/NodesComposition.js",[S["Core/Series/SeriesRegistry.js"],S["Core/Utilities.js"]],function(O,I){const{series:{prototype:E,prototype:{pointClass:{prototype:t}}}}=O,{defined:T,extend:N,find:j,merge:P,pick:c}=I;var h;return function(m){function k(){return this.data=[].concat(this.points||[],this.nodes),E.destroy.apply(this,arguments)}function s(){this.nodes&&(this.nodes.forEach(g=>{g.destroy()}),this.nodes.length=0),E.setData.apply(this,arguments)}function d(g){const b=arguments,p=this.isNode?this.linksTo.concat(this.linksFrom):[this.fromNode,this.toNode];"select"!==g&&p.forEach(v=>{v&&v.series&&(t.setState.apply(v,b),v.isNode||(v.fromNode.graphic&&t.setState.apply(v.fromNode,b),v.toNode&&v.toNode.graphic&&t.setState.apply(v.toNode,b)))}),t.setState.apply(this,b)}function l(g,b,p,v){const D=this.series.options.nodes,r=this.series.options.data,u=r&&r.length||0,w=r&&r[this.index];if(t.update.call(this,g,!this.isNode&&b,p,v),this.isNode){const C=(D||[]).reduce((A,z,V)=>this.id===z.id?V:A,-1),y=P(D&&D[C]||{},r&&r[this.index]||{});r&&(w?r[this.index]=w:r.length=u),D?C>=0?D[C]=y:D.push(y):this.series.options.nodes=[y],c(b,!0)&&this.series.chart.redraw(p)}}m.compose=function _(g,b){const p=g.prototype,v=b.prototype;return p.setNodeState=d,p.setState=d,p.update=l,v.destroy=k,v.setData=s,b},m.createNode=function f(g){const b=this.pointClass,p=(r,u)=>j(r,w=>w.id===u);let D,v=p(this.nodes,g);if(!v){D=this.options.nodes&&p(this.options.nodes,g);const r=new b(this,N({className:"highcharts-node",isNode:!0,id:g,y:1},D));r.linksTo=[],r.linksFrom=[],r.getSum=function(){let u=0,w=0;return r.linksTo.forEach(C=>{u+=C.weight||0}),r.linksFrom.forEach(C=>{w+=C.weight||0}),Math.max(u,w)},r.offset=function(u,w){let C=0;for(let y=0;y<r[w].length;y++){if(r[w][y]===u)return C;C+=r[w][y].weight}},r.hasShape=function(){let u=0;return r.linksTo.forEach(w=>{w.outgoing&&u++}),!r.linksTo.length||u!==r.linksTo.length},r.index=this.nodes.push(r)-1,v=r}return v.formatPrefix="node",v.name=v.name||v.options.id||"",v.mass=c(v.options.mass,v.options.marker&&v.options.marker.radius,this.options.marker&&this.options.marker.radius,4),v},m.destroy=k,m.generatePoints=function n(){const g=this.chart,b={};E.generatePoints.call(this),this.nodes||(this.nodes=[]),this.colorCounter=0,this.nodes.forEach(p=>{p.linksFrom.length=0,p.linksTo.length=0,p.level=p.options.level}),this.points.forEach(p=>{T(p.from)&&(b[p.from]||(b[p.from]=this.createNode(p.from)),b[p.from].linksFrom.push(p),p.fromNode=b[p.from],g.styledMode?p.colorIndex=c(p.options.colorIndex,b[p.from].colorIndex):p.color=p.options.color||b[p.from].color),T(p.to)&&(b[p.to]||(b[p.to]=this.createNode(p.to)),b[p.to].linksTo.push(p),p.toNode=b[p.to]),p.name=p.name||p.id},this),this.nodeLookup=b},m.setNodeState=d,m.updateNode=l}(h||(h={})),h}),K(S,"Series/Networkgraph/NetworkgraphPoint.js",[S["Series/NodesComposition.js"],S["Core/Series/SeriesRegistry.js"],S["Core/Utilities.js"]],function(O,I,E){const{series:{prototype:t,prototype:{pointClass:T}}}=I,{addEvent:N,css:j,defined:P,extend:c,pick:h}=E;class m extends T{destroy(){return this.isNode&&this.linksFrom.concat(this.linksTo).forEach(function(f){f.destroyElements&&f.destroyElements()}),this.series.layout.removeElementFromCollection(this,this.series.layout[this.isNode?"nodes":"links"]),T.prototype.destroy.apply(this,arguments)}getDegree(){const f=this.isNode?this.linksFrom.length+this.linksTo.length:0;return 0===f?1:f}getLinkAttributes(){const f=this.series.options.link,k=this.options;return{"stroke-width":h(k.width,f.width),stroke:k.color||f.color,dashstyle:k.dashStyle||f.dashStyle,opacity:h(k.opacity,f.opacity,1)}}getLinkPath(){let f=this.fromNode,k=this.toNode;return f.plotX>k.plotX&&(f=this.toNode,k=this.fromNode),[["M",f.plotX||0,f.plotY||0],["L",k.plotX||0,k.plotY||0]]}getMass(){const f=this.fromNode.mass,k=this.toNode.mass,n=f+k;return{fromNode:1-f/n,toNode:1-k/n}}constructor(f,k,n){super(f,k,n),this.series.options.draggable&&!this.series.chart.styledMode&&(N(this,"mouseOver",function(){j(this.series.chart.container,{cursor:"move"})}),N(this,"mouseOut",function(){j(this.series.chart.container,{cursor:"default"})}))}isValid(){return!this.isNode||P(this.id)}redrawLink(){let k,f=this.getLinkPath();if(this.graphic){this.shapeArgs={d:f},this.series.chart.styledMode||(k=this.series.pointAttribs(this),this.graphic.attr(k),(this.dataLabels||[]).forEach(function(d){d&&d.attr({opacity:k.opacity})})),this.graphic.animate(this.shapeArgs);const n=f[0],s=f[1];"M"===n[0]&&"L"===s[0]&&(this.plotX=(n[1]+s[1])/2,this.plotY=(n[2]+s[2])/2)}}remove(f,k){let l,n=this,s=n.series,d=s.options.nodes||[],g=d.length;if(n.isNode){for(s.points=[],[].concat(n.linksFrom).concat(n.linksTo).forEach(function(b){l=b.fromNode.linksFrom.indexOf(b),l>-1&&b.fromNode.linksFrom.splice(l,1),l=b.toNode.linksTo.indexOf(b),l>-1&&b.toNode.linksTo.splice(l,1),t.removePoint.call(s,s.data.indexOf(b),!1,!1)}),s.points=s.data.slice(),s.nodes.splice(s.nodes.indexOf(n),1);g--;)if(d[g].id===n.options.id){s.options.nodes.splice(g,1);break}n&&n.destroy(),s.isDirty=!0,s.isDirtyData=!0,f&&s.chart.redraw(f)}else s.removePoint(s.data.indexOf(n),f,k)}renderLink(){let f;this.graphic||(this.graphic=this.series.chart.renderer.path(this.getLinkPath()).addClass(this.getClassName(),!0).add(this.series.group),this.series.chart.styledMode||(f=this.series.pointAttribs(this),this.graphic.attr(f),(this.dataLabels||[]).forEach(function(k){k&&k.attr({opacity:f.opacity})})))}}return c(m.prototype,{setState:O.setNodeState}),m}),K(S,"Series/Networkgraph/NetworkgraphSeriesDefaults.js",[],function(){return{stickyTracking:!1,inactiveOtherPoints:!0,marker:{enabled:!0,states:{inactive:{opacity:.3,animation:{duration:50}}}},states:{inactive:{linkOpacity:.3,animation:{duration:50}}},dataLabels:{formatter:function(){return this.key},linkFormatter:function(){return this.point.fromNode.name+"<br>"+this.point.toNode.name},linkTextPath:{enabled:!0},textPath:{enabled:!1},style:{transition:"opacity 2000ms"},defer:!0,animation:{defer:1e3}},link:{color:"rgba(100, 100, 100, 0.5)",width:1},draggable:!0,layoutAlgorithm:{initialPositions:"circle",initialPositionRadius:1,enableSimulation:!1,theta:.5,maxSpeed:10,approximation:"none",type:"reingold-fruchterman",integration:"euler",maxIterations:1e3,gravitationalConstant:.0625,friction:-.981},showInLegend:!1}}),K(S,"Series/Networkgraph/EulerIntegration.js",[],function(){return{attractive:function O(c,h,m,_){const f=c.getMass(),k=m.x/_*h,n=m.y/_*h;c.fromNode.fixedPosition||(c.fromNode.dispX-=k*f.fromNode/c.fromNode.degree,c.fromNode.dispY-=n*f.fromNode/c.fromNode.degree),c.toNode.fixedPosition||(c.toNode.dispX+=k*f.toNode/c.toNode.degree,c.toNode.dispY+=n*f.toNode/c.toNode.degree)},attractiveForceFunction:function I(c,h){return c*c/h},barycenter:function E(){const c=this.options.gravitationalConstant,h=this.barycenter.xFactor,m=this.barycenter.yFactor;this.nodes.forEach(function(_){if(!_.fixedPosition){const f=_.getDegree(),k=f*(1+f/2);_.dispX+=(h-_.plotX)*c*k/_.degree,_.dispY+=(m-_.plotY)*c*k/_.degree}})},getK:function t(c){return Math.pow(c.box.width*c.box.height/c.nodes.length,.3)},integrate:function T(c,h){let m;h.dispX+=h.dispX*c.options.friction,h.dispY+=h.dispY*c.options.friction,m=h.temperature=c.vectorLength({x:h.dispX,y:h.dispY}),0!==m&&(h.plotX+=h.dispX/m*Math.min(Math.abs(h.dispX),c.temperature),h.plotY+=h.dispY/m*Math.min(Math.abs(h.dispY),c.temperature))},repulsive:function N(c,h,m,_){c.dispX+=m.x/_*h/c.degree,c.dispY+=m.y/_*h/c.degree},repulsiveForceFunction:function j(c,h){return h*h/c}}}),K(S,"Series/Networkgraph/QuadTreeNode.js",[],function(){class O{constructor(E){this.body=!1,this.isEmpty=!1,this.isInternal=!1,this.nodes=[],this.box=E,this.boxSize=Math.min(E.width,E.height)}divideBox(){const E=this.box.width/2,t=this.box.height/2;this.nodes[0]=new O({left:this.box.left,top:this.box.top,width:E,height:t}),this.nodes[1]=new O({left:this.box.left+E,top:this.box.top,width:E,height:t}),this.nodes[2]=new O({left:this.box.left+E,top:this.box.top+t,width:E,height:t}),this.nodes[3]=new O({left:this.box.left,top:this.box.top+t,width:E,height:t})}getBoxPosition(E){const T=E.plotY<this.box.top+this.box.height/2;let N;return N=E.plotX<this.box.left+this.box.width/2?T?0:3:T?1:2,N}insert(E,t){let T;this.isInternal?this.nodes[this.getBoxPosition(E)].insert(E,t-1):(this.isEmpty=!1,this.body?t?(this.isInternal=!0,this.divideBox(),!0!==this.body&&(this.nodes[this.getBoxPosition(this.body)].insert(this.body,t-1),this.body=!0),this.nodes[this.getBoxPosition(E)].insert(E,t-1)):(T=new O({top:E.plotX||NaN,left:E.plotY||NaN,width:.1,height:.1}),T.body=E,T.isInternal=!1,this.nodes.push(T)):(this.isInternal=!1,this.body=E))}updateMassAndCenter(){let E=0,t=0,T=0;if(this.isInternal){for(const N of this.nodes)N.isEmpty||(E+=N.mass,t+=N.plotX*N.mass,T+=N.plotY*N.mass);t/=E,T/=E}else this.body&&(E=this.body.mass,t=this.body.plotX,T=this.body.plotY);this.mass=E,this.plotX=t,this.plotY=T}}return O}),K(S,"Series/Networkgraph/QuadTree.js",[S["Series/Networkgraph/QuadTreeNode.js"]],function(O){return class I{constructor(t,T,N,j){this.box={left:t,top:T,width:N,height:j},this.maxDepth=25,this.root=new O(this.box),this.root.isInternal=!0,this.root.isRoot=!0,this.root.divideBox()}calculateMassAndCenter(){this.visitNodeRecursive(null,null,function(t){t.updateMassAndCenter()})}insertNodes(t){for(const T of t)this.root.insert(T,this.maxDepth)}visitNodeRecursive(t,T,N){let j;if(t||(t=this.root),t===this.root&&T&&(j=T(t)),!1!==j){for(const P of t.nodes){if(P.isInternal){if(T&&(j=T(P)),!1===j)continue;this.visitNodeRecursive(P,T,N)}else P.body&&T&&T(P.body);N&&N(P)}t===this.root&&N&&N(t)}}}}),K(S,"Series/Networkgraph/VerletIntegration.js",[],function(){return{attractive:function O(c,h,m){const _=c.getMass(),f=-m.x*h*this.diffTemperature,k=-m.y*h*this.diffTemperature;c.fromNode.fixedPosition||(c.fromNode.plotX-=f*_.fromNode/c.fromNode.degree,c.fromNode.plotY-=k*_.fromNode/c.fromNode.degree),c.toNode.fixedPosition||(c.toNode.plotX+=f*_.toNode/c.toNode.degree,c.toNode.plotY+=k*_.toNode/c.toNode.degree)},attractiveForceFunction:function I(c,h){return(h-c)/c},barycenter:function E(){let c=this.options.gravitationalConstant,h=this.barycenter.xFactor,m=this.barycenter.yFactor;h=(h-(this.box.left+this.box.width)/2)*c,m=(m-(this.box.top+this.box.height)/2)*c,this.nodes.forEach(function(_){_.fixedPosition||(_.plotX-=h/_.mass/_.degree,_.plotY-=m/_.mass/_.degree)})},getK:function t(c){return Math.pow(c.box.width*c.box.height/c.nodes.length,.5)},integrate:function T(c,h){let m=-c.options.friction,_=c.options.maxSpeed,n=(h.plotX+h.dispX-h.prevX)*m,s=(h.plotY+h.dispY-h.prevY)*m,d=Math.abs,l=d(n)/(n||1),g=d(s)/(s||1);n=l*Math.min(_,Math.abs(n)),s=g*Math.min(_,Math.abs(s)),h.prevX=h.plotX+h.dispX,h.prevY=h.plotY+h.dispY,h.plotX+=n,h.plotY+=s,h.temperature=c.vectorLength({x:n,y:s})},repulsive:function N(c,h,m){const _=h*this.diffTemperature/c.mass/c.degree;c.fixedPosition||(c.plotX+=m.x*_,c.plotY+=m.y*_)},repulsiveForceFunction:function j(c,h){return(h-c)/c*(h>c?1:0)}}}),K(S,"Series/Networkgraph/ReingoldFruchtermanLayout.js",[S["Series/Networkgraph/EulerIntegration.js"],S["Core/Globals.js"],S["Series/GraphLayoutComposition.js"],S["Series/Networkgraph/QuadTree.js"],S["Core/Utilities.js"],S["Series/Networkgraph/VerletIntegration.js"]],function(O,I,E,t,T,N){const{win:j}=I,{clamp:P,defined:c,isFunction:h,fireEvent:m,pick:_}=T;class f{constructor(){this.box={},this.currentStep=0,this.initialRendering=!0,this.links=[],this.nodes=[],this.series=[],this.simulation=!1}static compose(n){E.compose(n),E.integrations.euler=O,E.integrations.verlet=N,E.layouts["reingold-fruchterman"]=f}init(n){this.options=n,this.nodes=[],this.links=[],this.series=[],this.box={x:0,y:0,width:0,height:0},this.setInitialRendering(!0),this.integration=E.integrations[n.integration],this.enableSimulation=n.enableSimulation,this.attractiveForce=_(n.attractiveForce,this.integration.attractiveForceFunction),this.repulsiveForce=_(n.repulsiveForce,this.integration.repulsiveForceFunction),this.approximation=n.approximation}updateSimulation(n){this.enableSimulation=_(n,this.options.enableSimulation)}start(){const n=this,s=this.series,d=this.options;n.currentStep=0,n.forces=s[0]&&s[0].forces||[],n.chart=s[0]&&s[0].chart,n.initialRendering&&(n.initPositions(),s.forEach(function(l){l.finishedAnimating=!0,l.render()})),n.setK(),n.resetSimulation(d),n.enableSimulation&&n.step()}step(){const n=this,s=this.series;this.currentStep++,"barnes-hut"===this.approximation&&(this.createQuadTree(),this.quadTree.calculateMassAndCenter());for(const d of this.forces||[])n[d+"Forces"](this.temperature);if(this.applyLimits(),this.temperature=this.coolDown(this.startTemperature,this.diffTemperature,this.currentStep),this.prevSystemTemperature=this.systemTemperature,this.systemTemperature=this.getSystemTemperature(),this.enableSimulation){for(const d of s)d.chart&&d.render();this.maxIterations--&&isFinite(this.temperature)&&!this.isStable()?(this.simulation&&j.cancelAnimationFrame(this.simulation),this.simulation=j.requestAnimationFrame(()=>this.step())):(this.simulation=!1,this.series.forEach(d=>{m(d,"afterSimulation")}))}}stop(){this.simulation&&j.cancelAnimationFrame(this.simulation)}setArea(n,s,d,l){this.box={left:n,top:s,width:d,height:l}}setK(){this.k=this.options.linkLength||this.integration.getK(this)}addElementsToCollection(n,s){for(const d of n)-1===s.indexOf(d)&&s.push(d)}removeElementFromCollection(n,s){const d=s.indexOf(n);-1!==d&&s.splice(d,1)}clear(){this.nodes.length=0,this.links.length=0,this.series.length=0,this.resetSimulation()}resetSimulation(){this.forcedStop=!1,this.systemTemperature=0,this.setMaxIterations(),this.setTemperature(),this.setDiffTemperature()}restartSimulation(){this.simulation?this.resetSimulation():(this.setInitialRendering(!1),this.enableSimulation?this.start():this.setMaxIterations(1),this.chart&&this.chart.redraw(),this.setInitialRendering(!0))}setMaxIterations(n){this.maxIterations=_(n,this.options.maxIterations)}setTemperature(){this.temperature=this.startTemperature=Math.sqrt(this.nodes.length)}setDiffTemperature(){this.diffTemperature=this.startTemperature/(this.options.maxIterations+1)}setInitialRendering(n){this.initialRendering=n}createQuadTree(){this.quadTree=new t(this.box.left,this.box.top,this.box.width,this.box.height),this.quadTree.insertNodes(this.nodes)}initPositions(){const n=this.options.initialPositions;if(h(n)){n.call(this);for(const s of this.nodes)c(s.prevX)||(s.prevX=s.plotX),c(s.prevY)||(s.prevY=s.plotY),s.dispX=0,s.dispY=0}else"circle"===n?this.setCircularPositions():this.setRandomPositions()}setCircularPositions(){const n=this.box,s=this.nodes,l=2*Math.PI/(s.length+1),g=s.filter(function(u){return 0===u.linksTo.length}),b={},p=this.options.initialPositionRadius,v=u=>{for(const w of u.linksFrom||[])b[w.toNode.id]||(b[w.toNode.id]=!0,D.push(w.toNode),v(w.toNode))};let r,D=[];for(const u of g)D.push(u),v(u);if(D.length)for(const u of s)-1===D.indexOf(u)&&D.push(u);else D=s;for(let u=0,w=D.length;u<w;++u)r=D[u],r.plotX=r.prevX=_(r.plotX,n.width/2+p*Math.cos(u*l)),r.plotY=r.prevY=_(r.plotY,n.height/2+p*Math.sin(u*l)),r.dispX=0,r.dispY=0}setRandomPositions(){const n=this.box,s=this.nodes,d=s.length+1,l=b=>{let p=b*b/Math.PI;return p-=Math.floor(p),p};let g;for(let b=0,p=s.length;b<p;++b)g=s[b],g.plotX=g.prevX=_(g.plotX,n.width*l(b)),g.plotY=g.prevY=_(g.plotY,n.height*l(d+b)),g.dispX=0,g.dispY=0}force(n,...s){this.integration[n].apply(this,s)}barycenterForces(){this.getBarycenter(),this.force("barycenter")}getBarycenter(){let n=0,s=0,d=0;for(const l of this.nodes)s+=l.plotX*l.mass,d+=l.plotY*l.mass,n+=l.mass;return this.barycenter={x:s,y:d,xFactor:s/n,yFactor:d/n},this.barycenter}barnesHutApproximation(n,s){const d=this.getDistXY(n,s),l=this.vectorLength(d);let g,b;return n!==s&&0!==l&&(s.isInternal?s.boxSize/l<this.options.theta&&0!==l?(b=this.repulsiveForce(l,this.k),this.force("repulsive",n,b*s.mass,d,l),g=!1):g=!0:(b=this.repulsiveForce(l,this.k),this.force("repulsive",n,b*s.mass,d,l))),g}repulsiveForces(){if("barnes-hut"===this.approximation)for(const n of this.nodes)this.quadTree.visitNodeRecursive(null,s=>this.barnesHutApproximation(n,s));else{let n,s,d;for(const l of this.nodes)for(const g of this.nodes)l!==g&&!l.fixedPosition&&(d=this.getDistXY(l,g),s=this.vectorLength(d),0!==s&&(n=this.repulsiveForce(s,this.k),this.force("repulsive",l,n*g.mass,d,s)))}}attractiveForces(){let n,s,d;for(const l of this.links)l.fromNode&&l.toNode&&(n=this.getDistXY(l.fromNode,l.toNode),s=this.vectorLength(n),0!==s&&(d=this.attractiveForce(s,this.k),this.force("attractive",l,d,n,s)))}applyLimits(){const n=this.nodes;for(const s of n){if(s.fixedPosition)return;this.integration.integrate(this,s),this.applyLimitBox(s,this.box),s.dispX=0,s.dispY=0}}applyLimitBox(n,s){const d=n.radius;n.plotX=P(n.plotX,s.left+d,s.width-d),n.plotY=P(n.plotY,s.top+d,s.height-d)}coolDown(n,s,d){return n-s*d}isStable(){return Math.abs(this.systemTemperature-this.prevSystemTemperature)<1e-5||this.temperature<=0}getSystemTemperature(){let n=0;for(const s of this.nodes)n+=s.temperature;return n}vectorLength(n){return Math.sqrt(n.x*n.x+n.y*n.y)}getDistR(n,s){const d=this.getDistXY(n,s);return this.vectorLength(d)}getDistXY(n,s){const d=n.plotX-s.plotX,l=n.plotY-s.plotY;return{x:d,y:l,absX:Math.abs(d),absY:Math.abs(l)}}}return f}),K(S,"Series/SimulationSeriesUtilities.js",[S["Core/Utilities.js"],S["Core/Animation/AnimationUtilities.js"]],function(O,I){const{merge:E,syncTimeout:t}=O,{animObject:T}=I;return{initDataLabels:function j(){const c=this,h=c.options.dataLabels;if(!c.dataLabelsGroup){const m=this.initDataLabelsGroup();return!c.chart.styledMode&&h?.style&&m.css(h.style),m.attr({opacity:0}),c.visible&&m.show(),m}return c.dataLabelsGroup.attr(E({opacity:1},this.getPlotBox("data-labels"))),c.dataLabelsGroup},initDataLabelsDefer:function N(){const c=this.options.dataLabels;c?.defer&&this.options.layoutAlgorithm?.enableSimulation?t(()=>{this.deferDataLabels=!1},c?T(c.animation).defer:0):this.deferDataLabels=!1}}}),K(S,"Series/Networkgraph/NetworkgraphSeries.js",[S["Series/DragNodesComposition.js"],S["Series/GraphLayoutComposition.js"],S["Core/Globals.js"],S["Series/Networkgraph/NetworkgraphPoint.js"],S["Series/Networkgraph/NetworkgraphSeriesDefaults.js"],S["Series/NodesComposition.js"],S["Series/Networkgraph/ReingoldFruchtermanLayout.js"],S["Core/Series/SeriesRegistry.js"],S["Series/SimulationSeriesUtilities.js"],S["Core/Utilities.js"]],function(O,I,E,t,T,N,j,P,c,h){const{noop:m}=E,{series:_,seriesTypes:{column:{prototype:f},line:{prototype:k}}}=P,{initDataLabels:n,initDataLabelsDefer:s}=c,{addEvent:d,defined:l,extend:g,merge:b,pick:p}=h;class v extends _{constructor(){super(...arguments),this.deferDataLabels=!0}static compose(r){O.compose(r),j.compose(r)}deferLayout(){let y,r=this.options.layoutAlgorithm,u=this.chart.graphLayoutsStorage,w=this.chart.graphLayoutsLookup,C=this.chart.options.chart;this.visible&&(u||(this.chart.graphLayoutsStorage=u={},this.chart.graphLayoutsLookup=w=[]),y=u[r.type],y||(r.enableSimulation=l(C.forExport)?!C.forExport:r.enableSimulation,u[r.type]=y=new I.layouts[r.type],y.init(r),w.splice(y.index,0,y)),this.layout=y,y.setArea(0,0,this.chart.plotWidth,this.chart.plotHeight),y.addElementsToCollection([this],y.series),y.addElementsToCollection(this.nodes,y.nodes),y.addElementsToCollection(this.points,y.links))}destroy(){this.layout&&this.layout.removeElementFromCollection(this,this.layout.series),N.destroy.call(this)}drawDataLabels(){if(this.deferDataLabels)return;const r=this.options.dataLabels;let u;r?.textPath&&(u=r.textPath),_.prototype.drawDataLabels.call(this,this.nodes),r?.linkTextPath&&(r.textPath=r.linkTextPath),_.prototype.drawDataLabels.call(this,this.data),r?.textPath&&(r.textPath=u)}generatePoints(){let r,u;for(N.generatePoints.apply(this,arguments),this.options.nodes&&this.options.nodes.forEach(function(w){this.nodeLookup[w.id]||(this.nodeLookup[w.id]=this.createNode(w.id))},this),u=this.nodes.length-1;u>=0;u--)r=this.nodes[u],r.degree=r.getDegree(),r.radius=p(r.marker&&r.marker.radius,this.options.marker&&this.options.marker.radius,0),this.nodeLookup[r.id]||r.remove();this.data.forEach(function(w){w.formatPrefix="link"}),this.indexateNodes()}getPointsCollection(){return this.nodes||[]}indexateNodes(){this.nodes.forEach(function(r,u){r.index=u})}init(r,u){return super.init(r,u),s.call(this),d(this,"updatedData",()=>{this.layout&&this.layout.stop()}),d(this,"afterUpdate",()=>{this.nodes.forEach(w=>{w&&w.series&&w.resolveColor()})}),d(this,"afterSimulation",function(){this.deferDataLabels=!1,this.drawDataLabels()}),this}markerAttribs(r,u){const w=_.prototype.markerAttribs.call(this,r,u);return l(r.plotY)||(w.y=0),w.x=(r.plotX||0)-(w.width||0)/2,w}pointAttribs(r,u){let w=u||r&&r.state||"normal",C=_.prototype.pointAttribs.call(this,r,w),y=this.options.states[w];return r&&!r.isNode&&(C=r.getLinkAttributes(),y&&(C={stroke:y.linkColor||C.stroke,dashstyle:y.linkDashStyle||C.dashstyle,opacity:p(y.linkOpacity,C.opacity),"stroke-width":y.linkColor||C["stroke-width"]})),C}render(){const r=this,u=r.points,w=r.chart.hoverPoint,C=[];r.points=r.nodes,k.render.call(this),r.points=u,u.forEach(function(y){y.fromNode&&y.toNode&&(y.renderLink(),y.redrawLink())}),w&&w.series===r&&r.redrawHalo(w),r.chart.hasRendered&&!r.options.dataLabels.allowOverlap&&(r.nodes.concat(r.points).forEach(function(y){y.dataLabel&&C.push(y.dataLabel)}),r.chart.hideOverlappingLabels(C))}setState(r,u){u?(this.points=this.nodes.concat(this.data),_.prototype.setState.apply(this,arguments),this.points=this.data):_.prototype.setState.apply(this,arguments),!this.layout.simulation&&!r&&this.render()}translate(){this.processedXData||this.processData(),this.generatePoints(),this.deferLayout(),this.nodes.forEach(function(r){r.isInside=!0,r.linksFrom.forEach(function(u){u.shapeType="path",u.y=1})})}}return v.defaultOptions=b(_.defaultOptions,T),g(v.prototype,{pointClass:t,animate:void 0,directTouch:!0,drawGraph:void 0,forces:["barycenter","repulsive","attractive"],hasDraggableNodes:!0,isCartesian:!1,noSharedTooltip:!0,pointArrayMap:["from","to"],requireSorting:!1,trackerGroups:["group","markerGroup","dataLabelsGroup"],initDataLabels:n,buildKDTree:m,createNode:N.createNode,drawTracker:f.drawTracker,onMouseDown:O.onMouseDown,onMouseMove:O.onMouseMove,onMouseUp:O.onMouseUp,redrawHalo:O.redrawHalo}),P.registerSeriesType("networkgraph",v),v}),K(S,"masters/modules/networkgraph.src.js",[S["Core/Globals.js"],S["Series/Networkgraph/NetworkgraphSeries.js"]],function(O,I){return I.compose(O.Chart),O})},nt.exports?(Q.default=Q,nt.exports=Q):(ht=[X(21264)],void 0!==(et=function(S){return Q(S),Q.Highcharts=S,Q}.apply(_t,ht))&&(nt.exports=et))},95606:(nt,_t,X)=>{var ht,et,Q;Q=function(Q){"use strict";var S=Q?Q._modules:{};function K(O,I,E,t){O.hasOwnProperty(I)||(O[I]=t.apply(null,E),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:I,module:O[I]}})))}K(S,"Series/NodesComposition.js",[S["Core/Series/SeriesRegistry.js"],S["Core/Utilities.js"]],function(O,I){var E;let{series:{prototype:t,prototype:{pointClass:{prototype:T}}}}=O,{defined:N,extend:j,find:P,merge:c,pick:h}=I;return function(m){function _(){return this.data=[].concat(this.points||[],this.nodes),t.destroy.apply(this,arguments)}function f(){this.nodes&&(this.nodes.forEach(s=>{s.destroy()}),this.nodes.length=0),t.setData.apply(this,arguments)}function k(s){let d=arguments,l=this.isNode?this.linksTo.concat(this.linksFrom):[this.fromNode,this.toNode];"select"!==s&&l.forEach(g=>{g&&g.series&&(T.setState.apply(g,d),!g.isNode&&(g.fromNode.graphic&&T.setState.apply(g.fromNode,d),g.toNode&&g.toNode.graphic&&T.setState.apply(g.toNode,d)))}),T.setState.apply(this,d)}function n(s,d,l,g){let b=this.series.options.nodes,p=this.series.options.data,v=p&&p.length||0,D=p&&p[this.index];if(T.update.call(this,s,!this.isNode&&d,l,g),this.isNode){let r=(b||[]).reduce((w,C,y)=>this.id===C.id?y:w,-1),u=c(b&&b[r]||{},p&&p[this.index]||{});p&&(D?p[this.index]=D:p.length=v),b?r>=0?b[r]=u:b.push(u):this.series.options.nodes=[u],h(d,!0)&&this.series.chart.redraw(l)}}m.compose=function(s,d){let l=s.prototype,g=d.prototype;return l.setNodeState=k,l.setState=k,l.update=n,g.destroy=_,g.setData=f,d},m.createNode=function(s){let b,d=this.pointClass,l=(p,v)=>P(p,D=>D.id===v),g=l(this.nodes,s);if(!g){b=this.options.nodes&&l(this.options.nodes,s);let p=new d(this,j({className:"highcharts-node",isNode:!0,id:s,y:1},b));p.linksTo=[],p.linksFrom=[],p.getSum=function(){let v=0,D=0;return p.linksTo.forEach(r=>{v+=r.weight||0}),p.linksFrom.forEach(r=>{D+=r.weight||0}),Math.max(v,D)},p.offset=function(v,D){let r=0;for(let u=0;u<p[D].length;u++){if(p[D][u]===v)return r;r+=p[D][u].weight}},p.hasShape=function(){let v=0;return p.linksTo.forEach(D=>{D.outgoing&&v++}),!p.linksTo.length||v!==p.linksTo.length},p.index=this.nodes.push(p)-1,g=p}return g.formatPrefix="node",g.name=g.name||g.options.id||"",g.mass=h(g.options.mass,g.options.marker&&g.options.marker.radius,this.options.marker&&this.options.marker.radius,4),g},m.destroy=_,m.generatePoints=function(){let s=this.chart,d={};t.generatePoints.call(this),this.nodes||(this.nodes=[]),this.colorCounter=0,this.nodes.forEach(l=>{l.linksFrom.length=0,l.linksTo.length=0,l.level=l.options.level}),this.points.forEach(l=>{N(l.from)&&(d[l.from]||(d[l.from]=this.createNode(l.from)),d[l.from].linksFrom.push(l),l.fromNode=d[l.from],s.styledMode?l.colorIndex=h(l.options.colorIndex,d[l.from].colorIndex):l.color=l.options.color||d[l.from].color),N(l.to)&&(d[l.to]||(d[l.to]=this.createNode(l.to)),d[l.to].linksTo.push(l),l.toNode=d[l.to]),l.name=l.name||l.id},this),this.nodeLookup=d},m.setNodeState=k,m.updateNode=n}(E||(E={})),E}),K(S,"Series/Sankey/SankeyPoint.js",[S["Core/Series/Point.js"],S["Core/Series/SeriesRegistry.js"],S["Core/Utilities.js"]],function(O,I,E){let{column:t}=I.seriesTypes,{defined:T}=E;return class N extends t.prototype.pointClass{applyOptions(P,c){return O.prototype.applyOptions.call(this,P,c),T(this.options.level)&&(this.options.column=this.column=this.options.level),this}getClassName(){return(this.isNode?"highcharts-node ":"highcharts-link ")+O.prototype.getClassName.call(this)}getFromNode(){let c,P=-1;for(let h=0;h<this.linksTo.length;h++){let m=this.linksTo[h];m.fromNode.column>P&&m.fromNode!==this&&(P=(c=m.fromNode).column)}return{fromNode:c,fromColumn:P}}setNodeColumn(){T(this.options.column)||(this.column=0===this.linksTo.length?0:this.getFromNode().fromColumn+1)}isValid(){return this.isNode||"number"==typeof this.weight}}}),K(S,"Series/Sankey/SankeySeriesDefaults.js",[],function(){return{borderWidth:0,colorByPoint:!0,curveFactor:.33,dataLabels:{enabled:!0,backgroundColor:"none",crop:!1,nodeFormat:void 0,nodeFormatter:function(){return this.point.name},format:void 0,formatter:function(){},inside:!0},inactiveOtherPoints:!0,linkColorMode:"from",linkOpacity:.5,opacity:1,minLinkWidth:0,nodeAlignment:"center",nodeWidth:20,nodePadding:10,nodeDistance:30,showInLegend:!1,states:{hover:{linkOpacity:1,opacity:1},inactive:{linkOpacity:.1,opacity:.1,animation:{duration:50}}},tooltip:{followPointer:!0,headerFormat:'<span style="font-size: 0.8em">{series.name}</span><br/>',pointFormat:"{point.fromNode.name} \u2192 {point.toNode.name}: <b>{point.weight}</b><br/>",nodeFormat:"{point.name}: <b>{point.sum}</b><br/>"}}}),K(S,"Series/Sankey/SankeyColumnComposition.js",[S["Core/Utilities.js"]],function(O){var I;let{defined:E,relativeLength:t}=O;return function(T){T.compose=function(j,P){return j.sankeyColumn=new N(j,P),j};class N{constructor(P,c){this.points=P,this.series=c}getTranslationFactor(P){let f,n,c=this.points,h=c.slice(),_=P.options.minLinkWidth||0,k=0,s=(P.chart.plotSizeY||0)-(P.options.borderWidth||0)-(c.length-1)*P.nodePadding;for(;c.length;){for(k=s/c.sankeyColumn.sum(),f=!1,n=c.length;n--;)c[n].getSum()*k<_&&(c.splice(n,1),s=Math.max(0,s-_),f=!0);if(!f)break}for(let d of(c.length=0,h))c.push(d);return k}top(P){let c=this.series,h=c.nodePadding,m=this.points.reduce((_,f)=>(_>0&&(_+=h),_+Math.max(f.getSum()*P,c.options.minLinkWidth||0)),0);return{top:0,center:.5,bottom:1}[c.options.nodeAlignment||"center"]*((c.chart.plotSizeY||0)-m)}left(P){let c=this.series,h=c.chart,m=c.options.equalNodes,_=h.inverted?h.plotHeight:h.plotWidth,f=c.nodePadding,k=this.points.reduce((n,s)=>(n>0&&(n+=f),n+(m?_/s.series.nodes.length-f:Math.max(s.getSum()*P,c.options.minLinkWidth||0))),0);return((h.plotSizeX||0)-Math.round(k))/2}sum(){return this.points.reduce((P,c)=>P+c.getSum(),0)}offset(P,c){let k,h=this.points,m=this.series,_=m.nodePadding,f=0;if(m.is("organization")&&P.hangsFrom)return{absoluteTop:P.hangsFrom.nodeY};for(let n=0;n<h.length;n++){let s=h[n].getSum(),d=Math.max(s*c,m.options.minLinkWidth||0),l=P.options[m.chart.inverted?"offsetHorizontal":"offsetVertical"],g=P.options.offset||0;if(k=s?d+_:0,h[n]===P)return{relativeTop:f+(E(l)?t(l,d):t(g,k))};f+=k}}}T.SankeyColumnAdditions=N}(I||(I={})),I}),K(S,"Series/TreeUtilities.js",[S["Core/Color/Color.js"],S["Core/Utilities.js"]],function(O,I){let{extend:E,isArray:t,isNumber:T,isObject:N,merge:j,pick:P,relativeLength:c}=I;return{getColor:function(h,m){let _,f,k,n,s,d,l=m.index,b=m.parentColor,p=m.parentColorIndex,v=m.series,D=m.colors,r=m.siblings;return h&&(_=v.points[h.i],f=m.mapOptionsToLevel[h.level]||{},_&&f.colorByPoint&&(n=_.index%(D?D.length:v.chart.options.chart.colorCount),k=D&&D[n]),v.chart.styledMode||(s=P(_&&_.options.color,f&&f.color,k,b&&(C=>{let y=f&&f.colorVariation;return y&&"brightness"===y.key&&l&&r?O.parse(C).brighten(y.to*(l/r)).get():C})(b),v.color)),d=P(_&&_.options.colorIndex,f&&f.colorIndex,n,p,m.colorIndex)),{color:s,colorIndex:d}},getLevelOptions:function(h){let _,f,k,n,s,d,m={};if(N(h))for(n=T(h.from)?h.from:1,d=h.levels,f={},_=N(h.defaults)?h.defaults:{},t(d)&&(f=d.reduce((l,g)=>{let b,p,v;return N(g)&&T(g.level)&&(p=P((v=j({},g)).levelIsConstant,_.levelIsConstant),delete v.levelIsConstant,delete v.level,N(l[b=g.level+(p?0:n-1)])?j(!0,l[b],v):l[b]=v),l},{})),s=T(h.to)?h.to:1,k=0;k<=s;k++)m[k]=j({},_,N(f[k])?f[k]:{});return m},getNodeWidth:function(h,m){let{chart:_,options:f}=h,{nodeDistance:k=0,nodeWidth:n=0}=f,{plotSizeX:s=1}=_;if("auto"===n){if("string"==typeof k&&/%$/.test(k))return s/(m+parseFloat(k)/100*(m-1));let d=Number(k);return(s+d)/(m||1)-d}return c(n,s)},setTreeValues:function h(m,_){let f=_.before,k=_.idRoot,d=_.points[m.i],l=d&&d.options||{},g=[],b=0;m.levelDynamic=m.level-(!1!==_.levelIsConstant?0:_.mapIdToNode[k].level),m.name=P(d&&d.name,""),m.visible=k===m.id||!0===_.visible,"function"==typeof f&&(m=f(m,_)),m.children.forEach((v,D)=>{let r=E({},_);E(r,{index:D,siblings:m.children.length,visible:m.visible}),v=h(v,r),g.push(v),v.visible&&(b+=v.val)});let p=P(l.value,b);return m.visible=p>=0&&(b>0||m.visible),m.children=g,m.childrenTotal=b,m.isLeaf=m.visible&&!b,m.val=p,m},updateRootId:function(h){let m,_;return N(h)&&(_=N(h.options)?h.options:{},m=P(h.rootNode,_.rootId,""),N(h.userOptions)&&(h.userOptions.rootId=m),h.rootNode=m),m}}}),K(S,"Series/Sankey/SankeySeries.js",[S["Core/Globals.js"],S["Series/NodesComposition.js"],S["Series/Sankey/SankeyPoint.js"],S["Series/Sankey/SankeySeriesDefaults.js"],S["Core/Series/SeriesRegistry.js"],S["Series/Sankey/SankeyColumnComposition.js"],S["Core/Color/Color.js"],S["Series/TreeUtilities.js"],S["Core/Utilities.js"]],function(O,I,E,t,T,N,j,P,c){let{column:h,line:m}=T.seriesTypes,{parse:_}=j,{getLevelOptions:f,getNodeWidth:k}=P,{clamp:n,extend:s,isObject:d,merge:l,pick:g,relativeLength:b,stableSort:p}=c;class v extends h{static getDLOptions(r){let u=d(r.optionsPoint)?r.optionsPoint.dataLabels:{};return l({style:{}},d(r.level)?r.level.dataLabels:{},u)}createNodeColumns(){let r=[];for(let u of this.nodes)u.setNodeColumn(),r[u.column]||(r[u.column]=N.compose([],this)),r[u.column].push(u);for(let u=0;u<r.length;u++)void 0===r[u]&&(r[u]=N.compose([],this));return r}order(r,u){if(void 0===r.level)for(let w of(r.level=u,r.linksFrom))w.toNode&&this.order(w.toNode,u+1)}generatePoints(){if(I.generatePoints.apply(this,arguments),this.orderNodes){for(let r of this.nodes)0===r.linksTo.length&&this.order(r,0);p(this.nodes,(r,u)=>r.level-u.level)}}getNodePadding(){let r=this.options.nodePadding||0;if(this.nodeColumns){let u=this.nodeColumns.reduce((w,C)=>Math.max(w,C.length),0);u*r>this.chart.plotSizeY&&(r=this.chart.plotSizeY/u)}return r}hasData(){return!!this.processedXData.length}pointAttribs(r,u){if(!r)return{};let w=this,y=w.mapOptionsToLevel[(r.isNode?r.level:r.fromNode.level)||0]||{},A=r.options,z=y.states&&y.states[u||""]||{},V=["colorByPoint","borderColor","borderWidth","linkOpacity","opacity"].reduce((q,$)=>(q[$]=g(z[$],A[$],y[$],w.options[$]),q),{}),Z=g(z.color,A.color,V.colorByPoint?r.color:y.color);return r.isNode?{fill:Z,stroke:V.borderColor,"stroke-width":V.borderWidth,opacity:V.opacity}:{fill:j.parse(Z).setOpacity(V.linkOpacity).get()}}drawTracker(){h.prototype.drawTracker.call(this,this.points),h.prototype.drawTracker.call(this,this.nodes)}drawPoints(){h.prototype.drawPoints.call(this,this.points),h.prototype.drawPoints.call(this,this.nodes)}drawDataLabels(){h.prototype.drawDataLabels.call(this,this.points),h.prototype.drawDataLabels.call(this,this.nodes)}translate(){this.processedXData||this.processData(),this.generatePoints(),this.nodeColumns=this.createNodeColumns();let r=this,u=this.chart,w=this.options,C=this.nodeColumns,y=C.length;for(let A of(this.nodeWidth=k(this,y),this.nodePadding=this.getNodePadding(),this.translationFactor=C.reduce((z,V)=>Math.min(z,V.sankeyColumn.getTranslationFactor(r)),1/0),this.colDistance=(u.plotSizeX-this.nodeWidth-w.borderWidth)/Math.max(1,C.length-1),r.mapOptionsToLevel=f({from:1,levels:w.levels,to:C.length-1,defaults:{borderColor:w.borderColor,borderRadius:w.borderRadius,borderWidth:w.borderWidth,color:r.color,colorByPoint:w.colorByPoint,levelIsConstant:!0,linkColor:w.linkColor,linkLineWidth:w.linkLineWidth,linkOpacity:w.linkOpacity,states:w.states}}),C))for(let z of A)r.translateNode(z,A);for(let A of this.nodes)for(let z of A.linksFrom)(z.weight||z.isNull)&&z.to&&(r.translateLink(z),z.allowShadow=!1)}translateLink(r){let u=(tt,ot)=>{let st=tt.offset(r,ot)*z;return Math.min(tt.nodeY+st,tt.nodeY+(tt.shapeArgs&&tt.shapeArgs.height||0)-B)},w=r.fromNode,C=r.toNode,y=this.chart,{inverted:A}=y,z=this.translationFactor,V=this.options,Z=g(r.linkColorMode,V.linkColorMode),q=(y.inverted?-this.colDistance:this.colDistance)*V.curveFactor,$=w.nodeX,Y=C.nodeX,J=r.outgoing,B=Math.max(r.weight*z,this.options.minLinkWidth),U=u(w,"linksFrom"),G=u(C,"linksTo"),H=this.nodeWidth,rt=Y>$+H;if(y.inverted&&(U=y.plotSizeY-U,G=(y.plotSizeY||0)-G,H=-H,B=-B,rt=$>Y),r.shapeType="path",r.linkBase=[U,U+B,G,G+B],rt&&"number"==typeof G)r.shapeArgs={d:[["M",$+H,U],["C",$+H+q,U,Y-q,G,Y,G],["L",Y+(J?H:0),G+B/2],["L",Y,G+B],["C",Y-q,G+B,$+H+q,U+B,$+H,U+B],["Z"]]};else if("number"==typeof G){let ot=Y-20-B,st=Y-20,at=$+H,lt=at+20,ft=lt+B,gt=U+B,St=gt+20,dt=St+(y.plotHeight-U-B),ct=dt+20,mt=ct+B,bt=G+B,kt=bt+20,Et=ct+.7*B,Pt=Y-.7*B,Tt=at+.7*B;r.shapeArgs={d:[["M",at,U],["C",Tt,U,ft,gt-.7*B,ft,St],["L",ft,dt],["C",ft,Et,Tt,mt,at,mt],["L",Y,mt],["C",Pt,mt,ot,Et,ot,dt],["L",ot,kt],["C",ot,bt-.7*B,Pt,G,Y,G],["L",Y,bt],["C",st,bt,st,bt,st,kt],["L",st,dt],["C",st,ct,st,ct,Y,ct],["L",at,ct],["C",lt,ct,lt,ct,lt,dt],["L",lt,St],["C",lt,gt,lt,gt,at,gt],["Z"]]}}if(r.dlBox={x:$+(Y-$+H)/2,y:U+(G-U)/2,height:B,width:0},r.tooltipPos=y.inverted?[y.plotSizeY-r.dlBox.y-B/2,y.plotSizeX-r.dlBox.x]:[r.dlBox.x,r.dlBox.y+B/2],r.y=r.plotY=1,r.x=r.plotX=1,!r.options.color)if("from"===Z)r.color=w.color;else if("to"===Z)r.color=C.color;else if("gradient"===Z){let tt=_(w.color).get(),ot=_(C.color).get();r.color={linearGradient:{x1:1,x2:0,y1:0,y2:0},stops:[[0,A?tt:ot],[1,A?ot:tt]]}}}translateNode(r,u){let w=this.translationFactor,C=this.chart,y=this.options,{borderRadius:A,borderWidth:z=0}=y,V=r.getSum(),Z=Math.max(Math.round(V*w),this.options.minLinkWidth),q=Math.round(this.nodeWidth),$=Math.round(z)%2/2,Y=u.sankeyColumn.offset(r,w),J=Math.floor(g(Y.absoluteTop,u.sankeyColumn.top(w)+Y.relativeTop))+$,B=Math.floor(this.colDistance*r.column+z/2)+b(r.options[C.inverted?"offsetVertical":"offsetHorizontal"]||0,q)+$,U=C.inverted?C.plotSizeX-B:B;if(r.sum=V,V){r.shapeType="roundedRect",r.nodeX=U,r.nodeY=J;let G=U,H=J,rt=r.options.width||y.width||q,tt=r.options.height||y.height||Z,ot=n(b("object"==typeof A?A.radius:A||0,rt),0,Z/2);C.inverted&&(G=U-q,H=C.plotSizeY-J-Z,rt=r.options.height||y.height||q,tt=r.options.width||y.width||Z),r.dlOptions=v.getDLOptions({level:this.mapOptionsToLevel[r.level],optionsPoint:r.options}),r.plotX=1,r.plotY=1,r.tooltipPos=C.inverted?[C.plotSizeY-H-tt/2,C.plotSizeX-G-rt/2]:[G+rt/2,H+tt/2],r.shapeArgs={x:G,y:H,width:rt,height:tt,r:ot,display:r.hasShape()?"":"none"}}else r.dlOptions={enabled:!1}}}return v.defaultOptions=l(h.defaultOptions,t),I.compose(E,v),s(v.prototype,{animate:m.prototype.animate,createNode:I.createNode,forceDL:!0,invertible:!0,isCartesian:!1,orderNodes:!0,noSharedTooltip:!0,pointArrayMap:["from","to","weight"],pointClass:E,searchPoint:O.noop}),T.registerSeriesType("sankey",v),v}),K(S,"masters/modules/sankey.src.js",[S["Core/Globals.js"]],function(O){return O})},nt.exports?(Q.default=Q,nt.exports=Q):(ht=[X(21264)],void 0!==(et=function(S){return Q(S),Q.Highcharts=S,Q}.apply(_t,ht))&&(nt.exports=et))},55782:(nt,_t,X)=>{var ht,et,Q;Q=function(Q){"use strict";var S=Q?Q._modules:{};function K(O,I,E,t){O.hasOwnProperty(I)||(O[I]=t.apply(null,E),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:I,module:O[I]}})))}K(S,"Series/NodesComposition.js",[S["Core/Series/SeriesRegistry.js"],S["Core/Utilities.js"]],function(O,I){const{series:{prototype:E,prototype:{pointClass:{prototype:t}}}}=O,{defined:T,extend:N,find:j,merge:P,pick:c}=I;var h;return function(m){function k(){return this.data=[].concat(this.points||[],this.nodes),E.destroy.apply(this,arguments)}function s(){this.nodes&&(this.nodes.forEach(g=>{g.destroy()}),this.nodes.length=0),E.setData.apply(this,arguments)}function d(g){const b=arguments,p=this.isNode?this.linksTo.concat(this.linksFrom):[this.fromNode,this.toNode];"select"!==g&&p.forEach(v=>{v&&v.series&&(t.setState.apply(v,b),v.isNode||(v.fromNode.graphic&&t.setState.apply(v.fromNode,b),v.toNode&&v.toNode.graphic&&t.setState.apply(v.toNode,b)))}),t.setState.apply(this,b)}function l(g,b,p,v){const D=this.series.options.nodes,r=this.series.options.data,u=r&&r.length||0,w=r&&r[this.index];if(t.update.call(this,g,!this.isNode&&b,p,v),this.isNode){const C=(D||[]).reduce((A,z,V)=>this.id===z.id?V:A,-1),y=P(D&&D[C]||{},r&&r[this.index]||{});r&&(w?r[this.index]=w:r.length=u),D?C>=0?D[C]=y:D.push(y):this.series.options.nodes=[y],c(b,!0)&&this.series.chart.redraw(p)}}m.compose=function _(g,b){const p=g.prototype,v=b.prototype;return p.setNodeState=d,p.setState=d,p.update=l,v.destroy=k,v.setData=s,b},m.createNode=function f(g){const b=this.pointClass,p=(r,u)=>j(r,w=>w.id===u);let D,v=p(this.nodes,g);if(!v){D=this.options.nodes&&p(this.options.nodes,g);const r=new b(this,N({className:"highcharts-node",isNode:!0,id:g,y:1},D));r.linksTo=[],r.linksFrom=[],r.getSum=function(){let u=0,w=0;return r.linksTo.forEach(C=>{u+=C.weight||0}),r.linksFrom.forEach(C=>{w+=C.weight||0}),Math.max(u,w)},r.offset=function(u,w){let C=0;for(let y=0;y<r[w].length;y++){if(r[w][y]===u)return C;C+=r[w][y].weight}},r.hasShape=function(){let u=0;return r.linksTo.forEach(w=>{w.outgoing&&u++}),!r.linksTo.length||u!==r.linksTo.length},r.index=this.nodes.push(r)-1,v=r}return v.formatPrefix="node",v.name=v.name||v.options.id||"",v.mass=c(v.options.mass,v.options.marker&&v.options.marker.radius,this.options.marker&&this.options.marker.radius,4),v},m.destroy=k,m.generatePoints=function n(){const g=this.chart,b={};E.generatePoints.call(this),this.nodes||(this.nodes=[]),this.colorCounter=0,this.nodes.forEach(p=>{p.linksFrom.length=0,p.linksTo.length=0,p.level=p.options.level}),this.points.forEach(p=>{T(p.from)&&(b[p.from]||(b[p.from]=this.createNode(p.from)),b[p.from].linksFrom.push(p),p.fromNode=b[p.from],g.styledMode?p.colorIndex=c(p.options.colorIndex,b[p.from].colorIndex):p.color=p.options.color||b[p.from].color),T(p.to)&&(b[p.to]||(b[p.to]=this.createNode(p.to)),b[p.to].linksTo.push(p),p.toNode=b[p.to]),p.name=p.name||p.id},this),this.nodeLookup=b},m.setNodeState=d,m.updateNode=l}(h||(h={})),h}),K(S,"Series/Sankey/SankeyPoint.js",[S["Core/Series/Point.js"],S["Core/Series/SeriesRegistry.js"],S["Core/Utilities.js"]],function(O,I,E){const{column:t}=I.seriesTypes,{defined:T}=E;return class N extends t.prototype.pointClass{applyOptions(P,c){return O.prototype.applyOptions.call(this,P,c),T(this.options.level)&&(this.options.column=this.column=this.options.level),this}getClassName(){return(this.isNode?"highcharts-node ":"highcharts-link ")+O.prototype.getClassName.call(this)}getFromNode(){const P=this;let h,c=-1;for(let m=0;m<P.linksTo.length;m++){const _=P.linksTo[m];_.fromNode.column>c&&_.fromNode!==P&&(h=_.fromNode,c=h.column)}return{fromNode:h,fromColumn:c}}setNodeColumn(){const P=this;T(P.options.column)||(P.column=0===P.linksTo.length?0:P.getFromNode().fromColumn+1)}isValid(){return this.isNode||"number"==typeof this.weight}}}),K(S,"Series/Sankey/SankeySeriesDefaults.js",[],function(){return{borderWidth:0,colorByPoint:!0,curveFactor:.33,dataLabels:{enabled:!0,backgroundColor:"none",crop:!1,nodeFormat:void 0,nodeFormatter:function(){return this.point.name},format:void 0,formatter:function(){},inside:!0},inactiveOtherPoints:!0,linkColorMode:"from",linkOpacity:.5,opacity:1,minLinkWidth:0,nodeAlignment:"center",nodeWidth:20,nodePadding:10,nodeDistance:30,showInLegend:!1,states:{hover:{linkOpacity:1,opacity:1},inactive:{linkOpacity:.1,opacity:.1,animation:{duration:50}}},tooltip:{followPointer:!0,headerFormat:'<span style="font-size: 0.8em">{series.name}</span><br/>',pointFormat:"{point.fromNode.name} \u2192 {point.toNode.name}: <b>{point.weight}</b><br/>",nodeFormat:"{point.name}: <b>{point.sum}</b><br/>"}}}),K(S,"Series/Sankey/SankeyColumnComposition.js",[S["Core/Utilities.js"]],function(O){const{defined:I,relativeLength:E}=O;var t;return function(T){T.compose=function N(P,c){const h=P;return h.sankeyColumn=new j(h,c),h};class j{constructor(c,h){this.points=c,this.series=h}getTranslationFactor(c){const h=this.points,m=h.slice(),f=c.options.minLinkWidth||0;let k,s,n=0,d=(c.chart.plotSizeY||0)-(c.options.borderWidth||0)-(h.length-1)*c.nodePadding;for(;h.length;){for(n=d/h.sankeyColumn.sum(),k=!1,s=h.length;s--;)h[s].getSum()*n<f&&(h.splice(s,1),d=Math.max(0,d-f),k=!0);if(!k)break}h.length=0;for(const l of m)h.push(l);return n}top(c){const h=this.series,m=h.nodePadding,_=this.points.reduce((f,k)=>(f>0&&(f+=m),f+Math.max(k.getSum()*c,h.options.minLinkWidth||0)),0);return{top:0,center:.5,bottom:1}[h.options.nodeAlignment||"center"]*((h.chart.plotSizeY||0)-_)}left(c){const h=this.series,m=h.chart,_=h.options.equalNodes,f=m.inverted?m.plotHeight:m.plotWidth,k=h.nodePadding,n=this.points.reduce((s,d)=>(s>0&&(s+=k),s+(_?f/d.series.nodes.length-k:Math.max(d.getSum()*c,h.options.minLinkWidth||0))),0);return((m.plotSizeX||0)-Math.round(n))/2}sum(){return this.points.reduce((c,h)=>c+h.getSum(),0)}offset(c,h){const m=this.points,_=this.series,f=_.nodePadding;let n,k=0;if(_.is("organization")&&c.hangsFrom)return{absoluteTop:c.hangsFrom.nodeY};for(let s=0;s<m.length;s++){const d=m[s].getSum(),l=Math.max(d*h,_.options.minLinkWidth||0),g=c.options[_.chart.inverted?"offsetHorizontal":"offsetVertical"],b=c.options.offset||0;if(n=d?l+f:0,m[s]===c)return{relativeTop:k+(I(g)?E(g,l):E(b,n))};k+=n}}}T.SankeyColumnAdditions=j}(t||(t={})),t}),K(S,"Series/TreeUtilities.js",[S["Core/Color/Color.js"],S["Core/Utilities.js"]],function(O,I){const{extend:E,isArray:t,isNumber:T,isObject:N,merge:j,pick:P,relativeLength:c}=I;return{getColor:function h(s,d){const l=d.index,b=d.parentColor,p=d.parentColorIndex,v=d.series,D=d.colors,r=d.siblings;let C,y,A,z,V,Z,q;return s&&(y=v.points[s.i],A=d.mapOptionsToLevel[s.level]||{},C=y&&A.colorByPoint,C&&(V=y.index%(D?D.length:v.chart.options.chart.colorCount),z=D&&D[V]),v.chart.styledMode||(Z=P(y&&y.options.color,A&&A.color,z,b&&(Y=>{const J=A&&A.colorVariation;return J&&"brightness"===J.key&&l&&r?O.parse(Y).brighten(J.to*(l/r)).get():Y})(b),v.color)),q=P(y&&y.options.colorIndex,A&&A.colorIndex,V,p,d.colorIndex)),{color:Z,colorIndex:q}},getLevelOptions:function m(s){let l,g,b,p,v,D,d={};if(N(s))for(p=T(s.from)?s.from:1,D=s.levels,g={},l=N(s.defaults)?s.defaults:{},t(D)&&(g=D.reduce((r,u)=>{let w,C,y;return N(u)&&T(u.level)&&(y=j({},u),C=P(y.levelIsConstant,l.levelIsConstant),delete y.levelIsConstant,delete y.level,w=u.level+(C?0:p-1),N(r[w])?j(!0,r[w],y):r[w]=y),r},{})),v=T(s.to)?s.to:1,b=0;b<=v;b++)d[b]=j({},l,N(g[b])?g[b]:{});return d},getNodeWidth:function k(s,d){const{chart:l,options:g}=s,{nodeDistance:b=0,nodeWidth:p=0}=g,{plotSizeX:v=1}=l;if("auto"===p){if("string"==typeof b&&/%$/.test(b))return v/(d+parseFloat(b)/100*(d-1));const D=Number(b);return(v+D)/(d||1)-D}return c(p,v)},setTreeValues:function _(s,d){const l=d.before,g=d.idRoot,r=d.points[s.i],u=r&&r.options||{},w=[];let C=0;s.levelDynamic=s.level-(!1!==d.levelIsConstant?0:d.mapIdToNode[g].level),s.name=P(r&&r.name,""),s.visible=g===s.id||!0===d.visible,"function"==typeof l&&(s=l(s,d)),s.children.forEach((A,z)=>{const V=E({},d);E(V,{index:z,siblings:s.children.length,visible:s.visible}),A=_(A,V),w.push(A),A.visible&&(C+=A.val)});const y=P(u.value,C);return s.visible=y>=0&&(C>0||s.visible),s.children=w,s.childrenTotal=C,s.isLeaf=s.visible&&!C,s.val=y,s},updateRootId:function f(s){let d,l;return N(s)&&(l=N(s.options)?s.options:{},d=P(s.rootNode,l.rootId,""),N(s.userOptions)&&(s.userOptions.rootId=d),s.rootNode=d),d}}}),K(S,"Series/Sankey/SankeySeries.js",[S["Core/Globals.js"],S["Series/NodesComposition.js"],S["Series/Sankey/SankeyPoint.js"],S["Series/Sankey/SankeySeriesDefaults.js"],S["Core/Series/SeriesRegistry.js"],S["Series/Sankey/SankeyColumnComposition.js"],S["Core/Color/Color.js"],S["Series/TreeUtilities.js"],S["Core/Utilities.js"]],function(O,I,E,t,T,N,j,P,c){const{column:h,line:m}=T.seriesTypes,{parse:_}=j,{getLevelOptions:f,getNodeWidth:k}=P,{clamp:n,extend:s,isObject:d,merge:l,pick:g,relativeLength:b,stableSort:p}=c;class v extends h{static getDLOptions(r){const u=d(r.optionsPoint)?r.optionsPoint.dataLabels:{},w=d(r.level)?r.level.dataLabels:{};return l({style:{}},w,u)}createNodeColumns(){const r=[];for(const u of this.nodes)u.setNodeColumn(),r[u.column]||(r[u.column]=N.compose([],this)),r[u.column].push(u);for(let u=0;u<r.length;u++)typeof r[u]>"u"&&(r[u]=N.compose([],this));return r}order(r,u){const w=this;if(typeof r.level>"u"){r.level=u;for(const C of r.linksFrom)C.toNode&&w.order(C.toNode,u+1)}}generatePoints(){if(I.generatePoints.apply(this,arguments),this.orderNodes){for(const r of this.nodes)0===r.linksTo.length&&this.order(r,0);p(this.nodes,(r,u)=>r.level-u.level)}}getNodePadding(){let r=this.options.nodePadding||0;if(this.nodeColumns){const u=this.nodeColumns.reduce((w,C)=>Math.max(w,C.length),0);u*r>this.chart.plotSizeY&&(r=this.chart.plotSizeY/u)}return r}hasData(){return!!this.processedXData.length}pointAttribs(r,u){if(!r)return{};const w=this,y=w.mapOptionsToLevel[(r.isNode?r.level:r.fromNode.level)||0]||{},A=r.options,z=y.states&&y.states[u||""]||{},V=["colorByPoint","borderColor","borderWidth","linkOpacity","opacity"].reduce((q,$)=>(q[$]=g(z[$],A[$],y[$],w.options[$]),q),{}),Z=g(z.color,A.color,V.colorByPoint?r.color:y.color);return r.isNode?{fill:Z,stroke:V.borderColor,"stroke-width":V.borderWidth,opacity:V.opacity}:{fill:j.parse(Z).setOpacity(V.linkOpacity).get()}}drawTracker(){h.prototype.drawTracker.call(this,this.points),h.prototype.drawTracker.call(this,this.nodes)}drawPoints(){h.prototype.drawPoints.call(this,this.points),h.prototype.drawPoints.call(this,this.nodes)}drawDataLabels(){h.prototype.drawDataLabels.call(this,this.points),h.prototype.drawDataLabels.call(this,this.nodes)}translate(){this.processedXData||this.processData(),this.generatePoints(),this.nodeColumns=this.createNodeColumns();const r=this,u=this.chart,w=this.options,C=this.nodeColumns;this.nodeWidth=k(this,C.length),this.nodePadding=this.getNodePadding(),this.translationFactor=C.reduce((A,z)=>Math.min(A,z.sankeyColumn.getTranslationFactor(r)),1/0),this.colDistance=(u.plotSizeX-this.nodeWidth-w.borderWidth)/Math.max(1,C.length-1),r.mapOptionsToLevel=f({from:1,levels:w.levels,to:C.length-1,defaults:{borderColor:w.borderColor,borderRadius:w.borderRadius,borderWidth:w.borderWidth,color:r.color,colorByPoint:w.colorByPoint,levelIsConstant:!0,linkColor:w.linkColor,linkLineWidth:w.linkLineWidth,linkOpacity:w.linkOpacity,states:w.states}});for(const A of C)for(const z of A)r.translateNode(z,A);for(const A of this.nodes)for(const z of A.linksFrom)(z.weight||z.isNull)&&z.to&&(r.translateLink(z),z.allowShadow=!1)}translateLink(r){const u=(tt,ot)=>{const st=tt.offset(r,ot)*z;return Math.min(tt.nodeY+st,tt.nodeY+(tt.shapeArgs&&tt.shapeArgs.height||0)-B)},w=r.fromNode,C=r.toNode,y=this.chart,{inverted:A}=y,z=this.translationFactor,V=this.options,Z=g(r.linkColorMode,V.linkColorMode),q=(y.inverted?-this.colDistance:this.colDistance)*V.curveFactor,$=w.nodeX,Y=C.nodeX,J=r.outgoing;let B=Math.max(r.weight*z,this.options.minLinkWidth),U=u(w,"linksFrom"),G=u(C,"linksTo"),H=this.nodeWidth,rt=Y>$+H;if(y.inverted&&(U=y.plotSizeY-U,G=(y.plotSizeY||0)-G,H=-H,B=-B,rt=$>Y),r.shapeType="path",r.linkBase=[U,U+B,G,G+B],rt&&"number"==typeof G)r.shapeArgs={d:[["M",$+H,U],["C",$+H+q,U,Y-q,G,Y,G],["L",Y+(J?H:0),G+B/2],["L",Y,G+B],["C",Y-q,G+B,$+H+q,U+B,$+H,U+B],["Z"]]};else if("number"==typeof G){const st=Y-20-B,at=Y-20,ft=$+H,vt=ft+20,gt=vt+B,dt=U+B,ct=dt+20,mt=ct+(y.plotHeight-U-B),pt=mt+20,bt=pt+B,xt=G+B,Et=xt+20,Pt=pt+.7*B,zt=Y-.7*B,Xt=ft+.7*B;r.shapeArgs={d:[["M",ft,U],["C",Xt,U,gt,dt-.7*B,gt,ct],["L",gt,mt],["C",gt,Pt,Xt,bt,ft,bt],["L",Y,bt],["C",zt,bt,st,Pt,st,mt],["L",st,Et],["C",st,xt-.7*B,zt,G,Y,G],["L",Y,xt],["C",at,xt,at,xt,at,Et],["L",at,mt],["C",at,pt,at,pt,Y,pt],["L",ft,pt],["C",vt,pt,vt,pt,vt,mt],["L",vt,ct],["C",vt,dt,vt,dt,ft,dt],["Z"]]}}if(r.dlBox={x:$+(Y-$+H)/2,y:U+(G-U)/2,height:B,width:0},r.tooltipPos=y.inverted?[y.plotSizeY-r.dlBox.y-B/2,y.plotSizeX-r.dlBox.x]:[r.dlBox.x,r.dlBox.y+B/2],r.y=r.plotY=1,r.x=r.plotX=1,!r.options.color)if("from"===Z)r.color=w.color;else if("to"===Z)r.color=C.color;else if("gradient"===Z){const tt=_(w.color).get(),ot=_(C.color).get();r.color={linearGradient:{x1:1,x2:0,y1:0,y2:0},stops:[[0,A?tt:ot],[1,A?ot:tt]]}}}translateNode(r,u){const w=this.translationFactor,C=this.chart,y=this.options,{borderRadius:A,borderWidth:z=0}=y,V=r.getSum(),Z=Math.max(Math.round(V*w),this.options.minLinkWidth),q=Math.round(this.nodeWidth),$=Math.round(z)%2/2,Y=u.sankeyColumn.offset(r,w),J=Math.floor(g(Y.absoluteTop,u.sankeyColumn.top(w)+Y.relativeTop))+$,B=Math.floor(this.colDistance*r.column+z/2)+b(r.options[C.inverted?"offsetVertical":"offsetHorizontal"]||0,q)+$,U=C.inverted?C.plotSizeX-B:B;if(r.sum=V,V){r.shapeType="roundedRect",r.nodeX=U,r.nodeY=J;let G=U,H=J,rt=r.options.width||y.width||q,tt=r.options.height||y.height||Z;const ot=n(b("object"==typeof A?A.radius:A||0,rt),0,Z/2);C.inverted&&(G=U-q,H=C.plotSizeY-J-Z,rt=r.options.height||y.height||q,tt=r.options.width||y.width||Z),r.dlOptions=v.getDLOptions({level:this.mapOptionsToLevel[r.level],optionsPoint:r.options}),r.plotX=1,r.plotY=1,r.tooltipPos=C.inverted?[C.plotSizeY-H-tt/2,C.plotSizeX-G-rt/2]:[G+rt/2,H+tt/2],r.shapeArgs={x:G,y:H,width:rt,height:tt,r:ot,display:r.hasShape()?"":"none"}}else r.dlOptions={enabled:!1}}}return v.defaultOptions=l(h.defaultOptions,t),I.compose(E,v),s(v.prototype,{animate:m.prototype.animate,createNode:I.createNode,forceDL:!0,invertible:!0,isCartesian:!1,orderNodes:!0,noSharedTooltip:!0,pointArrayMap:["from","to","weight"],pointClass:E,searchPoint:O.noop}),T.registerSeriesType("sankey",v),v}),K(S,"masters/modules/sankey.src.js",[S["Core/Globals.js"]],function(O){return O})},nt.exports?(Q.default=Q,nt.exports=Q):(ht=[X(21264)],void 0!==(et=function(S){return Q(S),Q.Highcharts=S,Q}.apply(_t,ht))&&(nt.exports=et))}}]);