(self.webpackChunkz4d_plugin=self.webpackChunkz4d_plugin||[]).push([[580],{37580:(lt,gt,B)=>{"use strict";B.r(gt),B.d(gt,{NetworkModule:()=>Ke});var ht=B(44466),et=B(352),F=B(66270),R=B(95895),H=B(96671),O=B(3304),M=B(77579),P=B(54968),D=B(56451),Z=B(23601),Y=B(82722),L=B(71884),T=B(69718),t=B(5e3),l=B(69808);function m(e){return getComputedStyle(e)}function S(e,i){for(var o in i){var a=i[o];"number"==typeof a&&(a+="px"),e.style[o]=a}return e}function x(e){var i=document.createElement("div");return i.className=e,i}var h="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function u(e,i){if(!h)throw new Error("No element matching method supported");return h.call(e,i)}function c(e){e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)}function p(e,i){return Array.prototype.filter.call(e.children,function(o){return u(o,i)})}var f_element_thumb=function(e){return"ps__thumb-"+e},f_element_rail=function(e){return"ps__rail-"+e},f_element_consuming="ps__child--consume",f_state_focus="ps--focus",f_state_clicking="ps--clicking",f_state_active=function(e){return"ps--active-"+e},f_state_scrolling=function(e){return"ps--scrolling-"+e},n={x:null,y:null};function _(e,i){var o=e.element.classList,a=f_state_scrolling(i);o.contains(a)?clearTimeout(n[i]):o.add(a)}function v(e,i){n[i]=setTimeout(function(){return e.isAlive&&e.element.classList.remove(f_state_scrolling(i))},e.settings.scrollingThreshold)}var s=function(i){this.element=i,this.handlers={}},r={isEmpty:{configurable:!0}};s.prototype.bind=function(i,o){void 0===this.handlers[i]&&(this.handlers[i]=[]),this.handlers[i].push(o),this.element.addEventListener(i,o,!1)},s.prototype.unbind=function(i,o){var a=this;this.handlers[i]=this.handlers[i].filter(function(w){return!(!o||w===o)||(a.element.removeEventListener(i,w,!1),!1)})},s.prototype.unbindAll=function(){for(var i in this.handlers)this.unbind(i)},r.isEmpty.get=function(){var e=this;return Object.keys(this.handlers).every(function(i){return 0===e.handlers[i].length})},Object.defineProperties(s.prototype,r);var y=function(){this.eventElements=[]};function g(e){if("function"==typeof window.CustomEvent)return new CustomEvent(e);var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,!1,!1,void 0),i}function b(e,i,o,a,w){var A;if(void 0===a&&(a=!0),void 0===w&&(w=!1),"top"===i)A=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==i)throw new Error("A proper axis should be provided");A=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function U(e,i,o,a,w){var A=o[0],k=o[1],E=o[2],N=o[3],X=o[4],z=o[5];void 0===a&&(a=!0),void 0===w&&(w=!1);var G=e.element;e.reach[N]=null,G[E]<1&&(e.reach[N]="start"),G[E]>e[A]-e[k]-1&&(e.reach[N]="end"),i&&(G.dispatchEvent(g("ps-scroll-"+N)),i<0?G.dispatchEvent(g("ps-scroll-"+X)):i>0&&G.dispatchEvent(g("ps-scroll-"+z)),a&&function d(e,i){_(e,i),v(e,i)}(e,N)),e.reach[N]&&(i||w)&&G.dispatchEvent(g("ps-"+N+"-reach-"+e.reach[N]))}(e,o,A,a,w)}function C(e){return parseInt(e,10)||0}y.prototype.eventElement=function(i){var o=this.eventElements.filter(function(a){return a.element===i})[0];return o||(o=new s(i),this.eventElements.push(o)),o},y.prototype.bind=function(i,o,a){this.eventElement(i).bind(o,a)},y.prototype.unbind=function(i,o,a){var w=this.eventElement(i);w.unbind(o,a),w.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(w),1)},y.prototype.unbindAll=function(){this.eventElements.forEach(function(i){return i.unbindAll()}),this.eventElements=[]},y.prototype.once=function(i,o,a){var w=this.eventElement(i),A=function(k){w.unbind(o,A),a(k)};w.bind(o,A)};var I={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)};function j(e){var i=e.element,o=Math.floor(i.scrollTop),a=i.getBoundingClientRect();e.containerWidth=Math.ceil(a.width),e.containerHeight=Math.ceil(a.height),e.contentWidth=i.scrollWidth,e.contentHeight=i.scrollHeight,i.contains(e.scrollbarXRail)||(p(i,f_element_rail("x")).forEach(function(w){return c(w)}),i.appendChild(e.scrollbarXRail)),i.contains(e.scrollbarYRail)||(p(i,f_element_rail("y")).forEach(function(w){return c(w)}),i.appendChild(e.scrollbarYRail)),!e.settings.suppressScrollX&&e.containerWidth+e.settings.scrollXMarginOffset<e.contentWidth?(e.scrollbarXActive=!0,e.railXWidth=e.containerWidth-e.railXMarginWidth,e.railXRatio=e.containerWidth/e.railXWidth,e.scrollbarXWidth=Q(e,C(e.railXWidth*e.containerWidth/e.contentWidth)),e.scrollbarXLeft=C((e.negativeScrollAdjustment+i.scrollLeft)*(e.railXWidth-e.scrollbarXWidth)/(e.contentWidth-e.containerWidth))):e.scrollbarXActive=!1,!e.settings.suppressScrollY&&e.containerHeight+e.settings.scrollYMarginOffset<e.contentHeight?(e.scrollbarYActive=!0,e.railYHeight=e.containerHeight-e.railYMarginHeight,e.railYRatio=e.containerHeight/e.railYHeight,e.scrollbarYHeight=Q(e,C(e.railYHeight*e.containerHeight/e.contentHeight)),e.scrollbarYTop=C(o*(e.railYHeight-e.scrollbarYHeight)/(e.contentHeight-e.containerHeight))):e.scrollbarYActive=!1,e.scrollbarXLeft>=e.railXWidth-e.scrollbarXWidth&&(e.scrollbarXLeft=e.railXWidth-e.scrollbarXWidth),e.scrollbarYTop>=e.railYHeight-e.scrollbarYHeight&&(e.scrollbarYTop=e.railYHeight-e.scrollbarYHeight),function K(e,i){var o={width:i.railXWidth},a=Math.floor(e.scrollTop);o.left=i.isRtl?i.negativeScrollAdjustment+e.scrollLeft+i.containerWidth-i.contentWidth:e.scrollLeft,i.isScrollbarXUsingBottom?o.bottom=i.scrollbarXBottom-a:o.top=i.scrollbarXTop+a,S(i.scrollbarXRail,o);var w={top:a,height:i.railYHeight};i.isScrollbarYUsingRight?w.right=i.isRtl?i.contentWidth-(i.negativeScrollAdjustment+e.scrollLeft)-i.scrollbarYRight-i.scrollbarYOuterWidth-9:i.scrollbarYRight-e.scrollLeft:w.left=i.isRtl?i.negativeScrollAdjustment+e.scrollLeft+2*i.containerWidth-i.contentWidth-i.scrollbarYLeft-i.scrollbarYOuterWidth:i.scrollbarYLeft+e.scrollLeft,S(i.scrollbarYRail,w),S(i.scrollbarX,{left:i.scrollbarXLeft,width:i.scrollbarXWidth-i.railBorderXWidth}),S(i.scrollbarY,{top:i.scrollbarYTop,height:i.scrollbarYHeight-i.railBorderYWidth})}(i,e),e.scrollbarXActive?i.classList.add(f_state_active("x")):(i.classList.remove(f_state_active("x")),e.scrollbarXWidth=0,e.scrollbarXLeft=0,i.scrollLeft=!0===e.isRtl?e.contentWidth:0),e.scrollbarYActive?i.classList.add(f_state_active("y")):(i.classList.remove(f_state_active("y")),e.scrollbarYHeight=0,e.scrollbarYTop=0,i.scrollTop=0)}function Q(e,i){return e.settings.minScrollbarLength&&(i=Math.max(i,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(i=Math.min(i,e.settings.maxScrollbarLength)),i}function ot(e,i){var o=i[0],a=i[1],w=i[2],A=i[3],k=i[4],E=i[5],N=i[6],X=i[7],z=i[8],G=e.element,at=null,St=null,J=null;function it(V){V.touches&&V.touches[0]&&(V[w]=V.touches[0].pageY),G[N]=at+J*(V[w]-St),_(e,X),j(e),V.stopPropagation(),V.preventDefault()}function ft(){v(e,X),e[z].classList.remove(f_state_clicking),e.event.unbind(e.ownerDocument,"mousemove",it)}function tt(V,mt){at=G[N],mt&&V.touches&&(V[w]=V.touches[0].pageY),St=V[w],J=(e[a]-e[o])/(e[A]-e[E]),mt?e.event.bind(e.ownerDocument,"touchmove",it):(e.event.bind(e.ownerDocument,"mousemove",it),e.event.once(e.ownerDocument,"mouseup",ft),V.preventDefault()),e[z].classList.add(f_state_clicking),V.stopPropagation()}e.event.bind(e[k],"mousedown",function(V){tt(V)}),e.event.bind(e[k],"touchstart",function(V){tt(V,!0)})}var yt={"click-rail":function $(e){e.event.bind(e.scrollbarY,"mousedown",function(o){return o.stopPropagation()}),e.event.bind(e.scrollbarYRail,"mousedown",function(o){var a=o.pageY-window.pageYOffset-e.scrollbarYRail.getBoundingClientRect().top;e.element.scrollTop+=(a>e.scrollbarYTop?1:-1)*e.containerHeight,j(e),o.stopPropagation()}),e.event.bind(e.scrollbarX,"mousedown",function(o){return o.stopPropagation()}),e.event.bind(e.scrollbarXRail,"mousedown",function(o){var a=o.pageX-window.pageXOffset-e.scrollbarXRail.getBoundingClientRect().left;e.element.scrollLeft+=(a>e.scrollbarXLeft?1:-1)*e.containerWidth,j(e),o.stopPropagation()})},"drag-thumb":function st(e){ot(e,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),ot(e,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function rt(e){var i=e.element;e.event.bind(e.ownerDocument,"keydown",function(A){if(!(A.isDefaultPrevented&&A.isDefaultPrevented()||A.defaultPrevented)&&(u(i,":hover")||u(e.scrollbarX,":focus")||u(e.scrollbarY,":focus"))){var k=document.activeElement?document.activeElement:e.ownerDocument.activeElement;if(k){if("IFRAME"===k.tagName)k=k.contentDocument.activeElement;else for(;k.shadowRoot;)k=k.shadowRoot.activeElement;if(function W(e){return u(e,"input,[contenteditable]")||u(e,"select,[contenteditable]")||u(e,"textarea,[contenteditable]")||u(e,"button,[contenteditable]")}(k))return}var E=0,N=0;switch(A.which){case 37:E=A.metaKey?-e.contentWidth:A.altKey?-e.containerWidth:-30;break;case 38:N=A.metaKey?e.contentHeight:A.altKey?e.containerHeight:30;break;case 39:E=A.metaKey?e.contentWidth:A.altKey?e.containerWidth:30;break;case 40:N=A.metaKey?-e.contentHeight:A.altKey?-e.containerHeight:-30;break;case 32:N=A.shiftKey?e.containerHeight:-e.containerHeight;break;case 33:N=e.containerHeight;break;case 34:N=-e.containerHeight;break;case 36:N=e.contentHeight;break;case 35:N=-e.contentHeight;break;default:return}e.settings.suppressScrollX&&0!==E||e.settings.suppressScrollY&&0!==N||(i.scrollTop-=N,i.scrollLeft+=E,j(e),function w(A,k){var E=Math.floor(i.scrollTop);if(0===A){if(!e.scrollbarYActive)return!1;if(0===E&&k>0||E>=e.contentHeight-e.containerHeight&&k<0)return!e.settings.wheelPropagation}var N=i.scrollLeft;if(0===k){if(!e.scrollbarXActive)return!1;if(0===N&&A<0||N>=e.contentWidth-e.containerWidth&&A>0)return!e.settings.wheelPropagation}return!0}(E,N)&&A.preventDefault())}})},wheel:function kt(e){var i=e.element;function A(k){var E=function a(k){var E=k.deltaX,N=-1*k.deltaY;return(void 0===E||void 0===N)&&(E=-1*k.wheelDeltaX/6,N=k.wheelDeltaY/6),k.deltaMode&&1===k.deltaMode&&(E*=10,N*=10),E!=E&&N!=N&&(E=0,N=k.wheelDelta),k.shiftKey?[-N,-E]:[E,N]}(k),N=E[0],X=E[1];if(!function w(k,E,N){if(!I.isWebKit&&i.querySelector("select:focus"))return!0;if(!i.contains(k))return!1;for(var X=k;X&&X!==i;){if(X.classList.contains(f_element_consuming))return!0;var z=m(X);if(N&&z.overflowY.match(/(scroll|auto)/)){var G=X.scrollHeight-X.clientHeight;if(G>0&&(X.scrollTop>0&&N<0||X.scrollTop<G&&N>0))return!0}if(E&&z.overflowX.match(/(scroll|auto)/)){var at=X.scrollWidth-X.clientWidth;if(at>0&&(X.scrollLeft>0&&E<0||X.scrollLeft<at&&E>0))return!0}X=X.parentNode}return!1}(k.target,N,X)){var z=!1;e.settings.useBothWheelAxes?e.scrollbarYActive&&!e.scrollbarXActive?(X?i.scrollTop-=X*e.settings.wheelSpeed:i.scrollTop+=N*e.settings.wheelSpeed,z=!0):e.scrollbarXActive&&!e.scrollbarYActive&&(N?i.scrollLeft+=N*e.settings.wheelSpeed:i.scrollLeft-=X*e.settings.wheelSpeed,z=!0):(i.scrollTop-=X*e.settings.wheelSpeed,i.scrollLeft+=N*e.settings.wheelSpeed),j(e),z=z||function o(k,E){var N=Math.floor(i.scrollTop),X=0===i.scrollTop,z=N+i.offsetHeight===i.scrollHeight,G=0===i.scrollLeft,at=i.scrollLeft+i.offsetWidth===i.scrollWidth;return!(Math.abs(E)>Math.abs(k)?X||z:G||at)||!e.settings.wheelPropagation}(N,X),z&&!k.ctrlKey&&(k.stopPropagation(),k.preventDefault())}}void 0!==window.onwheel?e.event.bind(i,"wheel",A):void 0!==window.onmousewheel&&e.event.bind(i,"mousewheel",A)},touch:function ut(e){if(I.supportsTouch||I.supportsIePointer){var i=e.element,w={},A=0,k={},E=null;I.supportsTouch?(e.event.bind(i,"touchstart",z),e.event.bind(i,"touchmove",at),e.event.bind(i,"touchend",St)):I.supportsIePointer&&(window.PointerEvent?(e.event.bind(i,"pointerdown",z),e.event.bind(i,"pointermove",at),e.event.bind(i,"pointerup",St)):window.MSPointerEvent&&(e.event.bind(i,"MSPointerDown",z),e.event.bind(i,"MSPointerMove",at),e.event.bind(i,"MSPointerUp",St)))}function a(J,it){i.scrollTop-=it,i.scrollLeft-=J,j(e)}function N(J){return J.targetTouches?J.targetTouches[0]:J}function X(J){return!(J.pointerType&&"pen"===J.pointerType&&0===J.buttons||!(J.targetTouches&&1===J.targetTouches.length||J.pointerType&&"mouse"!==J.pointerType&&J.pointerType!==J.MSPOINTER_TYPE_MOUSE))}function z(J){if(X(J)){var it=N(J);w.pageX=it.pageX,w.pageY=it.pageY,A=(new Date).getTime(),null!==E&&clearInterval(E)}}function at(J){if(X(J)){var it=N(J),ft={pageX:it.pageX,pageY:it.pageY},tt=ft.pageX-w.pageX,V=ft.pageY-w.pageY;if(function G(J,it,ft){if(!i.contains(J))return!1;for(var tt=J;tt&&tt!==i;){if(tt.classList.contains(f_element_consuming))return!0;var V=m(tt);if(ft&&V.overflowY.match(/(scroll|auto)/)){var mt=tt.scrollHeight-tt.clientHeight;if(mt>0&&(tt.scrollTop>0&&ft<0||tt.scrollTop<mt&&ft>0))return!0}if(it&&V.overflowX.match(/(scroll|auto)/)){var Ut=tt.scrollWidth-tt.clientWidth;if(Ut>0&&(tt.scrollLeft>0&&it<0||tt.scrollLeft<Ut&&it>0))return!0}tt=tt.parentNode}return!1}(J.target,tt,V))return;a(tt,V),w=ft;var mt=(new Date).getTime(),Ut=mt-A;Ut>0&&(k.x=tt/Ut,k.y=V/Ut,A=mt),function o(J,it){var ft=Math.floor(i.scrollTop),tt=i.scrollLeft,V=Math.abs(J),mt=Math.abs(it);if(mt>V){if(it<0&&ft===e.contentHeight-e.containerHeight||it>0&&0===ft)return 0===window.scrollY&&it>0&&I.isChrome}else if(V>mt&&(J<0&&tt===e.contentWidth-e.containerWidth||J>0&&0===tt))return!0;return!0}(tt,V)&&J.preventDefault()}}function St(){e.settings.swipeEasing&&(clearInterval(E),E=setInterval(function(){e.isInitialized?clearInterval(E):k.x||k.y?Math.abs(k.x)<.01&&Math.abs(k.y)<.01?clearInterval(E):(a(30*k.x,30*k.y),k.x*=.8,k.y*=.8):clearInterval(E)},10))}}},ct=function(i,o){var a=this;if(void 0===o&&(o={}),"string"==typeof i&&(i=document.querySelector(i)),!i||!i.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var w in this.element=i,i.classList.add("ps"),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},o)this.settings[w]=o[w];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var z,X,A=function(){return i.classList.add(f_state_focus)},k=function(){return i.classList.remove(f_state_focus)};this.isRtl="rtl"===m(i).direction,!0===this.isRtl&&i.classList.add("ps__rtl"),this.isNegativeScroll=(X=i.scrollLeft,i.scrollLeft=-1,z=i.scrollLeft<0,i.scrollLeft=X,z),this.negativeScrollAdjustment=this.isNegativeScroll?i.scrollWidth-i.clientWidth:0,this.event=new y,this.ownerDocument=i.ownerDocument||document,this.scrollbarXRail=x(f_element_rail("x")),i.appendChild(this.scrollbarXRail),this.scrollbarX=x(f_element_thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",A),this.event.bind(this.scrollbarX,"blur",k),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var E=m(this.scrollbarXRail);this.scrollbarXBottom=parseInt(E.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=C(E.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=C(E.borderLeftWidth)+C(E.borderRightWidth),S(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=C(E.marginLeft)+C(E.marginRight),S(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=x(f_element_rail("y")),i.appendChild(this.scrollbarYRail),this.scrollbarY=x(f_element_thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",A),this.event.bind(this.scrollbarY,"blur",k),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var N=m(this.scrollbarYRail);this.scrollbarYRight=parseInt(N.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=C(N.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function q(e){var i=m(e);return C(i.width)+C(i.paddingLeft)+C(i.paddingRight)+C(i.borderLeftWidth)+C(i.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=C(N.borderTopWidth)+C(N.borderBottomWidth),S(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=C(N.marginTop)+C(N.marginBottom),S(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:i.scrollLeft<=0?"start":i.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:i.scrollTop<=0?"start":i.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(X){return yt[X](a)}),this.lastScrollTop=Math.floor(i.scrollTop),this.lastScrollLeft=i.scrollLeft,this.event.bind(this.element,"scroll",function(X){return a.onScroll(X)}),j(this)};ct.prototype.update=function(){!this.isAlive||(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,S(this.scrollbarXRail,{display:"block"}),S(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=C(m(this.scrollbarXRail).marginLeft)+C(m(this.scrollbarXRail).marginRight),this.railYMarginHeight=C(m(this.scrollbarYRail).marginTop)+C(m(this.scrollbarYRail).marginBottom),S(this.scrollbarXRail,{display:"none"}),S(this.scrollbarYRail,{display:"none"}),j(this),b(this,"top",0,!1,!0),b(this,"left",0,!1,!0),S(this.scrollbarXRail,{display:""}),S(this.scrollbarYRail,{display:""}))},ct.prototype.onScroll=function(i){!this.isAlive||(j(this),b(this,"top",this.element.scrollTop-this.lastScrollTop),b(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},ct.prototype.destroy=function(){!this.isAlive||(this.event.unbindAll(),c(this.scrollbarX),c(this.scrollbarY),c(this.scrollbarXRail),c(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},ct.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(i){return!i.match(/^ps([-_].+|)$/)}).join(" ")};const dt=ct;var pt=function(){if("undefined"!=typeof Map)return Map;function e(i,o){var a=-1;return i.some(function(w,A){return w[0]===o&&(a=A,!0)}),a}return function(){function i(){this.__entries__=[]}return Object.defineProperty(i.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),i.prototype.get=function(o){var a=e(this.__entries__,o),w=this.__entries__[a];return w&&w[1]},i.prototype.set=function(o,a){var w=e(this.__entries__,o);~w?this.__entries__[w][1]=a:this.__entries__.push([o,a])},i.prototype.delete=function(o){var a=this.__entries__,w=e(a,o);~w&&a.splice(w,1)},i.prototype.has=function(o){return!!~e(this.__entries__,o)},i.prototype.clear=function(){this.__entries__.splice(0)},i.prototype.forEach=function(o,a){void 0===a&&(a=null);for(var w=0,A=this.__entries__;w<A.length;w++){var k=A[w];o.call(a,k[1],k[0])}},i}()}(),bt="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,_t="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),Mt="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(_t):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)},Zt=["top","right","bottom","left","width","height","size","weight"],Lt="undefined"!=typeof MutationObserver,Ot=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function wt(e,i){var o=!1,a=!1,w=0;function A(){o&&(o=!1,e()),a&&E()}function k(){Mt(A)}function E(){var N=Date.now();if(o){if(N-w<2)return;a=!0}else o=!0,a=!1,setTimeout(k,i);w=N}return E}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(i){~this.observers_.indexOf(i)||this.observers_.push(i),this.connected_||this.connect_()},e.prototype.removeObserver=function(i){var o=this.observers_,a=o.indexOf(i);~a&&o.splice(a,1),!o.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var i=this.observers_.filter(function(o){return o.gatherActive(),o.hasActive()});return i.forEach(function(o){return o.broadcastActive()}),i.length>0},e.prototype.connect_=function(){!bt||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Lt?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!bt||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(i){var o=i.propertyName,a=void 0===o?"":o;Zt.some(function(A){return!!~a.indexOf(A)})&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),Xt=function(e,i){for(var o=0,a=Object.keys(i);o<a.length;o++){var w=a[o];Object.defineProperty(e,w,{value:i[w],enumerable:!1,writable:!1,configurable:!0})}return e},xt=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||_t},Ft=It(0,0,0,0);function Nt(e){return parseFloat(e)||0}function Dt(e){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];return i.reduce(function(a,w){return a+Nt(e["border-"+w+"-width"])},0)}var Ht="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof xt(e).SVGGraphicsElement}:function(e){return e instanceof xt(e).SVGElement&&"function"==typeof e.getBBox};function re(e){return bt?Ht(e)?function Wt(e){var i=e.getBBox();return It(0,0,i.width,i.height)}(e):function jt(e){var i=e.clientWidth,o=e.clientHeight;if(!i&&!o)return Ft;var a=xt(e).getComputedStyle(e),w=function Pt(e){for(var o={},a=0,w=["top","right","bottom","left"];a<w.length;a++){var A=w[a];o[A]=Nt(e["padding-"+A])}return o}(a),A=w.left+w.right,k=w.top+w.bottom,E=Nt(a.width),N=Nt(a.height);if("border-box"===a.boxSizing&&(Math.round(E+A)!==i&&(E-=Dt(a,"left","right")+A),Math.round(N+k)!==o&&(N-=Dt(a,"top","bottom")+k)),!function ne(e){return e===xt(e).document.documentElement}(e)){var X=Math.round(E+A)-i,z=Math.round(N+k)-o;1!==Math.abs(X)&&(E-=X),1!==Math.abs(z)&&(N-=z)}return It(w.left,w.top,E,N)}(e):Ft}function It(e,i,o,a){return{x:e,y:i,width:o,height:a}}var ae=function(){function e(i){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=It(0,0,0,0),this.target=i}return e.prototype.isActive=function(){var i=re(this.target);return this.contentRect_=i,i.width!==this.broadcastWidth||i.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var i=this.contentRect_;return this.broadcastWidth=i.width,this.broadcastHeight=i.height,i},e}(),le=function e(i,o){var a=function se(e){var i=e.x,o=e.y,a=e.width,w=e.height,A="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,k=Object.create(A.prototype);return Xt(k,{x:i,y:o,width:a,height:w,top:o,right:i+a,bottom:w+o,left:i}),k}(o);Xt(this,{target:i,contentRect:a})},ce=function(){function e(i,o,a){if(this.activeObservations_=[],this.observations_=new pt,"function"!=typeof i)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=i,this.controller_=o,this.callbackCtx_=a}return e.prototype.observe=function(i){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(i instanceof xt(i).Element))throw new TypeError('parameter 1 is not of type "Element".');var o=this.observations_;o.has(i)||(o.set(i,new ae(i)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(i){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(i instanceof xt(i).Element))throw new TypeError('parameter 1 is not of type "Element".');var o=this.observations_;!o.has(i)||(o.delete(i),o.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var i=this;this.clearActive(),this.observations_.forEach(function(o){o.isActive()&&i.activeObservations_.push(o)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var i=this.callbackCtx_,o=this.activeObservations_.map(function(a){return new le(a.target,a.broadcastRect())});this.callback_.call(i,o,i),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),zt="undefined"!=typeof WeakMap?new WeakMap:new pt,Jt=function e(i){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var o=Ot.getInstance(),a=new ce(i,o,this);zt.set(this,a)};["observe","unobserve","disconnect"].forEach(function(e){Jt.prototype[e]=function(){var i;return(i=zt.get(this))[e].apply(i,arguments)}});const pe=void 0!==_t.ResizeObserver?_t.ResizeObserver:Jt;function ue(e,i){if(1&e&&(t.TgZ(0,"div",3),t._uU(1,"\n    "),t._UZ(2,"div",4),t._uU(3,"\n    "),t._UZ(4,"div",5),t._uU(5,"\n    "),t._UZ(6,"div",6),t._uU(7,"\n    "),t._UZ(8,"div",7),t._uU(9,"\n  "),t.qZA()),2&e){const o=t.oxw();t.ekj("ps-at-top",o.states.top)("ps-at-left",o.states.left)("ps-at-right",o.states.right)("ps-at-bottom",o.states.bottom),t.xp6(2),t.ekj("ps-indicator-show",o.indicatorY&&o.interaction),t.xp6(2),t.ekj("ps-indicator-show",o.indicatorX&&o.interaction),t.xp6(2),t.ekj("ps-indicator-show",o.indicatorX&&o.interaction),t.xp6(2),t.ekj("ps-indicator-show",o.indicatorY&&o.interaction)}}const de=["*"],Qt=new t.OlP("PERFECT_SCROLLBAR_CONFIG");class fe{constructor(i,o,a,w){this.x=i,this.y=o,this.w=a,this.h=w}}class Kt{constructor(i,o){this.x=i,this.y=o}}const Vt=["psScrollY","psScrollX","psScrollUp","psScrollDown","psScrollLeft","psScrollRight","psYReachEnd","psYReachStart","psXReachEnd","psXReachStart"];class ve{constructor(i={}){this.assign(i)}assign(i={}){for(const o in i)this[o]=i[o]}}let Gt=(()=>{class e{constructor(o,a,w,A,k){this.zone=o,this.differs=a,this.elementRef=w,this.platformId=A,this.defaults=k,this.instance=null,this.ro=null,this.timeout=null,this.animation=null,this.configDiff=null,this.ngDestroy=new M.x,this.disabled=!1,this.psScrollY=new t.vpe,this.psScrollX=new t.vpe,this.psScrollUp=new t.vpe,this.psScrollDown=new t.vpe,this.psScrollLeft=new t.vpe,this.psScrollRight=new t.vpe,this.psYReachEnd=new t.vpe,this.psYReachStart=new t.vpe,this.psXReachEnd=new t.vpe,this.psXReachStart=new t.vpe}ngOnInit(){if(!this.disabled&&(0,l.NF)(this.platformId)){const o=new ve(this.defaults);o.assign(this.config),this.zone.runOutsideAngular(()=>{this.instance=new dt(this.elementRef.nativeElement,o)}),this.configDiff||(this.configDiff=this.differs.find(this.config||{}).create(),this.configDiff.diff(this.config||{})),this.zone.runOutsideAngular(()=>{this.ro=new pe(()=>{this.update()}),this.elementRef.nativeElement.children[0]&&this.ro.observe(this.elementRef.nativeElement.children[0]),this.ro.observe(this.elementRef.nativeElement)}),this.zone.runOutsideAngular(()=>{Vt.forEach(a=>{const w=a.replace(/([A-Z])/g,A=>`-${A.toLowerCase()}`);(0,P.R)(this.elementRef.nativeElement,w).pipe((0,Z.e)(20),(0,Y.R)(this.ngDestroy)).subscribe(A=>{this[a].emit(A)})})})}}ngOnDestroy(){(0,l.NF)(this.platformId)&&(this.ngDestroy.next(),this.ngDestroy.complete(),this.ro&&this.ro.disconnect(),this.timeout&&"undefined"!=typeof window&&window.clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.instance&&this.instance.destroy()}),this.instance=null)}ngDoCheck(){!this.disabled&&this.configDiff&&(0,l.NF)(this.platformId)&&this.configDiff.diff(this.config||{})&&(this.ngOnDestroy(),this.ngOnInit())}ngOnChanges(o){o.disabled&&!o.disabled.isFirstChange()&&(0,l.NF)(this.platformId)&&o.disabled.currentValue!==o.disabled.previousValue&&(!0===o.disabled.currentValue?this.ngOnDestroy():!1===o.disabled.currentValue&&this.ngOnInit())}ps(){return this.instance}update(){"undefined"!=typeof window&&(this.timeout&&window.clearTimeout(this.timeout),this.timeout=window.setTimeout(()=>{if(!this.disabled&&this.configDiff)try{this.zone.runOutsideAngular(()=>{this.instance&&this.instance.update()})}catch(o){}},0))}geometry(o="scroll"){return new fe(this.elementRef.nativeElement[o+"Left"],this.elementRef.nativeElement[o+"Top"],this.elementRef.nativeElement[o+"Width"],this.elementRef.nativeElement[o+"Height"])}position(o=!1){return!o&&this.instance?new Kt(this.instance.reach.x||0,this.instance.reach.y||0):new Kt(this.elementRef.nativeElement.scrollLeft,this.elementRef.nativeElement.scrollTop)}scrollable(o="any"){const a=this.elementRef.nativeElement;return"any"===o?a.classList.contains("ps--active-x")||a.classList.contains("ps--active-y"):"both"===o?a.classList.contains("ps--active-x")&&a.classList.contains("ps--active-y"):a.classList.contains("ps--active-"+o)}scrollTo(o,a,w){this.disabled||(null==a&&null==w?this.animateScrolling("scrollTop",o,w):(null!=o&&this.animateScrolling("scrollLeft",o,w),null!=a&&this.animateScrolling("scrollTop",a,w)))}scrollToX(o,a){this.animateScrolling("scrollLeft",o,a)}scrollToY(o,a){this.animateScrolling("scrollTop",o,a)}scrollToTop(o,a){this.animateScrolling("scrollTop",o||0,a)}scrollToLeft(o,a){this.animateScrolling("scrollLeft",o||0,a)}scrollToRight(o,a){this.animateScrolling("scrollLeft",this.elementRef.nativeElement.scrollWidth-this.elementRef.nativeElement.clientWidth-(o||0),a)}scrollToBottom(o,a){this.animateScrolling("scrollTop",this.elementRef.nativeElement.scrollHeight-this.elementRef.nativeElement.clientHeight-(o||0),a)}scrollToElement(o,a,w){if("string"==typeof o&&(o=this.elementRef.nativeElement.querySelector(o)),o){const A=o.getBoundingClientRect(),k=this.elementRef.nativeElement.getBoundingClientRect();this.elementRef.nativeElement.classList.contains("ps--active-x")&&this.animateScrolling("scrollLeft",A.left-k.left+this.elementRef.nativeElement.scrollLeft+(a||0),w),this.elementRef.nativeElement.classList.contains("ps--active-y")&&this.animateScrolling("scrollTop",A.top-k.top+this.elementRef.nativeElement.scrollTop+(a||0),w)}}animateScrolling(o,a,w){if(this.animation&&(window.cancelAnimationFrame(this.animation),this.animation=null),w&&"undefined"!=typeof window){if(a!==this.elementRef.nativeElement[o]){let A=0,k=0,E=performance.now(),N=this.elementRef.nativeElement[o];const X=(N-a)/2,z=G=>{k+=Math.PI/(w/(G-E)),A=Math.round(a+X+X*Math.cos(k)),this.elementRef.nativeElement[o]===N&&(k>=Math.PI?this.animateScrolling(o,a,0):(this.elementRef.nativeElement[o]=A,N=this.elementRef.nativeElement[o],E=G,this.animation=window.requestAnimationFrame(z)))};window.requestAnimationFrame(z)}}else this.elementRef.nativeElement[o]=a}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(t.R0b),t.Y36(t.aQg),t.Y36(t.SBq),t.Y36(t.Lbi),t.Y36(Qt,8))},e.\u0275dir=t.lG2({type:e,selectors:[["","perfectScrollbar",""]],inputs:{disabled:"disabled",config:["perfectScrollbar","config"]},outputs:{psScrollY:"psScrollY",psScrollX:"psScrollX",psScrollUp:"psScrollUp",psScrollDown:"psScrollDown",psScrollLeft:"psScrollLeft",psScrollRight:"psScrollRight",psYReachEnd:"psYReachEnd",psYReachStart:"psYReachStart",psXReachEnd:"psXReachEnd",psXReachStart:"psXReachStart"},exportAs:["ngxPerfectScrollbar"],features:[t.TTD]}),e})(),Rt=(()=>{class e{constructor(o,a,w){this.zone=o,this.cdRef=a,this.platformId=w,this.states={},this.indicatorX=!1,this.indicatorY=!1,this.interaction=!1,this.scrollPositionX=0,this.scrollPositionY=0,this.scrollDirectionX=0,this.scrollDirectionY=0,this.usePropagationX=!1,this.usePropagationY=!1,this.allowPropagationX=!1,this.allowPropagationY=!1,this.stateTimeout=null,this.ngDestroy=new M.x,this.stateUpdate=new M.x,this.disabled=!1,this.usePSClass=!0,this.autoPropagation=!1,this.scrollIndicators=!1,this.psScrollY=new t.vpe,this.psScrollX=new t.vpe,this.psScrollUp=new t.vpe,this.psScrollDown=new t.vpe,this.psScrollLeft=new t.vpe,this.psScrollRight=new t.vpe,this.psYReachEnd=new t.vpe,this.psYReachStart=new t.vpe,this.psXReachEnd=new t.vpe,this.psXReachStart=new t.vpe}ngOnInit(){(0,l.NF)(this.platformId)&&(this.stateUpdate.pipe((0,Y.R)(this.ngDestroy),(0,L.x)((o,a)=>o===a&&!this.stateTimeout)).subscribe(o=>{this.stateTimeout&&"undefined"!=typeof window&&(window.clearTimeout(this.stateTimeout),this.stateTimeout=null),"x"===o||"y"===o?(this.interaction=!1,"x"===o?(this.indicatorX=!1,this.states.left=!1,this.states.right=!1,this.autoPropagation&&this.usePropagationX&&(this.allowPropagationX=!1)):"y"===o&&(this.indicatorY=!1,this.states.top=!1,this.states.bottom=!1,this.autoPropagation&&this.usePropagationY&&(this.allowPropagationY=!1))):("left"===o||"right"===o?(this.states.left=!1,this.states.right=!1,this.states[o]=!0,this.autoPropagation&&this.usePropagationX&&(this.indicatorX=!0)):("top"===o||"bottom"===o)&&(this.states.top=!1,this.states.bottom=!1,this.states[o]=!0,this.autoPropagation&&this.usePropagationY&&(this.indicatorY=!0)),this.autoPropagation&&"undefined"!=typeof window&&(this.stateTimeout=window.setTimeout(()=>{this.indicatorX=!1,this.indicatorY=!1,this.stateTimeout=null,this.interaction&&(this.states.left||this.states.right)&&(this.allowPropagationX=!0),this.interaction&&(this.states.top||this.states.bottom)&&(this.allowPropagationY=!0),this.cdRef.markForCheck()},500))),this.cdRef.markForCheck(),this.cdRef.detectChanges()}),this.zone.runOutsideAngular(()=>{if(this.directiveRef){const o=this.directiveRef.elementRef.nativeElement;(0,P.R)(o,"wheel").pipe((0,Y.R)(this.ngDestroy)).subscribe(a=>{!this.disabled&&this.autoPropagation&&this.checkPropagation(a,a.deltaX,a.deltaY)}),(0,P.R)(o,"touchmove").pipe((0,Y.R)(this.ngDestroy)).subscribe(a=>{if(!this.disabled&&this.autoPropagation){const w=a.touches[0].clientX,A=a.touches[0].clientY;this.checkPropagation(a,w-this.scrollPositionX,A-this.scrollPositionY),this.scrollPositionX=w,this.scrollPositionY=A}}),(0,D.T)((0,P.R)(o,"ps-scroll-x").pipe((0,T.h)("x")),(0,P.R)(o,"ps-scroll-y").pipe((0,T.h)("y")),(0,P.R)(o,"ps-x-reach-end").pipe((0,T.h)("right")),(0,P.R)(o,"ps-y-reach-end").pipe((0,T.h)("bottom")),(0,P.R)(o,"ps-x-reach-start").pipe((0,T.h)("left")),(0,P.R)(o,"ps-y-reach-start").pipe((0,T.h)("top"))).pipe((0,Y.R)(this.ngDestroy)).subscribe(a=>{!this.disabled&&(this.autoPropagation||this.scrollIndicators)&&this.stateUpdate.next(a)})}}),window.setTimeout(()=>{Vt.forEach(o=>{this.directiveRef&&(this.directiveRef[o]=this[o])})},0))}ngOnDestroy(){(0,l.NF)(this.platformId)&&(this.ngDestroy.next(),this.ngDestroy.unsubscribe(),this.stateTimeout&&"undefined"!=typeof window&&window.clearTimeout(this.stateTimeout))}ngDoCheck(){if((0,l.NF)(this.platformId)&&!this.disabled&&this.autoPropagation&&this.directiveRef){const o=this.directiveRef.elementRef.nativeElement;this.usePropagationX=o.classList.contains("ps--active-x"),this.usePropagationY=o.classList.contains("ps--active-y")}}checkPropagation(o,a,w){this.interaction=!0;const A=a<0?-1:1,k=w<0?-1:1;(this.usePropagationX&&this.usePropagationY||this.usePropagationX&&(!this.allowPropagationX||this.scrollDirectionX!==A)||this.usePropagationY&&(!this.allowPropagationY||this.scrollDirectionY!==k))&&(o.preventDefault(),o.stopPropagation()),a&&(this.scrollDirectionX=A),w&&(this.scrollDirectionY=k),this.stateUpdate.next("interaction"),this.cdRef.detectChanges()}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(t.R0b),t.Y36(t.sBO),t.Y36(t.Lbi))},e.\u0275cmp=t.Xpm({type:e,selectors:[["perfect-scrollbar"]],viewQuery:function(o,a){if(1&o&&t.Gf(Gt,7),2&o){let w;t.iGM(w=t.CRH())&&(a.directiveRef=w.first)}},hostVars:4,hostBindings:function(o,a){2&o&&t.ekj("ps-show-limits",a.autoPropagation)("ps-show-active",a.scrollIndicators)},inputs:{disabled:"disabled",usePSClass:"usePSClass",autoPropagation:"autoPropagation",scrollIndicators:"scrollIndicators",config:"config"},outputs:{psScrollY:"psScrollY",psScrollX:"psScrollX",psScrollUp:"psScrollUp",psScrollDown:"psScrollDown",psScrollLeft:"psScrollLeft",psScrollRight:"psScrollRight",psYReachEnd:"psYReachEnd",psYReachStart:"psYReachStart",psXReachEnd:"psXReachEnd",psXReachStart:"psXReachStart"},exportAs:["ngxPerfectScrollbar"],ngContentSelectors:de,decls:10,vars:5,consts:[[2,"position","static",3,"perfectScrollbar","disabled"],[1,"ps-content"],["class","ps-overlay",3,"ps-at-top","ps-at-left","ps-at-right","ps-at-bottom",4,"ngIf"],[1,"ps-overlay"],[1,"ps-indicator-top"],[1,"ps-indicator-left"],[1,"ps-indicator-right"],[1,"ps-indicator-bottom"]],template:function(o,a){1&o&&(t.F$t(),t.TgZ(0,"div",0),t._uU(1,"\n  "),t.TgZ(2,"div",1),t._uU(3,"\n    "),t.Hsn(4),t._uU(5,"\n  "),t.qZA(),t._uU(6,"\n\n  "),t.YNc(7,ue,10,16,"div",2),t._uU(8,"\n"),t.qZA(),t._uU(9,"\n")),2&o&&(t.ekj("ps",a.usePSClass),t.Q6J("perfectScrollbar",a.config)("disabled",a.disabled),t.xp6(7),t.Q6J("ngIf",a.scrollIndicators))},dependencies:[l.O5,Gt],styles:["perfect-scrollbar{display:block;height:100%;max-height:100%;max-width:100%;overflow:hidden;position:relative;width:100%}perfect-scrollbar[hidden]{display:none}perfect-scrollbar[fxflex]{display:flex;flex-direction:column;height:auto;min-height:0;min-width:0}perfect-scrollbar[fxflex]>.ps{-webkit-box-flex:1;flex:1 1 auto;height:auto;min-height:0;min-width:0;width:auto}perfect-scrollbar[fxlayout]>.ps,perfect-scrollbar[fxlayout]>.ps>.ps-content{-webkit-box-align:inherit;-webkit-box-flex:1;-webkit-box-pack:inherit;align-content:inherit;align-items:inherit;display:flex;flex:1 1 auto;flex-direction:inherit;height:100%;justify-content:inherit;width:100%},perfect-scrollbar[fxlayout=row]>.ps,perfect-scrollbar[fxlayout=row]>.ps>.ps-content{flex-direction:row!important}perfect-scrollbar[fxlayout=column]>.ps,perfect-scrollbar[fxlayout=column]>.ps>.ps-content{flex-direction:column!important}perfect-scrollbar>.ps{display:block;height:100%;max-height:100%;max-width:100%;position:static;width:100%}perfect-scrollbar>.ps textarea{-ms-overflow-style:scrollbar}perfect-scrollbar>.ps>.ps-overlay{bottom:0;display:block;left:0;overflow:hidden;pointer-events:none;position:absolute;right:0;top:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-bottom,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-left,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-right,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-top{opacity:0;position:absolute;transition:opacity .3s ease-in-out}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-bottom,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-top{left:0;min-height:24px;min-width:100%}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-left,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-right{min-height:100%;min-width:24px;top:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-top{top:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-left{left:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-right{right:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-bottom{bottom:0}perfect-scrollbar>.ps.ps--active-y>.ps__rail-y{cursor:default;left:auto!important;right:0!important;top:0!important;transition:width .2s linear,opacity .2s linear,background-color .2s linear;width:10px}perfect-scrollbar>.ps.ps--active-y>.ps__rail-y.ps--clicking,perfect-scrollbar>.ps.ps--active-y>.ps__rail-y:hover{width:15px}perfect-scrollbar>.ps.ps--active-x>.ps__rail-x{bottom:0!important;cursor:default;height:10px;left:0!important;top:auto!important;transition:height .2s linear,opacity .2s linear,background-color .2s linear}perfect-scrollbar>.ps.ps--active-x>.ps__rail-x.ps--clicking,perfect-scrollbar>.ps.ps--active-x>.ps__rail-x:hover{height:15px}perfect-scrollbar>.ps.ps--active-x.ps--active-y>.ps__rail-y{margin:0 0 10px}perfect-scrollbar>.ps.ps--active-x.ps--active-y>.ps__rail-x{margin:0 10px 0 0}perfect-scrollbar>.ps.ps--scrolling-x>.ps__rail-x,perfect-scrollbar>.ps.ps--scrolling-y>.ps__rail-y{background-color:#eee;opacity:.9}perfect-scrollbar.ps-show-always>.ps.ps--active-x>.ps__rail-x,perfect-scrollbar.ps-show-always>.ps.ps--active-y>.ps__rail-y{opacity:.6}perfect-scrollbar.ps-show-active>.ps.ps--active-y>.ps-overlay:not(.ps-at-top) .ps-indicator-top{background:linear-gradient(180deg,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,0));opacity:1}perfect-scrollbar.ps-show-active>.ps.ps--active-y>.ps-overlay:not(.ps-at-bottom) .ps-indicator-bottom{background:linear-gradient(0deg,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,0));opacity:1}perfect-scrollbar.ps-show-active>.ps.ps--active-x>.ps-overlay:not(.ps-at-left) .ps-indicator-left{background:linear-gradient(90deg,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,0));opacity:1}perfect-scrollbar.ps-show-active>.ps.ps--active-x>.ps-overlay:not(.ps-at-right) .ps-indicator-right{background:linear-gradient(270deg,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,0));opacity:1}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-top .ps-indicator-top{background:linear-gradient(180deg,hsla(0,0%,66.7%,.5) 0,hsla(0,0%,66.7%,0))}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-bottom .ps-indicator-bottom{background:linear-gradient(0deg,hsla(0,0%,66.7%,.5) 0,hsla(0,0%,66.7%,0))}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-left .ps-indicator-left{background:linear-gradient(90deg,hsla(0,0%,66.7%,.5) 0,hsla(0,0%,66.7%,0))}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-right .ps-indicator-right{background:linear-gradient(270deg,hsla(0,0%,66.7%,.5) 0,hsla(0,0%,66.7%,0))}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-left .ps-indicator-left.ps-indicator-show,perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-right .ps-indicator-right.ps-indicator-show,perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-bottom .ps-indicator-bottom.ps-indicator-show,perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-top .ps-indicator-top.ps-indicator-show{opacity:1}",".ps{-ms-overflow-style:none;-ms-touch-action:auto;overflow:hidden!important;overflow-anchor:none;touch-action:auto}.ps__rail-x{bottom:0;height:15px}.ps__rail-x,.ps__rail-y{-webkit-transition:background-color .2s linear,opacity .2s linear;display:none;opacity:0;position:absolute;transition:background-color .2s linear,opacity .2s linear}.ps__rail-y{right:0;width:15px}.ps--active-x>.ps__rail-x,.ps--active-y>.ps__rail-y{background-color:transparent;display:block}.ps--focus>.ps__rail-x,.ps--focus>.ps__rail-y,.ps--scrolling-x>.ps__rail-x,.ps--scrolling-y>.ps__rail-y,.ps:hover>.ps__rail-x,.ps:hover>.ps__rail-y{opacity:.6}.ps .ps__rail-x.ps--clicking,.ps .ps__rail-x:focus,.ps .ps__rail-x:hover,.ps .ps__rail-y.ps--clicking,.ps .ps__rail-y:focus,.ps .ps__rail-y:hover{background-color:#eee;opacity:.9}.ps__thumb-x{-webkit-transition:background-color .2s linear,height .2s ease-in-out;bottom:2px;height:6px;transition:background-color .2s linear,height .2s ease-in-out}.ps__thumb-x,.ps__thumb-y{background-color:#aaa;border-radius:6px;position:absolute}.ps__thumb-y{-webkit-transition:background-color .2s linear,width .2s ease-in-out;right:2px;transition:background-color .2s linear,width .2s ease-in-out;width:6px}.ps__rail-x.ps--clicking .ps__thumb-x,.ps__rail-x:focus>.ps__thumb-x,.ps__rail-x:hover>.ps__thumb-x{background-color:#999;height:11px}.ps__rail-y.ps--clicking .ps__thumb-y,.ps__rail-y:focus>.ps__thumb-y,.ps__rail-y:hover>.ps__thumb-y{background-color:#999;width:11px}@supports (-ms-overflow-style:none){.ps{overflow:auto!important}}@media (-ms-high-contrast:none),screen and (-ms-high-contrast:active){.ps{overflow:auto!important}}"],encapsulation:2}),e})(),me=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[l.ez,l.ez]}),e})();var ge=B(4e3),$t=B(27633),Tt=B(88648);function te(e,i){const o=/(\d+)|(\D+)/g,a=/\d+/,A=i.value,k=String(e.value).match(o),E=String(A).match(o);for(;k.length&&E.length;){const N=k.shift(),X=E.shift();if(a.test(N)||a.test(X)){if(!a.test(N))return-1;if(!a.test(X))return 1;if(N!==X)return Number(X)-Number(N)}else if(N!==X)return X.localeCompare(N)}return E.length-k.length}var Et=B(5830),nt=B(27232),qt=B(22290);new Tt.Yd("ReqNetworkInterComponent");let ye=(()=>{class e{constructor(o,a,w){this.apiService=o,this.toastr=a,this.translate=w}ngOnInit(){}reqInter(){this.apiService.getReqInter().subscribe(o=>{this.toastr.success(this.translate.instant("api.global.succes.scanlaunched.notify"))})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(Et.s),t.Y36(qt._W),t.Y36(nt.sK))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-req-network-inter"]],decls:28,vars:3,consts:[[1,"ml-3","card"],["translate","network.inter.req.header",1,"card-header"],[1,"card-body"],[1,"card-title",3,"innerHTML"],[1,"card-text"],[1,"vertical-container"],[1,"content-container"],[1,"scroll-container"],[1,"scrollable-content"],["translate","network.inter.req.button",1,"btn","btn-light",3,"click"]],template:function(o,a){1&o&&(t.TgZ(0,"div",0),t._uU(1,"\n  "),t._UZ(2,"div",1),t._uU(3,"\n  "),t.TgZ(4,"div",2),t._uU(5,"\n    "),t._UZ(6,"h5",3),t.ALo(7,"translate"),t._uU(8,"\n    "),t.TgZ(9,"div",4),t._uU(10,"\n      "),t.TgZ(11,"div",5),t._uU(12,"\n        "),t.TgZ(13,"div",6),t._uU(14,"\n          "),t.TgZ(15,"perfect-scrollbar",7),t._uU(16,"\n            "),t.TgZ(17,"div",8),t._uU(18,"\n              "),t.TgZ(19,"button",9),t.NdJ("click",function(){return a.reqInter()}),t.qZA(),t._uU(20,"\n            "),t.qZA(),t._uU(21,"\n          "),t.qZA(),t._uU(22,"\n        "),t.qZA(),t._uU(23,"\n      "),t.qZA(),t._uU(24,"\n    "),t.qZA(),t._uU(25,"\n  "),t.qZA(),t._uU(26,"\n"),t.qZA(),t._uU(27,"\n")),2&o&&(t.xp6(6),t.Q6J("innerHTML",t.lcZ(7,1,"network.inter.req.subtitle"),t.oJD))},dependencies:[nt.Pi,Rt,nt.X$]}),e})();var ee=B(93470),oe=B(22995);function be(e,i){if(1&e&&(t.TgZ(0,"div",4),t._uU(1,"\n      "),t._UZ(2,"div",5),t._uU(3,"\n      "),t.TgZ(4,"div",6),t._uU(5,"\n        "),t._UZ(6,"h5",7),t.ALo(7,"translate"),t._uU(8,"\n        "),t.TgZ(9,"div",8),t._uU(10,"\n          "),t._UZ(11,"div",9),t._uU(12,"\n        "),t.qZA(),t._uU(13,"\n      "),t.qZA(),t._uU(14,"\n    "),t.qZA()),2&e){const o=t.oxw();t.xp6(6),t.Q6J("innerHTML",t.lcZ(7,2,"network.stats.detail.visu.subtitle"),t.oJD),t.xp6(5),t.Q6J("chart",o.chart)}}function _e(e,i){if(1&e&&(t.TgZ(0,"div",4),t._uU(1,"\n      "),t._UZ(2,"div",5),t._uU(3,"\n      "),t.TgZ(4,"div",6),t._uU(5,"\n        "),t._UZ(6,"h5",7),t.ALo(7,"translate"),t._uU(8,"\n        "),t.TgZ(9,"div",8),t._uU(10,"\n          "),t._UZ(11,"div",10),t._uU(12,"\n        "),t.qZA(),t._uU(13,"\n      "),t.qZA(),t._uU(14,"\n    "),t.qZA()),2&e){const o=t.oxw();t.xp6(6),t.Q6J("innerHTML",t.lcZ(7,2,"network.stats.detail.visu.subtitle"),t.oJD),t.xp6(5),t.Q6J("chart",o.chart2)}}new Tt.Yd("DetailTopologyComponent");let we=(()=>{class e extends oe.n{constructor(o,a){super(),this.apiService=o,this.translate=a}ngOnInit(){this.devices$=this.apiService.getDevices()}ngOnChanges(o){o.timeStamp.currentValue!==o.timeStamp.previousValue&&this.apiService.getNwkStatsByTimeStamp(this.timeStamp).subscribe(a=>{this.createChart(a),this.createChart2(a)})}createChart(o){const a=[],w=[],A=[],k=[];o.forEach(X=>{const z=X.Channels;z.sort((G,at)=>Number(G.Channel)-Number(at.Channel)),X.Channels=z}),o[0].Channels.forEach(X=>{w.push(X.Channel)}),o.forEach(X=>{const z=[];let G=0;X.Channels.forEach(at=>{z.push(at.Level),k[G]=k[G]?Number(k[G])+Number(at.Level):Number(at.Level),G++}),a.push({name:X.ZDeviceName?X.ZDeviceName:X._NwkId,data:z})}),k.forEach(X=>{X/=o.length,X=Number(X).toFixed(2),A.push(Number(X))});const E=a;E.push({name:"Average",data:A,type:"spline",marker:{lineWidth:2,lineColor:ee.getOptions().colors[3],fillColor:"white"}});const N=new et.kL({chart:{type:"column",height:"20%"},title:{text:this.translate.instant("network.stats.detail.visu.chart.title")},xAxis:{categories:w},yAxis:{title:{text:this.translate.instant("network.stats.detail.visu.chart.y-axis")}},credits:{enabled:!1},series:E});this.chart=N,this.subs.add(N.ref$.subscribe())}createChart2(o){const a=[],w=[];o.forEach(k=>{const E=k.Channels;E.sort((N,X)=>Number(N.Channel)-Number(X.Channel)),k.Channels=E}),o[0].Channels.forEach(k=>{w.push(k.Channel)}),o.forEach(k=>{const E=[];k.Channels.forEach(N=>{E.push(N.Level)}),a.push({name:k.ZDeviceName?k.ZDeviceName:k._NwkId,data:E,pointPlacement:"on"})});const A=new et.kL({chart:{height:"90%",polar:!0,type:"line"},pane:{},title:{text:this.translate.instant("network.stats.detail.visu.chart.title")},xAxis:{categories:w,tickmarkPlacement:"on",lineWidth:0},yAxis:{gridLineInterpolation:"polygon",lineWidth:0,min:0},tooltip:{shared:!0,pointFormat:'<span style="color:{series.color}">{series.name}: <b>{point.y:,.0f}</b><br/>'},legend:{align:"left",verticalAlign:"bottom"},credits:{enabled:!1},series:a,responsive:{rules:[{condition:{maxWidth:600},chartOptions:{legend:{align:"center",verticalAlign:"bottom"},pane:{size:"80%"}}}]}});this.chart2=A,this.subs.add(A.ref$.subscribe())}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(Et.s),t.Y36(nt.sK))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-detail-nwk-stat"]],inputs:{timeStamp:"timeStamp"},features:[t.qOj,t.TTD],decls:16,vars:2,consts:[[1,"mt-3","row"],[1,"col-sm"],["class","card",4,"ngIf"],[1,"col-sm-6"],[1,"card"],["translate","network.stats.detail.visu.header",1,"card-header"],[1,"card-body"],[1,"card-title",3,"innerHTML"],[1,"card-text"],[1,"text-center",3,"chart"],[3,"chart"]],template:function(o,a){1&o&&(t.TgZ(0,"div",0),t._uU(1,"\n  "),t.TgZ(2,"div",1),t._uU(3,"\n    "),t.YNc(4,be,15,4,"div",2),t._uU(5,"\n  "),t.qZA(),t._uU(6,"\n"),t.qZA(),t._uU(7,"\n\n"),t.TgZ(8,"div",0),t._uU(9,"\n  "),t.TgZ(10,"div",3),t._uU(11,"\n    "),t.YNc(12,_e,15,4,"div",2),t._uU(13,"\n  "),t.qZA(),t._uU(14,"\n"),t.qZA(),t._uU(15,"\n")),2&o&&(t.xp6(4),t.Q6J("ngIf",a.chart),t.xp6(8),t.Q6J("ngIf",a.chart2))},dependencies:[l.O5,nt.Pi,et.Dm,nt.X$]}),e})();new Tt.Yd("ReqNetworkInterComponent");let Se=(()=>{class e{constructor(o,a,w){this.apiService=o,this.toastr=a,this.translate=w}ngOnInit(){}reqFull(){this.apiService.getNwkFull().subscribe(o=>{this.toastr.success(this.translate.instant("api.global.succes.scanlaunched.notify"))})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(Et.s),t.Y36(qt._W),t.Y36(nt.sK))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-req-network-full"]],decls:28,vars:3,consts:[[1,"ml-3","card"],["translate","network.full.req.header",1,"card-header"],[1,"card-body"],[1,"card-title",3,"innerHTML"],[1,"card-text"],[1,"vertical-container"],[1,"content-container"],[1,"scroll-container"],[1,"scrollable-content"],["translate","network.full.req.button",1,"btn","btn-light",3,"click"]],template:function(o,a){1&o&&(t.TgZ(0,"div",0),t._uU(1,"\n  "),t._UZ(2,"div",1),t._uU(3,"\n  "),t.TgZ(4,"div",2),t._uU(5,"\n    "),t._UZ(6,"h5",3),t.ALo(7,"translate"),t._uU(8,"\n    "),t.TgZ(9,"div",4),t._uU(10,"\n      "),t.TgZ(11,"div",5),t._uU(12,"\n        "),t.TgZ(13,"div",6),t._uU(14,"\n          "),t.TgZ(15,"perfect-scrollbar",7),t._uU(16,"\n            "),t.TgZ(17,"div",8),t._uU(18,"\n              "),t.TgZ(19,"button",9),t.NdJ("click",function(){return a.reqFull()}),t.qZA(),t._uU(20,"\n            "),t.qZA(),t._uU(21,"\n          "),t.qZA(),t._uU(22,"\n        "),t.qZA(),t._uU(23,"\n      "),t.qZA(),t._uU(24,"\n    "),t.qZA(),t._uU(25,"\n  "),t.qZA(),t._uU(26,"\n"),t.qZA(),t._uU(27,"\n")),2&o&&(t.xp6(6),t.Q6J("innerHTML",t.lcZ(7,1,"network.full.req.subtitle"),t.oJD))},dependencies:[nt.Pi,Rt,nt.X$]}),e})();function xe(e,i){if(1&e){const o=t.EpF();t.TgZ(0,"span",14),t._uU(1,"\n                    "),t.TgZ(2,"div",15),t._uU(3,"\n                      "),t.TgZ(4,"button",16),t.NdJ("click",function(){const A=t.CHM(o).$implicit,k=t.oxw(2);return t.KtG(k.nwkStatByDate(A.value))}),t._uU(5),t.ALo(6,"date"),t.qZA(),t._uU(7,"\n                    "),t.qZA(),t._uU(8,"\n                    "),t.TgZ(9,"div",1),t._uU(10,"\n                      "),t.TgZ(11,"button",17),t.NdJ("click",function(){const A=t.CHM(o).$implicit,k=t.oxw(2);return t.KtG(k.deleteNwkStatByDate(A.value))}),t.ALo(12,"translate"),t._uU(13,"\n                        "),t._UZ(14,"i",18),t._uU(15,"\n                      "),t.qZA(),t._uU(16,"\n                    "),t.qZA(),t._uU(17,"\n                  "),t.qZA()}if(2&e){const o=i.$implicit;t.xp6(5),t.hij("\n                        ",t.xi3(6,2,1e3*o.value,"dd/MM/yyyy HH:mm:ss"),"\n                      "),t.xp6(6),t.s9C("title",t.lcZ(12,5,"network.stats.visu.delete.button"))}}function Te(e,i){if(1&e&&(t.TgZ(0,"div",4),t._uU(1,"\n      "),t._UZ(2,"div",5),t._uU(3,"\n      "),t.TgZ(4,"div",6),t._uU(5,"\n        "),t._UZ(6,"h5",7),t.ALo(7,"translate"),t._uU(8,"\n        "),t.TgZ(9,"div",8),t._uU(10,"\n          "),t.TgZ(11,"div",9),t._uU(12,"\n            "),t.TgZ(13,"div",10),t._uU(14,"\n              "),t.TgZ(15,"perfect-scrollbar",11),t._uU(16,"\n                "),t.TgZ(17,"div",12),t._uU(18,"\n                  "),t.YNc(19,xe,18,7,"span",13),t.ALo(20,"keyvalue"),t._uU(21,"\n                "),t.qZA(),t._uU(22,"\n              "),t.qZA(),t._uU(23,"\n            "),t.qZA(),t._uU(24,"\n          "),t.qZA(),t._uU(25,"\n        "),t.qZA(),t._uU(26,"\n      "),t.qZA(),t._uU(27,"\n    "),t.qZA()),2&e){const o=i.ngIf,a=t.oxw();t.xp6(6),t.Q6J("innerHTML",t.lcZ(7,2,"network.stats.subtitle"),t.oJD),t.xp6(13),t.Q6J("ngForOf",t.xi3(20,4,o,a.sortDesc))}}function ke(e,i){if(1&e&&(t.TgZ(0,"div"),t._UZ(1,"app-detail-nwk-stat",19),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.Q6J("timeStamp",o.timeStamp)}}new Tt.Yd("NwkStatsComponent");let Ce=(()=>{class e{constructor(o,a){this.apiService=o,this.cdr=a,this.listSubject$=new M.x}ngOnInit(){this.stats$=this.apiService.getNwkStats()}sortDesc(o,a){return te(o,a)}nwkStatByDate(o){this.timeStamp=o}deleteNwkStatByDate(o){this.apiService.deleteNwkStatsByTimeStamp(o).subscribe(a=>{this.stats$=this.apiService.getNwkStats(),this.cdr.detectChanges()})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(Et.s),t.Y36(t.sBO))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-nwk-stats"]],decls:17,vars:4,consts:[[1,"row"],[1,"col-sm-3"],["class","card",4,"ngIf"],[4,"ngIf"],[1,"card"],["translate","network.stats.header",1,"card-header"],[1,"card-body"],[1,"card-title",3,"innerHTML"],[1,"card-text"],[1,"vertical-container"],[1,"content-container"],[1,"scroll-container"],[1,"scrollable-content"],["class","row d-flex align-items-center",4,"ngFor","ngForOf"],[1,"row","d-flex","align-items-center"],[1,"col-sm-9"],[1,"btn","btn-light",3,"click"],[1,"btn","btn-light",3,"title","click"],[1,"fa","fa-trash"],[3,"timeStamp"]],template:function(o,a){1&o&&(t.TgZ(0,"div",0),t._uU(1,"\n  "),t.TgZ(2,"div",1),t._uU(3,"\n    "),t.YNc(4,Te,28,7,"div",2),t.ALo(5,"async"),t._uU(6,"\n  "),t.qZA(),t._uU(7,"\n  "),t.TgZ(8,"div",1),t._UZ(9,"app-req-network-inter"),t.qZA(),t._uU(10,"\n  "),t.TgZ(11,"div",1),t._UZ(12,"app-req-network-full"),t.qZA(),t._uU(13,"\n"),t.qZA(),t._uU(14,"\n"),t.YNc(15,ke,2,1,"div",3),t._uU(16,"\n")),2&o&&(t.xp6(4),t.Q6J("ngIf",t.lcZ(5,2,a.stats$)),t.xp6(11),t.Q6J("ngIf",a.timeStamp))},dependencies:[l.sg,l.O5,nt.Pi,Rt,ye,we,Se,l.Ov,l.uU,l.Nd,nt.X$],styles:[".content-container[_ngcontent-%COMP%]{position:relative;overflow:auto;height:150px;min-height:0}.content-container[_ngcontent-%COMP%]{position:relative;min-height:0}.vertical-container[_ngcontent-%COMP%], .horizontal-container[_ngcontent-%COMP%]{min-height:0!important}.scroll-container[_ngcontent-%COMP%]{position:relative}.scrollable-content[_ngcontent-%COMP%]{padding:16px;margin:0}"]}),e})();var At=B(93075),ie=B(94076),Bt=B(14668),Le=B(80399);function Ne(e,i){if(1&e&&(t.TgZ(0,"div",5),t._uU(1,"\n            "),t._UZ(2,"div",6),t._uU(3,"\n            "),t.TgZ(4,"div",7),t._uU(5,"\n              "),t._UZ(6,"h5",8),t.ALo(7,"translate"),t._uU(8,"\n              "),t._UZ(9,"div",9),t._uU(10,"\n            "),t.qZA(),t._uU(11,"\n          "),t.qZA()),2&e){const o=t.oxw();t.xp6(6),t.Q6J("innerHTML",t.lcZ(7,2,"network.topo.visu.subtitle"),t.oJD),t.xp6(3),t.Q6J("chart",o.chart1)}}function Pe(e,i){if(1&e&&(t._uU(0,"\n                        "),t.TgZ(1,"span",18),t._uU(2,"\n                          "),t.TgZ(3,"b"),t._uU(4,"Name"),t.qZA(),t._uU(5),t.TgZ(6,"b"),t._uU(7,"IEEE"),t.qZA(),t._uU(8),t.TgZ(9,"b"),t._uU(10,"Model"),t.qZA(),t._uU(11),t.qZA(),t._uU(12,"\n                      ")),2&e){const o=i.item,a=i.searchTerm;t.xp6(1),t.Q6J("ngOptionHighlight",a),t.xp6(4),t.hij(" : ",o.ZDeviceName," - "),t.xp6(3),t.hij(" : ",o.IEEE," - "),t.xp6(3),t.hij(" :\n                          ",o.Model,"\n                        ")}}function Ee(e,i){1&e&&t._uU(0),2&e&&t.hij("\n                                ",i.row.to,"\n                              ")}function Ae(e,i){1&e&&t._uU(0),2&e&&t.hij("\n                                ",i.row.weight,"\n                              ")}function Ye(e,i){1&e&&t._uU(0),2&e&&t.hij("\n                                ",i.row.Model,"\n                              ")}function Ue(e,i){1&e&&t._uU(0),2&e&&t.hij("\n                                ",i.row.Status,"\n                              ")}function Me(e,i){1&e&&t._uU(0),2&e&&t.hij("\n                                ",i.row.Health,"\n                              ")}function Ze(e,i){1&e&&t._uU(0),2&e&&t.hij("\n                                ",i.row.Battery,"\n                              ")}const De=function(e){return{deviceSelected:e}},Re=function(){return{prop:"to",dir:"asc"}},Oe=function(e){return[e]},Xe=function(e,i,o){return{emptyMessage:e,totalMessage:i,selectedMessage:o}};function Fe(e,i){if(1&e&&(t.TgZ(0,"div",1),t._uU(1,"\n                  "),t.TgZ(2,"div",3),t._uU(3,"\n                    "),t.TgZ(4,"div",5),t._uU(5,"\n                      "),t._UZ(6,"div",19),t._uU(7,"\n                      "),t.TgZ(8,"div",7),t._uU(9,"\n                        "),t._UZ(10,"h5",8),t.ALo(11,"translate"),t._uU(12,"\n                        "),t.TgZ(13,"div",11),t._uU(14,"\n                          "),t.TgZ(15,"ngx-datatable",20),t.ALo(16,"translate"),t.ALo(17,"translate"),t.ALo(18,"translate"),t._uU(19,"\n                            "),t.TgZ(20,"ngx-datatable-column",21),t.ALo(21,"translate"),t._uU(22,"\n                              "),t.YNc(23,Ee,1,1,"ng-template",22),t._uU(24,"\n                            "),t.qZA(),t._uU(25,"\n                            "),t.TgZ(26,"ngx-datatable-column",23),t.ALo(27,"translate"),t._uU(28,"\n                              "),t.YNc(29,Ae,1,1,"ng-template",22),t._uU(30,"\n                            "),t.qZA(),t._uU(31,"\n                            "),t.TgZ(32,"ngx-datatable-column",24),t.ALo(33,"translate"),t._uU(34,"\n                              "),t.YNc(35,Ye,1,1,"ng-template",22),t._uU(36,"\n                            "),t.qZA(),t._uU(37,"\n                            "),t.TgZ(38,"ngx-datatable-column",25),t.ALo(39,"translate"),t._uU(40,"\n                              "),t.YNc(41,Ue,1,1,"ng-template",22),t._uU(42,"\n                            "),t.qZA(),t._uU(43,"\n                            "),t.TgZ(44,"ngx-datatable-column",26),t.ALo(45,"translate"),t._uU(46,"\n                              "),t.YNc(47,Me,1,1,"ng-template",22),t._uU(48,"\n                            "),t.qZA(),t._uU(49,"\n                            "),t.TgZ(50,"ngx-datatable-column",27),t.ALo(51,"translate"),t._uU(52,"\n                              "),t.YNc(53,Ze,1,1,"ng-template",22),t._uU(54,"\n                            "),t.qZA(),t._uU(55,"\n                          "),t.qZA(),t._uU(56,"\n                        "),t.qZA(),t._uU(57,"\n                      "),t.qZA(),t._uU(58,"\n                    "),t.qZA(),t._uU(59,"\n                  "),t.qZA(),t._uU(60,"\n                "),t.qZA()),2&e){const o=t.oxw(2);t.xp6(6),t.Q6J("translateParams",t.VKq(38,De,o.selectedPoint.name)),t.xp6(4),t.Q6J("innerHTML",t.lcZ(11,18,"network.topo.visu.network.relation.subtitle"),t.oJD),t.xp6(5),t.Q6J("rows",o.relationsSelected)("columnMode","force")("footerHeight","auto")("limit",10)("rowHeight","auto")("sorts",t.VKq(41,Oe,t.DdM(40,Re)))("messages",t.kEZ(43,Xe,t.lcZ(16,20,"network.topo.visu.network.relation.nochild"),t.lcZ(17,22,"TOTAL"),t.lcZ(18,24,"SELECTED"))),t.xp6(5),t.s9C("name",t.lcZ(21,26,"network.topo.visu.network.relation.to")),t.xp6(6),t.s9C("name",t.lcZ(27,28,"network.topo.visu.network.relation.weight")),t.Q6J("maxWidth",50),t.xp6(6),t.s9C("name",t.lcZ(33,30,"network.topo.visu.network.relation.model")),t.xp6(6),t.s9C("name",t.lcZ(39,32,"network.topo.visu.network.relation.status")),t.Q6J("maxWidth",100),t.xp6(6),t.s9C("name",t.lcZ(45,34,"network.topo.visu.network.relation.health")),t.xp6(6),t.s9C("name",t.lcZ(51,36,"network.topo.visu.network.relation.battery")),t.Q6J("maxWidth",100)}}function Ie(e,i){if(1&e&&(t.TgZ(0,"div",5),t._uU(1,"\n            "),t._UZ(2,"div",10),t._uU(3,"\n            "),t.TgZ(4,"div",7),t._uU(5,"\n              "),t._UZ(6,"h5",8),t.ALo(7,"translate"),t._uU(8,"\n              "),t.TgZ(9,"div",11),t._uU(10,"\n                "),t.TgZ(11,"div"),t._uU(12,"\n                  "),t.TgZ(13,"form",12),t._uU(14,"\n                    "),t._UZ(15,"input",13),t._uU(16,"\n                    "),t.TgZ(17,"ng-select",14),t.ALo(18,"translate"),t._uU(19,"\n                      "),t.YNc(20,Pe,13,4,"ng-template",15),t._uU(21,"\n                    "),t.qZA(),t._uU(22,"\n                  "),t.qZA(),t._uU(23,"\n                "),t.qZA(),t._uU(24,"\n                "),t._UZ(25,"div",16),t._uU(26,"\n                "),t.YNc(27,Fe,61,47,"div",17),t._uU(28,"\n              "),t.qZA(),t._uU(29,"\n            "),t.qZA(),t._uU(30,"\n          "),t.qZA()),2&e){const o=t.oxw();t.xp6(6),t.Q6J("innerHTML",t.lcZ(7,9,"network.topo.visu.network.subtitle"),t.oJD),t.xp6(7),t.Q6J("formGroup",o.form),t.xp6(4),t.s9C("placeholder",t.lcZ(18,11,"network.topo.visu.network.filter")),t.Q6J("items",o.devices)("multiple",!1)("closeOnSelect",!0)("searchable",!0),t.xp6(8),t.Q6J("chart",o.chart2),t.xp6(2),t.Q6J("ngIf",o.relationsSelected)}}new Tt.Yd("DetailTopologyComponent");let We=(()=>{class e extends oe.n{constructor(o,a,w){super(),this.apiService=o,this.translate=a,this.formBuilder=w,this.showDetail=!1}ngOnInit(){this.form=this.formBuilder.group({nodeToFilter:[null],detail:[null]}),this.apiService.getZDeviceName().subscribe(o=>{this.devices=o,this.devices.unshift({IEEE:"",MacCapa:[""],Model:"",Health:"",Status:"",WidgetList:[""],ZDeviceName:"Zigbee Coordinator",_NwkId:""})}),this.subs.sink=this.form.get("nodeToFilter").valueChanges.subscribe(o=>{this.createChart2(o)}),this.subs.add(this.form.get("detail").valueChanges.subscribe(o=>{let a=[];this.selectedPoint=this.chart2.ref.hoverPoint,this.selectedPoint.linksFrom.map(k=>k.options).map(k=>{const E=this.devices.find(N=>N.ZDeviceName===k.to||N._NwkId===k.to);a.push({to:k.to,from:k.from,weight:k.weight,Model:E.Model,Status:E.Status,Health:E.Health,Battery:E.Battery})}),this.selectedPoint.linksTo.map(k=>k.options).map(k=>{if(!a.some(E=>E.to===k.from)){const E=this.devices.find(N=>N.ZDeviceName===k.from||N._NwkId===k.from);a.push({to:k.from,from:k.from,weight:E.LQI,Model:E.Model,Status:E.Status,Health:E.Health,Battery:E.Battery})}}),this.relationsSelected=a}))}ngOnChanges(o){o.timeStamp.currentValue!==o.timeStamp.previousValue&&this.apiService.getTopologieByTimeStamp(this.timeStamp).subscribe(a=>{this.datas=a,this.createChart1(),this.createChart2()})}createChart1(){const o=this.datas.map(w=>{const A=Object.values(w);return A.splice(1,1),A}),a=new et.kL({chart:{type:"dependencywheel",height:"80%"},title:{text:this.translate.instant("network.topo.device.visu.chart.title")},credits:{enabled:!1},series:[{type:void 0,keys:["to","from","weight"],data:o}]});this.chart1=a}createChart2(o){let w=this.datas.map(E=>{const N=Object.values(E);return N.splice(1,1),N});o&&(w=w.filter(E=>E[0].toLowerCase()===o.toLowerCase()||E[1].toLowerCase()===o.toLowerCase()));const A=[{nodes:void 0,type:void 0,keys:["to","from","weight"],dataLabels:{enabled:!0,linkFormat:""},data:w}];this.test(A);const k=new et.kL({chart:{type:"networkgraph",height:"80%"},title:{text:this.translate.instant("network.topo.device.visu.network.chart.title")},credits:{enabled:!1},plotOptions:{networkgraph:{keys:["to","from","weight"],layoutAlgorithm:{enableSimulation:!0,integration:"verlet"}},series:{point:{events:{click:function(){document.getElementById("detail").dispatchEvent(new Event("input",{bubbles:!0}))}}}}},series:A});this.chart2=k}test(o){const a=ee.getOptions().colors;let w=0;const A={"Zigbee Coordinator":{id:"Zigbee Coordinator",marker:{radius:20}}},k=this.datas.filter(N=>"Zigbee Coordinator"===N.Child);let E=[];k.forEach(N=>{A[N.Father]={id:N.Father,marker:{radius:10},color:a[w++]},E.push(N.Father)}),this.colorNode(A,E),o[0].nodes=Object.keys(A).map(function(N){return A[N]})}colorNode(o,a){a.forEach(w=>{let A=[];this.datas.filter(E=>E.Child===w).forEach(E=>{o[E.Father]||(o[E.Father]={id:E.Father,color:o[E.Child].color},A.push(E.Father))}),A.length>0&&this.colorNode(o,A)})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(Et.s),t.Y36(nt.sK),t.Y36(At.qu))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-detail-topology"]],inputs:{timeStamp:"timeStamp"},features:[t.qOj,t.TTD],decls:28,vars:2,consts:[[1,"mt-3"],[1,"row"],[1,"col-sm-6"],[1,"col"],["class","card",4,"ngIf"],[1,"card"],["translate","network.topo.visu.header",1,"card-header"],[1,"card-body"],[1,"card-title",3,"innerHTML"],[1,"card-text",3,"chart"],["translate","network.topo.visu.network.header",1,"card-header"],[1,"card-text"],[3,"formGroup"],["type","hidden","formControlName","detail","id","detail"],["bindLabel","ZDeviceName","bindValue","ZDeviceName","appendTo","body","formControlName","nodeToFilter",3,"items","multiple","closeOnSelect","searchable","placeholder"],["ng-option-tmp",""],[3,"chart"],["class","row",4,"ngIf"],[3,"ngOptionHighlight"],["translate","network.topo.visu.network.relation.header",1,"card-header",3,"translateParams"],[1,"bootstrap",3,"rows","columnMode","footerHeight","limit","rowHeight","sorts","messages"],["prop","to",3,"name"],["ngx-datatable-cell-template",""],["prop","weight",3,"name","maxWidth"],["prop","Model",3,"name"],["prop","Status",3,"name","maxWidth"],["prop","Health",3,"name"],["prop","Battery",3,"name","maxWidth"]],template:function(o,a){1&o&&(t.TgZ(0,"div",0),t._uU(1,"\n  "),t.TgZ(2,"div",1),t._uU(3,"\n    "),t.TgZ(4,"div",2),t._uU(5,"\n      "),t.TgZ(6,"div",1),t._uU(7,"\n        "),t.TgZ(8,"div",3),t._uU(9,"\n          "),t.YNc(10,Ne,12,4,"div",4),t._uU(11,"\n        "),t.qZA(),t._uU(12,"\n      "),t.qZA(),t._uU(13,"\n    "),t.qZA(),t._uU(14,"\n    "),t.TgZ(15,"div",2),t._uU(16,"\n      "),t.TgZ(17,"div",1),t._uU(18,"\n        "),t.TgZ(19,"div",3),t._uU(20,"\n          "),t.YNc(21,Ie,31,13,"div",4),t._uU(22,"\n        "),t.qZA(),t._uU(23,"\n      "),t.qZA(),t._uU(24,"\n    "),t.qZA(),t._uU(25,"\n  "),t.qZA(),t._uU(26,"\n"),t.qZA(),t._uU(27,"\n")),2&o&&(t.xp6(10),t.Q6J("ngIf",a.chart1),t.xp6(11),t.Q6J("ngIf",a.chart2))},dependencies:[l.O5,At._Y,At.Fj,At.JJ,At.JL,At.sg,At.u,ie.w9,ie.ir,nt.Pi,Bt.nE,Bt.UC,Bt.vq,Le.s,et.Dm,nt.X$]}),e})();new Tt.Yd("ReqTopologyComponent");let je=(()=>{class e{constructor(o,a,w){this.apiService=o,this.toastr=a,this.translate=w}ngOnInit(){}reqTopology(){this.apiService.getReqTopologie().subscribe(o=>{this.toastr.success(this.translate.instant("api.global.succes.scanlaunched.notify"))})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(Et.s),t.Y36(qt._W),t.Y36(nt.sK))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-req-topology"]],decls:28,vars:3,consts:[[1,"ml-3","card"],["translate","network.topology.req.header",1,"card-header"],[1,"card-body"],[1,"card-title",3,"innerHTML"],[1,"card-text"],[1,"vertical-container"],[1,"content-container"],[1,"scroll-container"],[1,"scrollable-content"],["translate","network.topology.req.button",1,"btn","btn-light",3,"click"]],template:function(o,a){1&o&&(t.TgZ(0,"div",0),t._uU(1,"\n  "),t._UZ(2,"div",1),t._uU(3,"\n  "),t.TgZ(4,"div",2),t._uU(5,"\n    "),t._UZ(6,"h5",3),t.ALo(7,"translate"),t._uU(8,"\n    "),t.TgZ(9,"div",4),t._uU(10,"\n      "),t.TgZ(11,"div",5),t._uU(12,"\n        "),t.TgZ(13,"div",6),t._uU(14,"\n          "),t.TgZ(15,"perfect-scrollbar",7),t._uU(16,"\n            "),t.TgZ(17,"div",8),t._uU(18,"\n              "),t.TgZ(19,"button",9),t.NdJ("click",function(){return a.reqTopology()}),t.qZA(),t._uU(20,"\n            "),t.qZA(),t._uU(21,"\n          "),t.qZA(),t._uU(22,"\n        "),t.qZA(),t._uU(23,"\n      "),t.qZA(),t._uU(24,"\n    "),t.qZA(),t._uU(25,"\n  "),t.qZA(),t._uU(26,"\n"),t.qZA(),t._uU(27,"\n")),2&o&&(t.xp6(6),t.Q6J("innerHTML",t.lcZ(7,1,"network.topology.req.subtitle"),t.oJD))},dependencies:[nt.Pi,Rt,nt.X$]}),e})();function He(e,i){if(1&e){const o=t.EpF();t.TgZ(0,"span",14),t._uU(1,"\n                    "),t.TgZ(2,"div",15),t._uU(3,"\n                      "),t.TgZ(4,"button",16),t.NdJ("click",function(){const A=t.CHM(o).$implicit,k=t.oxw(2);return t.KtG(k.topologyByDate(A.value))}),t._uU(5),t.ALo(6,"date"),t.qZA(),t._uU(7,"\n                    "),t.qZA(),t._uU(8,"\n                    "),t.TgZ(9,"div",1),t._uU(10,"\n                      "),t.TgZ(11,"button",17),t.NdJ("click",function(){const A=t.CHM(o).$implicit,k=t.oxw(2);return t.KtG(k.deleteTopologyByDate(A.value))}),t.ALo(12,"translate"),t._uU(13,"\n                        "),t._UZ(14,"i",18),t._uU(15,"\n                      "),t.qZA(),t._uU(16,"\n                    "),t.qZA(),t._uU(17,"\n                  "),t.qZA()}if(2&e){const o=i.$implicit;t.xp6(5),t.hij("\n                        ",t.xi3(6,2,1e3*o.value,"dd/MM/yyyy HH:mm:ss"),"\n                      "),t.xp6(6),t.s9C("title",t.lcZ(12,5,"network.topo.visu.delete.button"))}}function qe(e,i){if(1&e&&(t.TgZ(0,"div",4),t._uU(1,"\n      "),t._UZ(2,"div",5),t._uU(3,"\n      "),t.TgZ(4,"div",6),t._uU(5,"\n        "),t._UZ(6,"h5",7),t.ALo(7,"translate"),t._uU(8,"\n        "),t.TgZ(9,"div",8),t._uU(10,"\n          "),t.TgZ(11,"div",9),t._uU(12,"\n            "),t.TgZ(13,"div",10),t._uU(14,"\n              "),t.TgZ(15,"perfect-scrollbar",11),t._uU(16,"\n                "),t.TgZ(17,"div",12),t._uU(18,"\n                  "),t.YNc(19,He,18,7,"span",13),t.ALo(20,"keyvalue"),t._uU(21,"\n                "),t.qZA(),t._uU(22,"\n              "),t.qZA(),t._uU(23,"\n            "),t.qZA(),t._uU(24,"\n          "),t.qZA(),t._uU(25,"\n        "),t.qZA(),t._uU(26,"\n      "),t.qZA(),t._uU(27,"\n    "),t.qZA()),2&e){const o=i.ngIf,a=t.oxw();t.xp6(6),t.Q6J("innerHTML",t.lcZ(7,2,"network.topo.subtitle"),t.oJD),t.xp6(13),t.Q6J("ngForOf",t.xi3(20,4,o,a.sortDesc))}}function Be(e,i){if(1&e&&(t.TgZ(0,"div"),t._UZ(1,"app-detail-topology",19),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.Q6J("timeStamp",o.timeStamp)}}new Tt.Yd("TopologyComponent");const ze=[{path:"topology",component:(()=>{class e{constructor(o,a){this.apiService=o,this.cdr=a}ngOnInit(){this.topologies$=this.apiService.getTopologie()}sortDesc(o,a){return te(o,a)}topologyByDate(o){this.timeStamp=o}deleteTopologyByDate(o){this.apiService.deleteTopologieByTimeStamp(o).subscribe(a=>{this.topologies$=this.apiService.getTopologie(),this.cdr.detectChanges()})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(Et.s),t.Y36(t.sBO))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-topology"]],decls:14,vars:4,consts:[[1,"row"],[1,"col-sm-3"],["class","card",4,"ngIf"],[4,"ngIf"],[1,"card"],["translate","network.topo.header",1,"card-header"],[1,"card-body"],[1,"card-title",3,"innerHTML"],[1,"card-text"],[1,"vertical-container"],[1,"content-container"],[1,"scroll-container"],[1,"scrollable-content"],["class","row d-flex align-items-center",4,"ngFor","ngForOf"],[1,"row","d-flex","align-items-center"],[1,"col-sm-9"],[1,"btn","btn-light",3,"click"],[1,"btn","btn-light",3,"title","click"],[1,"fa","fa-trash"],[3,"timeStamp"]],template:function(o,a){1&o&&(t.TgZ(0,"div",0),t._uU(1,"\n  "),t.TgZ(2,"div",1),t._uU(3,"\n    "),t.YNc(4,qe,28,7,"div",2),t.ALo(5,"async"),t._uU(6,"\n  "),t.qZA(),t._uU(7,"\n  "),t.TgZ(8,"div",1),t._UZ(9,"app-req-topology"),t.qZA(),t._uU(10,"\n"),t.qZA(),t._uU(11,"\n"),t.YNc(12,Be,2,1,"div",3),t._uU(13,"\n")),2&o&&(t.xp6(4),t.Q6J("ngIf",t.lcZ(5,2,a.topologies$)),t.xp6(8),t.Q6J("ngIf",a.timeStamp))},dependencies:[l.sg,l.O5,nt.Pi,Rt,We,je,l.Ov,l.uU,l.Nd,nt.X$],styles:[".content-container[_ngcontent-%COMP%]{position:relative;overflow:auto;height:150px;min-height:0}.content-container[_ngcontent-%COMP%]{position:relative;min-height:0}.vertical-container[_ngcontent-%COMP%], .horizontal-container[_ngcontent-%COMP%]{min-height:0!important}.scroll-container[_ngcontent-%COMP%]{position:relative}.scrollable-content[_ngcontent-%COMP%]{padding:16px;margin:0}"]}),e})(),data:{title:(0,Tt.Kl)("network.topo")}},{path:"energy-level",component:Ce,data:{title:(0,Tt.Kl)("network.energy")}}];let Je=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[$t.Bz.forChild(ze),$t.Bz]}),e})();const Qe={suppressScrollX:!0};let Ke=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[{provide:et.mA,useFactory:()=>[F,R,O,ge,H]},{provide:Qt,useValue:Qe}],imports:[Je,ht.m,et.SD,me]}),e})()},4e3:(lt,gt,B)=>{var ht,et,F;F=function(F){"use strict";var R=F?F._modules:{};function H(O,M,P,D){O.hasOwnProperty(M)||(O[M]=D.apply(null,P),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:M,module:O[M]}})))}H(R,"Series/DependencyWheel/DependencyWheelPoint.js",[R["Core/Series/SeriesRegistry.js"],R["Core/Utilities.js"]],function(O,M){var L,P=this&&this.__extends||(L=function(T,t){return(L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,m){l.__proto__=m}||function(l,m){for(var S in m)m.hasOwnProperty(S)&&(l[S]=m[S])})(T,t)},function(T,t){function l(){this.constructor=T}L(T,t),T.prototype=null===t?Object.create(t):(l.prototype=t.prototype,new l)}),Z=M.wrap,Y=function(L){function T(){var t=null!==L&&L.apply(this,arguments)||this;return t.angle=void 0,t.fromNode=void 0,t.index=void 0,t.linksFrom=void 0,t.linksTo=void 0,t.options=void 0,t.series=void 0,t.shapeArgs=void 0,t.toNode=void 0,t}return P(T,L),T.prototype.getDataLabelPath=function(t){var l=this,m=this.series.chart.renderer,S=this.shapeArgs,x=this.angle<0||this.angle>Math.PI,h=S.start||0,u=S.end||0;return this.dataLabelPath?(this.dataLabelPath=this.dataLabelPath.destroy(),delete this.dataLabelPath):Z(t,"destroy",function(c){return l.dataLabelPath&&(l.dataLabelPath=l.dataLabelPath.destroy()),c.call(t)}),this.dataLabelPath=m.arc({open:!0,longArc:Math.abs(Math.abs(h)-Math.abs(u))<Math.PI?0:1}).attr({x:S.x,y:S.y,r:S.r+(this.dataLabel.options.distance||0),start:x?h:u,end:x?u:h,clockwise:+x}).add(m.defs),this.dataLabelPath},T.prototype.isValid=function(){return!0},T}(O.seriesTypes.sankey.prototype.pointClass);return Y}),H(R,"Series/DependencyWheel/DependencyWheelSeries.js",[R["Core/Animation/AnimationUtilities.js"],R["Series/DependencyWheel/DependencyWheelPoint.js"],R["Core/Globals.js"],R["Series/Sankey/SankeyColumnComposition.js"],R["Core/Series/SeriesRegistry.js"],R["Core/Utilities.js"]],function(O,M,P,D,Z,Y){var c,L=this&&this.__extends||(c=function(p,f){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,_){n.__proto__=_}||function(n,_){for(var v in _)_.hasOwnProperty(v)&&(n[v]=_[v])})(p,f)},function(p,f){function n(){this.constructor=p}c(p,f),p.prototype=null===f?Object.create(f):(n.prototype=f.prototype,new n)}),T=O.animObject,t=P.deg2rad,l=Z.seriesTypes,m=l.pie,S=l.sankey,x=Y.extend,h=Y.merge,u=function(c){function p(){var f=null!==c&&c.apply(this,arguments)||this;return f.data=void 0,f.options=void 0,f.nodeColumns=void 0,f.nodes=void 0,f.points=void 0,f}return L(p,c),p.prototype.animate=function(f){if(!f){var _=T(this.options.animation).duration/2/this.nodes.length;this.nodes.forEach(function(v,d){var s=v.graphic;s&&(s.attr({opacity:0}),setTimeout(function(){v.graphic&&v.graphic.animate({opacity:1},{duration:_})},_*d))},this),this.points.forEach(function(v){var d=v.graphic;!v.isNode&&d&&d.attr({opacity:0}).animate({opacity:1},this.options.animation)},this)}},p.prototype.createNode=function(f){var n=S.prototype.createNode.call(this,f);return n.getSum=function(){return n.linksFrom.concat(n.linksTo).reduce(function(_,v){return _+v.weight},0)},n.offset=function(_){var d,r,v=0,s=n.linksFrom.concat(n.linksTo);function y(g){return g.fromNode===n?g.toNode:g.fromNode}for(s.sort(function(g,b){return y(g).index-y(b).index}),d=0;d<s.length;d++)if(y(s[d]).index>n.index){s=s.slice(0,d).reverse().concat(s.slice(d).reverse()),r=!0;break}for(r||s.reverse(),d=0;d<s.length;d++){if(s[d]===_)return v;v+=s[d].weight}},n},p.prototype.createNodeColumns=function(){var f=[D.compose([],this)];return this.nodes.forEach(function(n){n.column=0,f[0].push(n)}),f},p.prototype.getNodePadding=function(){return this.options.nodePadding/Math.PI},p.prototype.translate=function(){var f=this.options,n=2*Math.PI/(this.chart.plotHeight+this.getNodePadding()),_=this.getCenter(),v=(f.startAngle-90)*t;S.prototype.translate.call(this),this.nodeColumns[0].forEach(function(d){if(d.sum){var s=d.shapeArgs,r=_[0],y=_[1],g=_[2]/2,b=g-f.nodeWidth,U=v+n*(s.y||0),C=v+n*((s.y||0)+(s.height||0));d.angle=U+(C-U)/2,d.shapeType="arc",d.shapeArgs={x:r,y,r:g,innerR:b,start:U,end:C},d.dlBox={x:r+Math.cos((U+C)/2)*(g+b)/2,y:y+Math.sin((U+C)/2)*(g+b)/2,width:1,height:1},d.linksFrom.forEach(function(W){if(W.linkBase){var q,I=W.linkBase.map(function(j,Q){var K=n*j,$=Math.cos(v+K)*(b+1),st=Math.sin(v+K)*(b+1),ot=f.curveFactor||0;return(q=Math.abs(W.linkBase[3-Q]*n-K))>Math.PI&&(q=2*Math.PI-q),(q*=b)<b&&(ot*=q/b),{x:r+$,y:y+st,cpX:r+(1-ot)*$,cpY:y+(1-ot)*st}});W.shapeArgs={d:[["M",I[0].x,I[0].y],["A",b,b,0,0,1,I[1].x,I[1].y],["C",I[1].cpX,I[1].cpY,I[2].cpX,I[2].cpY,I[2].x,I[2].y],["A",b,b,0,0,1,I[3].x,I[3].y],["C",I[3].cpX,I[3].cpY,I[0].cpX,I[0].cpY,I[0].x,I[0].y]]}}})}})},p.defaultOptions=h(S.defaultOptions,{center:[null,null],curveFactor:.6,startAngle:0}),p}(S);return x(u.prototype,{orderNodes:!1,getCenter:m.prototype.getCenter}),u.prototype.pointClass=M,Z.registerSeriesType("dependencywheel",u),u}),H(R,"masters/modules/dependency-wheel.src.js",[],function(){})},lt.exports?(F.default=F,lt.exports=F):(ht=[B(93470),B(4971)],void 0!==(et=function(R){return F(R),F.Highcharts=R,F}.apply(gt,ht))&&(lt.exports=et))},96671:(lt,gt,B)=>{var ht,et,F;F=function(F){"use strict";var R=F?F._modules:{};function H(O,M,P,D){O.hasOwnProperty(M)||(O[M]=D.apply(null,P),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:M,module:O[M]}})))}H(R,"Series/DragNodesComposition.js",[R["Core/Utilities.js"]],function(O){var M=O.addEvent,P=[];function Z(){var S,x,h,m=this;m.container&&(S=M(m.container,"mousedown",function(u){var c=m.hoverPoint;c&&c.series&&c.series.hasDraggableNodes&&c.series.options.draggable&&(c.series.onMouseDown(c,u),x=M(m.container,"mousemove",function(p){return c&&c.series&&c.series.onMouseMove(c,p)}),h=M(m.container.ownerDocument,"mouseup",function(p){return x(),h(),c&&c.series&&c.series.onMouseUp(c,p)}))})),M(m,"destroy",function(){S()})}return{compose:function D(m){-1===P.indexOf(m)&&(P.push(m),M(m,"load",Z))},onMouseDown:function Y(m,S){var x=this.chart.pointer.normalize(S);m.fixedPosition={chartX:x.chartX,chartY:x.chartY,plotX:m.plotX,plotY:m.plotY},m.inDragMode=!0},onMouseMove:function L(m,S){if(m.fixedPosition&&m.inDragMode){var h=this.chart,u=h.pointer.normalize(S),c=m.fixedPosition.chartX-u.chartX,p=m.fixedPosition.chartY-u.chartY,f=h.graphLayoutsLookup,n=void 0,_=void 0;(Math.abs(c)>5||Math.abs(p)>5)&&h.isInsidePlot(n=m.fixedPosition.plotX-c,_=m.fixedPosition.plotY-p)&&(m.plotX=n,m.plotY=_,m.hasDragged=!0,this.redrawHalo(m),f.forEach(function(v){v.restartSimulation()}))}},onMouseUp:function T(m,S){m.fixedPosition&&(m.hasDragged&&(this.layout.enableSimulation?this.layout.start():this.chart.redraw()),m.inDragMode=m.hasDragged=!1,this.options.fixedDraggable||delete m.fixedPosition)},redrawHalo:function t(m){m&&this.halo&&this.halo.attr({d:m.haloPath(this.options.states.hover.halo.size)})}}}),H(R,"Series/GraphLayoutComposition.js",[R["Core/Animation/AnimationUtilities.js"],R["Core/Utilities.js"]],function(O,M){var P=O.setAnimation,D=M.addEvent,Z=[];function t(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(function(h){h.updateSimulation()}),this.redraw())}function l(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(function(h){h.updateSimulation(!1)}),this.redraw())}function m(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(function(h){h.stop()})}function S(){var h,u=!1,c=function(p){p.maxIterations--&&isFinite(p.temperature)&&!p.isStable()&&!p.enableSimulation&&(p.beforeStep&&p.beforeStep(),p.step(),h=!1,u=!0)};if(this.graphLayoutsLookup){for(P(!1,this),this.graphLayoutsLookup.forEach(function(p){return p.start()});!h;)h=!0,this.graphLayoutsLookup.forEach(c);u&&this.series.forEach(function(p){p&&p.layout&&p.render()})}}return{compose:function T(h){Z.indexOf(h)&&(Z.push(h),D(h,"afterPrint",t),D(h,"beforePrint",l),D(h,"predraw",m),D(h,"render",S))},integrations:{},layouts:{}}}),H(R,"Series/NodesComposition.js",[R["Core/Series/SeriesRegistry.js"],R["Core/Utilities.js"]],function(O,M){var m,P=O.series,D=P.prototype,Z=P.prototype.pointClass.prototype,Y=M.defined,L=M.extend,T=M.find,t=M.merge,l=M.pick;return function(S){var x=[];function c(){return this.data=[].concat(this.points||[],this.nodes),D.destroy.apply(this,arguments)}function f(){this.nodes&&(this.nodes.forEach(function(v){v.destroy()}),this.nodes.length=0),D.setData.apply(this,arguments)}function n(v){var d=arguments,s=this.isNode?this.linksTo.concat(this.linksFrom):[this.fromNode,this.toNode];"select"!==v&&s.forEach(function(r){r&&r.series&&(Z.setState.apply(r,d),r.isNode||(r.fromNode.graphic&&Z.setState.apply(r.fromNode,d),r.toNode&&r.toNode.graphic&&Z.setState.apply(r.toNode,d)))}),Z.setState.apply(this,d)}function _(v,d,s,r){var y=this,g=this.series.options.nodes,b=this.series.options.data,U=b&&b.length||0,C=b&&b[this.index];if(Z.update.call(this,v,!this.isNode&&d,s,r),this.isNode){var W=(g||[]).reduce(function(I,j,Q){return y.id===j.id?Q:I},-1),q=t(g&&g[W]||{},b&&b[this.index]||{});b&&(C?b[this.index]=C:b.length=U),g?W>=0?g[W]=q:g.push(q):this.series.options.nodes=[q],l(d,!0)&&this.series.chart.redraw(s)}}S.compose=function h(v,d){if(-1===x.indexOf(v)){x.push(v);var s=v.prototype;s.setNodeState=n,s.setState=n,s.update=_}if(-1===x.indexOf(d)){x.push(d);var r=d.prototype;r.destroy=c,r.setData=f}return d},S.createNode=function u(v){var y,d=this.pointClass,s=function(b,U){return T(b,function(C){return C.id===U})},r=s(this.nodes,v);if(!r){y=this.options.nodes&&s(this.options.nodes,v);var g=(new d).init(this,L({className:"highcharts-node",isNode:!0,id:v,y:1},y));g.linksTo=[],g.linksFrom=[],g.getSum=function(){var b=0,U=0;return g.linksTo.forEach(function(C){b+=C.weight||0}),g.linksFrom.forEach(function(C){U+=C.weight||0}),Math.max(b,U)},g.offset=function(b,U){for(var C=0,W=0;W<g[U].length;W++){if(g[U][W]===b)return C;C+=g[U][W].weight}},g.hasShape=function(){var b=0;return g.linksTo.forEach(function(U){U.outgoing&&b++}),!g.linksTo.length||b!==g.linksTo.length},g.index=this.nodes.push(g)-1,r=g}return r.formatPrefix="node",r.name=r.name||r.options.id||"",r.mass=l(r.options.mass,r.options.marker&&r.options.marker.radius,this.options.marker&&this.options.marker.radius,4),r},S.destroy=c,S.generatePoints=function p(){var v=this,d=this.chart,s={};D.generatePoints.call(this),this.nodes||(this.nodes=[]),this.colorCounter=0,this.nodes.forEach(function(r){r.linksFrom.length=0,r.linksTo.length=0,r.level=r.options.level}),this.points.forEach(function(r){Y(r.from)&&(s[r.from]||(s[r.from]=v.createNode(r.from)),s[r.from].linksFrom.push(r),r.fromNode=s[r.from],d.styledMode?r.colorIndex=l(r.options.colorIndex,s[r.from].colorIndex):r.color=r.options.color||s[r.from].color),Y(r.to)&&(s[r.to]||(s[r.to]=v.createNode(r.to)),s[r.to].linksTo.push(r),r.toNode=s[r.to]),r.name=r.name||r.id},this),this.nodeLookup=s},S.setNodeState=n,S.updateNode=_}(m||(m={})),m}),H(R,"Series/Networkgraph/NetworkgraphPoint.js",[R["Series/NodesComposition.js"],R["Core/Series/SeriesRegistry.js"],R["Core/Utilities.js"]],function(O,M,P){var h,D=this&&this.__extends||(h=function(u,c){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,f){p.__proto__=f}||function(p,f){for(var n in f)f.hasOwnProperty(n)&&(p[n]=f[n])})(u,c)},function(u,c){function p(){this.constructor=u}h(u,c),u.prototype=null===c?Object.create(c):(p.prototype=c.prototype,new p)}),Z=M.series,Y=Z.prototype,L=Z.prototype.pointClass,T=P.addEvent,t=P.css,l=P.defined,m=P.extend,S=P.pick,x=function(h){function u(){return null!==h&&h.apply(this,arguments)||this}return D(u,h),u.prototype.destroy=function(){return this.isNode&&this.linksFrom.concat(this.linksTo).forEach(function(c){c.destroyElements&&c.destroyElements()}),this.series.layout.removeElementFromCollection(this,this.series.layout[this.isNode?"nodes":"links"]),L.prototype.destroy.apply(this,arguments)},u.prototype.getDegree=function(){var c=this.isNode?this.linksFrom.length+this.linksTo.length:0;return 0===c?1:c},u.prototype.getLinkAttributes=function(){var c=this.series.options.link,p=this.options;return{"stroke-width":S(p.width,c.width),stroke:p.color||c.color,dashstyle:p.dashStyle||c.dashStyle,opacity:S(p.opacity,c.opacity,1)}},u.prototype.getLinkPath=function(){var c=this.fromNode,p=this.toNode;return c.plotX>p.plotX&&(c=this.toNode,p=this.fromNode),[["M",c.plotX||0,c.plotY||0],["L",p.plotX||0,p.plotY||0]]},u.prototype.getMass=function(){var c=this.fromNode.mass,p=this.toNode.mass,f=c+p;return{fromNode:1-c/f,toNode:1-p/f}},u.prototype.init=function(c,p,f){return h.prototype.init.call(this,c,p,f),this.series.options.draggable&&!this.series.chart.styledMode&&(T(this,"mouseOver",function(){t(this.series.chart.container,{cursor:"move"})}),T(this,"mouseOut",function(){t(this.series.chart.container,{cursor:"default"})})),this},u.prototype.isValid=function(){return!this.isNode||l(this.id)},u.prototype.redrawLink=function(){var p,c=this.getLinkPath();if(this.graphic){this.shapeArgs={d:c},this.series.chart.styledMode||(p=this.series.pointAttribs(this),this.graphic.attr(p),(this.dataLabels||[]).forEach(function(_){_&&_.attr({opacity:p.opacity})})),this.graphic.animate(this.shapeArgs);var f=c[0],n=c[1];"M"===f[0]&&"L"===n[0]&&(this.plotX=(f[1]+n[1])/2,this.plotY=(f[2]+n[2])/2)}},u.prototype.remove=function(c,p){var v,f=this,n=f.series,_=n.options.nodes||[],d=_.length;if(f.isNode){for(n.points=[],[].concat(f.linksFrom).concat(f.linksTo).forEach(function(s){(v=s.fromNode.linksFrom.indexOf(s))>-1&&s.fromNode.linksFrom.splice(v,1),(v=s.toNode.linksTo.indexOf(s))>-1&&s.toNode.linksTo.splice(v,1),Y.removePoint.call(n,n.data.indexOf(s),!1,!1)}),n.points=n.data.slice(),n.nodes.splice(n.nodes.indexOf(f),1);d--;)if(_[d].id===f.options.id){n.options.nodes.splice(d,1);break}f&&f.destroy(),n.isDirty=!0,n.isDirtyData=!0,c&&n.chart.redraw(c)}else n.removePoint(n.data.indexOf(f),c,p)},u.prototype.renderLink=function(){var c;this.graphic||(this.graphic=this.series.chart.renderer.path(this.getLinkPath()).addClass(this.getClassName(),!0).add(this.series.group),this.series.chart.styledMode||(c=this.series.pointAttribs(this),this.graphic.attr(c),(this.dataLabels||[]).forEach(function(p){p&&p.attr({opacity:c.opacity})})))},u}(L);return m(x.prototype,{setState:O.setNodeState}),x}),H(R,"Series/Networkgraph/NetworkgraphSeriesDefaults.js",[],function(){return{stickyTracking:!1,inactiveOtherPoints:!0,marker:{enabled:!0,states:{inactive:{opacity:.3,animation:{duration:50}}}},states:{inactive:{linkOpacity:.3,animation:{duration:50}}},dataLabels:{formatter:function(){return this.key},linkFormatter:function(){return this.point.fromNode.name+"<br>"+this.point.toNode.name},linkTextPath:{enabled:!0},textPath:{enabled:!1},style:{transition:"opacity 2000ms"}},link:{color:"rgba(100, 100, 100, 0.5)",width:1},draggable:!0,layoutAlgorithm:{initialPositions:"circle",initialPositionRadius:1,enableSimulation:!1,theta:.5,maxSpeed:10,approximation:"none",type:"reingold-fruchterman",integration:"euler",maxIterations:1e3,gravitationalConstant:.0625,friction:-.981},showInLegend:!1}}),H(R,"Series/Networkgraph/EulerIntegration.js",[],function(){return{attractive:function O(t,l,m,S){var x=t.getMass(),h=m.x/S*l,u=m.y/S*l;t.fromNode.fixedPosition||(t.fromNode.dispX-=h*x.fromNode/t.fromNode.degree,t.fromNode.dispY-=u*x.fromNode/t.fromNode.degree),t.toNode.fixedPosition||(t.toNode.dispX+=h*x.toNode/t.toNode.degree,t.toNode.dispY+=u*x.toNode/t.toNode.degree)},attractiveForceFunction:function M(t,l){return t*t/l},barycenter:function P(){var t=this.options.gravitationalConstant,l=this.barycenter.xFactor,m=this.barycenter.yFactor;this.nodes.forEach(function(S){if(!S.fixedPosition){var x=S.getDegree(),h=x*(1+x/2);S.dispX+=(l-S.plotX)*t*h/S.degree,S.dispY+=(m-S.plotY)*t*h/S.degree}})},getK:function D(t){return Math.pow(t.box.width*t.box.height/t.nodes.length,.3)},integrate:function Z(t,l){var m;l.dispX+=l.dispX*t.options.friction,l.dispY+=l.dispY*t.options.friction,0!==(m=l.temperature=t.vectorLength({x:l.dispX,y:l.dispY}))&&(l.plotX+=l.dispX/m*Math.min(Math.abs(l.dispX),t.temperature),l.plotY+=l.dispY/m*Math.min(Math.abs(l.dispY),t.temperature))},repulsive:function Y(t,l,m,S){t.dispX+=m.x/S*l/t.degree,t.dispY+=m.y/S*l/t.degree},repulsiveForceFunction:function L(t,l){return l*l/t}}}),H(R,"Series/Networkgraph/QuadTreeNode.js",[],function(){return function(){function M(P){this.body=!1,this.isEmpty=!1,this.isInternal=!1,this.nodes=[],this.box=P,this.boxSize=Math.min(P.width,P.height)}return M.prototype.divideBox=function(){var P=this.box.width/2,D=this.box.height/2;this.nodes[0]=new M({left:this.box.left,top:this.box.top,width:P,height:D}),this.nodes[1]=new M({left:this.box.left+P,top:this.box.top,width:P,height:D}),this.nodes[2]=new M({left:this.box.left+P,top:this.box.top+D,width:P,height:D}),this.nodes[3]=new M({left:this.box.left,top:this.box.top+D,width:P,height:D})},M.prototype.getBoxPosition=function(P){var Z=P.plotY<this.box.top+this.box.height/2;return P.plotX<this.box.left+this.box.width/2?Z?0:3:Z?1:2},M.prototype.insert=function(P,D){var Z;this.isInternal?this.nodes[this.getBoxPosition(P)].insert(P,D-1):(this.isEmpty=!1,this.body?D?(this.isInternal=!0,this.divideBox(),!0!==this.body&&(this.nodes[this.getBoxPosition(this.body)].insert(this.body,D-1),this.body=!0),this.nodes[this.getBoxPosition(P)].insert(P,D-1)):((Z=new M({top:P.plotX||NaN,left:P.plotY||NaN,width:.1,height:.1})).body=P,Z.isInternal=!1,this.nodes.push(Z)):(this.isInternal=!1,this.body=P))},M.prototype.updateMassAndCenter=function(){var P=0,D=0,Z=0;if(this.isInternal){for(var Y=0,L=this.nodes;Y<L.length;Y++){var T=L[Y];T.isEmpty||(P+=T.mass,D+=T.plotX*T.mass,Z+=T.plotY*T.mass)}D/=P,Z/=P}else this.body&&(P=this.body.mass,D=this.body.plotX,Z=this.body.plotY);this.mass=P,this.plotX=D,this.plotY=Z},M}()}),H(R,"Series/Networkgraph/QuadTree.js",[R["Series/Networkgraph/QuadTreeNode.js"]],function(O){return function(){function P(D,Z,Y,L){this.box={left:D,top:Z,width:Y,height:L},this.maxDepth=25,this.root=new O(this.box),this.root.isInternal=!0,this.root.isRoot=!0,this.root.divideBox()}return P.prototype.calculateMassAndCenter=function(){this.visitNodeRecursive(null,null,function(D){D.updateMassAndCenter()})},P.prototype.insertNodes=function(D){for(var Z=0,Y=D;Z<Y.length;Z++)this.root.insert(Y[Z],this.maxDepth)},P.prototype.visitNodeRecursive=function(D,Z,Y){var L;if(D||(D=this.root),D===this.root&&Z&&(L=Z(D)),!1!==L){for(var T=0,t=D.nodes;T<t.length;T++){var l=t[T];if(l.isInternal){if(Z&&(L=Z(l)),!1===L)continue;this.visitNodeRecursive(l,Z,Y)}else l.body&&Z&&Z(l.body);Y&&Y(l)}D===this.root&&Y&&Y(D)}},P}()}),H(R,"Series/Networkgraph/VerletIntegration.js",[],function(){return{attractive:function O(t,l,m){var S=t.getMass(),x=-m.x*l*this.diffTemperature,h=-m.y*l*this.diffTemperature;t.fromNode.fixedPosition||(t.fromNode.plotX-=x*S.fromNode/t.fromNode.degree,t.fromNode.plotY-=h*S.fromNode/t.fromNode.degree),t.toNode.fixedPosition||(t.toNode.plotX+=x*S.toNode/t.toNode.degree,t.toNode.plotY+=h*S.toNode/t.toNode.degree)},attractiveForceFunction:function M(t,l){return(l-t)/t},barycenter:function P(){var t=this.options.gravitationalConstant,l=this.barycenter.xFactor,m=this.barycenter.yFactor;l=(l-(this.box.left+this.box.width)/2)*t,m=(m-(this.box.top+this.box.height)/2)*t,this.nodes.forEach(function(S){S.fixedPosition||(S.plotX-=l/S.mass/S.degree,S.plotY-=m/S.mass/S.degree)})},getK:function D(t){return Math.pow(t.box.width*t.box.height/t.nodes.length,.5)},integrate:function Z(t,l){var m=-t.options.friction,S=t.options.maxSpeed,u=(l.plotX+l.dispX-l.prevX)*m,c=(l.plotY+l.dispY-l.prevY)*m,p=Math.abs,f=p(u)/(u||1),n=p(c)/(c||1);u=f*Math.min(S,Math.abs(u)),c=n*Math.min(S,Math.abs(c)),l.prevX=l.plotX+l.dispX,l.prevY=l.plotY+l.dispY,l.plotX+=u,l.plotY+=c,l.temperature=t.vectorLength({x:u,y:c})},repulsive:function Y(t,l,m){var S=l*this.diffTemperature/t.mass/t.degree;t.fixedPosition||(t.plotX+=m.x*S,t.plotY+=m.y*S)},repulsiveForceFunction:function L(t,l){return(l-t)/t*(l>t?1:0)}}}),H(R,"Series/Networkgraph/ReingoldFruchtermanLayout.js",[R["Series/Networkgraph/EulerIntegration.js"],R["Core/Globals.js"],R["Series/GraphLayoutComposition.js"],R["Series/Networkgraph/QuadTree.js"],R["Core/Utilities.js"],R["Series/Networkgraph/VerletIntegration.js"]],function(O,M,P,D,Z,Y){var L=M.win,T=Z.clamp,t=Z.defined,l=Z.isFunction,m=Z.pick,S=function(){function x(){this.attractiveForce=void 0,this.box={},this.currentStep=0,this.initialRendering=!0,this.integration=void 0,this.links=[],this.nodes=[],this.options=void 0,this.quadTree=void 0,this.repulsiveForce=void 0,this.series=[],this.simulation=!1}return x.compose=function(h){P.compose(h),P.integrations.euler=O,P.integrations.verlet=Y,P.layouts["reingold-fruchterman"]=x},x.prototype.init=function(h){this.options=h,this.nodes=[],this.links=[],this.series=[],this.box={x:0,y:0,width:0,height:0},this.setInitialRendering(!0),this.integration=P.integrations[h.integration],this.enableSimulation=h.enableSimulation,this.attractiveForce=m(h.attractiveForce,this.integration.attractiveForceFunction),this.repulsiveForce=m(h.repulsiveForce,this.integration.repulsiveForceFunction),this.approximation=h.approximation},x.prototype.updateSimulation=function(h){this.enableSimulation=m(h,this.options.enableSimulation)},x.prototype.start=function(){var h=this,u=this.series,c=this.options;h.currentStep=0,h.forces=u[0]&&u[0].forces||[],h.chart=u[0]&&u[0].chart,h.initialRendering&&(h.initPositions(),u.forEach(function(p){p.finishedAnimating=!0,p.render()})),h.setK(),h.resetSimulation(c),h.enableSimulation&&h.step()},x.prototype.step=function(){var h=this,c=this.series;this.currentStep++,"barnes-hut"===this.approximation&&(this.createQuadTree(),this.quadTree.calculateMassAndCenter());for(var p=0,f=this.forces||[];p<f.length;p++)this[f[p]+"Forces"](this.temperature);if(this.applyLimits(),this.temperature=this.coolDown(this.startTemperature,this.diffTemperature,this.currentStep),this.prevSystemTemperature=this.systemTemperature,this.systemTemperature=this.getSystemTemperature(),this.enableSimulation){for(var _=0,v=c;_<v.length;_++){var d=v[_];d.chart&&d.render()}this.maxIterations--&&isFinite(this.temperature)&&!this.isStable()?(this.simulation&&L.cancelAnimationFrame(this.simulation),this.simulation=L.requestAnimationFrame(function(){return h.step()})):this.simulation=!1}},x.prototype.stop=function(){this.simulation&&L.cancelAnimationFrame(this.simulation)},x.prototype.setArea=function(h,u,c,p){this.box={left:h,top:u,width:c,height:p}},x.prototype.setK=function(){this.k=this.options.linkLength||this.integration.getK(this)},x.prototype.addElementsToCollection=function(h,u){for(var c=0,p=h;c<p.length;c++){var f=p[c];-1===u.indexOf(f)&&u.push(f)}},x.prototype.removeElementFromCollection=function(h,u){var c=u.indexOf(h);-1!==c&&u.splice(c,1)},x.prototype.clear=function(){this.nodes.length=0,this.links.length=0,this.series.length=0,this.resetSimulation()},x.prototype.resetSimulation=function(){this.forcedStop=!1,this.systemTemperature=0,this.setMaxIterations(),this.setTemperature(),this.setDiffTemperature()},x.prototype.restartSimulation=function(){this.simulation?this.resetSimulation():(this.setInitialRendering(!1),this.enableSimulation?this.start():this.setMaxIterations(1),this.chart&&this.chart.redraw(),this.setInitialRendering(!0))},x.prototype.setMaxIterations=function(h){this.maxIterations=m(h,this.options.maxIterations)},x.prototype.setTemperature=function(){this.temperature=this.startTemperature=Math.sqrt(this.nodes.length)},x.prototype.setDiffTemperature=function(){this.diffTemperature=this.startTemperature/(this.options.maxIterations+1)},x.prototype.setInitialRendering=function(h){this.initialRendering=h},x.prototype.createQuadTree=function(){this.quadTree=new D(this.box.left,this.box.top,this.box.width,this.box.height),this.quadTree.insertNodes(this.nodes)},x.prototype.initPositions=function(){var h=this.options.initialPositions;if(l(h)){h.call(this);for(var u=0,c=this.nodes;u<c.length;u++){var p=c[u];t(p.prevX)||(p.prevX=p.plotX),t(p.prevY)||(p.prevY=p.plotY),p.dispX=0,p.dispY=0}}else"circle"===h?this.setCircularPositions():this.setRandomPositions()},x.prototype.setCircularPositions=function(){for(var h=this.box,u=this.nodes,p=2*Math.PI/(u.length+1),f=u.filter(function(I){return 0===I.linksTo.length}),n={},_=this.options.initialPositionRadius,v=function(I){for(var j=0,Q=I.linksFrom||[];j<Q.length;j++){var K=Q[j];n[K.toNode.id]||(n[K.toNode.id]=!0,d.push(K.toNode),v(K.toNode))}},d=[],s=0,r=f;s<r.length;s++){var y=r[s];d.push(y),v(y)}if(d.length)for(var g=0,b=u;g<b.length;g++){var U=b[g];-1===d.indexOf(U)&&d.push(U)}else d=u;for(var C,W=0,q=d.length;W<q;++W)(C=d[W]).plotX=C.prevX=m(C.plotX,h.width/2+_*Math.cos(W*p)),C.plotY=C.prevY=m(C.plotY,h.height/2+_*Math.sin(W*p)),C.dispX=0,C.dispY=0},x.prototype.setRandomPositions=function(){for(var f,h=this.box,u=this.nodes,c=u.length+1,p=function(v){var d=v*v/Math.PI;return d-Math.floor(d)},n=0,_=u.length;n<_;++n)(f=u[n]).plotX=f.prevX=m(f.plotX,h.width*p(n)),f.plotY=f.prevY=m(f.plotY,h.height*p(c+n)),f.dispX=0,f.dispY=0},x.prototype.force=function(h){for(var u=[],c=1;c<arguments.length;c++)u[c-1]=arguments[c];this.integration[h].apply(this,u)},x.prototype.barycenterForces=function(){this.getBarycenter(),this.force("barycenter")},x.prototype.getBarycenter=function(){for(var h=0,u=0,c=0,p=0,f=this.nodes;p<f.length;p++){var n=f[p];u+=n.plotX*n.mass,c+=n.plotY*n.mass,h+=n.mass}return this.barycenter={x:u,y:c,xFactor:u/h,yFactor:c/h},this.barycenter},x.prototype.barnesHutApproximation=function(h,u){var f,n,c=this.getDistXY(h,u),p=this.vectorLength(c);return h!==u&&0!==p&&(u.isInternal?u.boxSize/p<this.options.theta&&0!==p?(n=this.repulsiveForce(p,this.k),this.force("repulsive",h,n*u.mass,c,p),f=!1):f=!0:(n=this.repulsiveForce(p,this.k),this.force("repulsive",h,n*u.mass,c,p))),f},x.prototype.repulsiveForces=function(){var h=this;if("barnes-hut"===this.approximation)for(var u=function(U){c.quadTree.visitNodeRecursive(null,function(C){return h.barnesHutApproximation(U,C)})},c=this,p=0,f=this.nodes;p<f.length;p++)u(n=f[p]);else for(var _=void 0,v=void 0,d=void 0,s=0,r=this.nodes;s<r.length;s++)for(var n=r[s],y=0,g=this.nodes;y<g.length;y++){var b=g[y];n!==b&&!n.fixedPosition&&(d=this.getDistXY(n,b),0!==(v=this.vectorLength(d))&&(_=this.repulsiveForce(v,this.k),this.force("repulsive",n,_*b.mass,d,v)))}},x.prototype.attractiveForces=function(){for(var h,u,c,p=0,f=this.links;p<f.length;p++){var n=f[p];n.fromNode&&n.toNode&&(h=this.getDistXY(n.fromNode,n.toNode),0!==(u=this.vectorLength(h))&&(c=this.attractiveForce(u,this.k),this.force("attractive",n,c,h,u)))}},x.prototype.applyLimits=function(){for(var u=0,c=this.nodes;u<c.length;u++){var p=c[u];if(p.fixedPosition)return;this.integration.integrate(this,p),this.applyLimitBox(p,this.box),p.dispX=0,p.dispY=0}},x.prototype.applyLimitBox=function(h,u){var c=h.radius;h.plotX=T(h.plotX,u.left+c,u.width-c),h.plotY=T(h.plotY,u.top+c,u.height-c)},x.prototype.coolDown=function(h,u,c){return h-u*c},x.prototype.isStable=function(){return Math.abs(this.systemTemperature-this.prevSystemTemperature)<1e-5||this.temperature<=0},x.prototype.getSystemTemperature=function(){for(var h=0,u=0,c=this.nodes;u<c.length;u++)h+=c[u].temperature;return h},x.prototype.vectorLength=function(h){return Math.sqrt(h.x*h.x+h.y*h.y)},x.prototype.getDistR=function(h,u){var c=this.getDistXY(h,u);return this.vectorLength(c)},x.prototype.getDistXY=function(h,u){var c=h.plotX-u.plotX,p=h.plotY-u.plotY;return{x:c,y:p,absX:Math.abs(c),absY:Math.abs(p)}},x}();return S}),H(R,"Series/Networkgraph/NetworkgraphSeries.js",[R["Series/DragNodesComposition.js"],R["Series/GraphLayoutComposition.js"],R["Core/Globals.js"],R["Series/Networkgraph/NetworkgraphPoint.js"],R["Series/Networkgraph/NetworkgraphSeriesDefaults.js"],R["Series/NodesComposition.js"],R["Series/Networkgraph/ReingoldFruchtermanLayout.js"],R["Core/Series/SeriesRegistry.js"],R["Core/Utilities.js"]],function(O,M,P,D,Z,Y,L,T,t){var d,l=this&&this.__extends||(d=function(s,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,g){y.__proto__=g}||function(y,g){for(var b in g)g.hasOwnProperty(b)&&(y[b]=g[b])})(s,r)},function(s,r){function y(){this.constructor=s}d(s,r),s.prototype=null===r?Object.create(r):(y.prototype=r.prototype,new y)}),m=P.noop,S=T.series,x=T.seriesTypes,h=x.column.prototype,u=x.line.prototype,c=t.addEvent,p=t.defined,f=t.extend,n=t.merge,_=t.pick,v=function(d){function s(){var r=null!==d&&d.apply(this,arguments)||this;return r.data=void 0,r.nodes=void 0,r.options=void 0,r.points=void 0,r}return l(s,d),s.compose=function(r){O.compose(r),L.compose(r)},s.prototype.deferLayout=function(){var U,r=this.options.layoutAlgorithm,y=this.chart.graphLayoutsStorage,g=this.chart.graphLayoutsLookup,b=this.chart.options.chart;!this.visible||(y||(this.chart.graphLayoutsStorage=y={},this.chart.graphLayoutsLookup=g=[]),(U=y[r.type])||(r.enableSimulation=p(b.forExport)?!b.forExport:r.enableSimulation,y[r.type]=U=new M.layouts[r.type],U.init(r),g.splice(U.index,0,U)),this.layout=U,U.setArea(0,0,this.chart.plotWidth,this.chart.plotHeight),U.addElementsToCollection([this],U.series),U.addElementsToCollection(this.nodes,U.nodes),U.addElementsToCollection(this.points,U.links))},s.prototype.destroy=function(){this.layout&&this.layout.removeElementFromCollection(this,this.layout.series),Y.destroy.call(this)},s.prototype.drawDataLabels=function(){var r=this.options.dataLabels.textPath;S.prototype.drawDataLabels.apply(this,arguments),this.points=this.data,this.options.dataLabels.textPath=this.options.dataLabels.linkTextPath,S.prototype.drawDataLabels.apply(this,arguments),this.points=this.nodes,this.options.dataLabels.textPath=r},s.prototype.generatePoints=function(){var r,y;for(Y.generatePoints.apply(this,arguments),this.options.nodes&&this.options.nodes.forEach(function(g){this.nodeLookup[g.id]||(this.nodeLookup[g.id]=this.createNode(g.id))},this),y=this.nodes.length-1;y>=0;y--)(r=this.nodes[y]).degree=r.getDegree(),r.radius=_(r.marker&&r.marker.radius,this.options.marker&&this.options.marker.radius,0),this.nodeLookup[r.id]||r.remove();this.data.forEach(function(g){g.formatPrefix="link"}),this.indexateNodes()},s.prototype.getPointsCollection=function(){return this.nodes||[]},s.prototype.indexateNodes=function(){this.nodes.forEach(function(r,y){r.index=y})},s.prototype.init=function(r,y){var g=this;return d.prototype.init.call(this,r,y),c(this,"updatedData",function(){g.layout&&g.layout.stop()}),c(this,"afterUpdate",function(){g.nodes.forEach(function(b){b&&b.series&&b.resolveColor()})}),this},s.prototype.markerAttribs=function(r,y){var g=S.prototype.markerAttribs.call(this,r,y);return p(r.plotY)||(g.y=0),g.x=(r.plotX||0)-(g.width||0)/2,g},s.prototype.pointAttribs=function(r,y){var g=y||r&&r.state||"normal",b=S.prototype.pointAttribs.call(this,r,g),U=this.options.states[g];return r&&!r.isNode&&(b=r.getLinkAttributes(),U&&(b={stroke:U.linkColor||b.stroke,dashstyle:U.linkDashStyle||b.dashstyle,opacity:_(U.linkOpacity,b.opacity),"stroke-width":U.linkColor||b["stroke-width"]})),b},s.prototype.render=function(){var r=this,y=r.points,g=r.chart.hoverPoint,b=[];r.points=r.nodes,u.render.call(this),r.points=y,y.forEach(function(U){U.fromNode&&U.toNode&&(U.renderLink(),U.redrawLink())}),g&&g.series===r&&r.redrawHalo(g),r.chart.hasRendered&&!r.options.dataLabels.allowOverlap&&(r.nodes.concat(r.points).forEach(function(U){U.dataLabel&&b.push(U.dataLabel)}),r.chart.hideOverlappingLabels(b))},s.prototype.setState=function(r,y){y?(this.points=this.nodes.concat(this.data),S.prototype.setState.apply(this,arguments),this.points=this.data):S.prototype.setState.apply(this,arguments),!this.layout.simulation&&!r&&this.render()},s.prototype.translate=function(){this.processedXData||this.processData(),this.generatePoints(),this.deferLayout(),this.nodes.forEach(function(r){r.isInside=!0,r.linksFrom.forEach(function(y){y.shapeType="path",y.y=1})})},s.defaultOptions=n(S.defaultOptions,Z),s}(S);return f(v.prototype,{pointClass:D,animate:void 0,directTouch:!0,drawGraph:void 0,forces:["barycenter","repulsive","attractive"],hasDraggableNodes:!0,isCartesian:!1,noSharedTooltip:!0,pointArrayMap:["from","to"],requireSorting:!1,trackerGroups:["group","markerGroup","dataLabelsGroup"],buildKDTree:m,createNode:Y.createNode,drawTracker:h.drawTracker,onMouseDown:O.onMouseDown,onMouseMove:O.onMouseMove,onMouseUp:O.onMouseUp,redrawHalo:O.redrawHalo}),T.registerSeriesType("networkgraph",v),v}),H(R,"masters/modules/networkgraph.src.js",[R["Core/Globals.js"],R["Series/Networkgraph/NetworkgraphSeries.js"]],function(O,M){M.compose(O.Chart)})},lt.exports?(F.default=F,lt.exports=F):(ht=[B(93470)],void 0!==(et=function(R){return F(R),F.Highcharts=R,F}.apply(gt,ht))&&(lt.exports=et))},4971:(lt,gt,B)=>{var ht,et,F;F=function(F){function R(H,O,M,P){H.hasOwnProperty(O)||(H[O]=P.apply(null,M),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:O,module:H[O]}})))}R(F=F?F._modules:{},"Series/NodesComposition.js",[F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"]],function(H,O){var t,M=(H=H.series).prototype,P=H.prototype.pointClass.prototype,D=O.defined,Z=O.extend,Y=O.find,L=O.merge,T=O.pick;return function(l){function m(){return this.data=[].concat(this.points||[],this.nodes),M.destroy.apply(this,arguments)}function S(){this.nodes&&(this.nodes.forEach(function(c){c.destroy()}),this.nodes.length=0),M.setData.apply(this,arguments)}function x(c){var p=arguments,f=this.isNode?this.linksTo.concat(this.linksFrom):[this.fromNode,this.toNode];"select"!==c&&f.forEach(function(n){n&&n.series&&(P.setState.apply(n,p),n.isNode||(n.fromNode.graphic&&P.setState.apply(n.fromNode,p),n.toNode&&n.toNode.graphic&&P.setState.apply(n.toNode,p)))}),P.setState.apply(this,p)}function h(c,p,f,n){var _=this,v=this.series.options.nodes,d=this.series.options.data,s=d&&d.length||0,r=d&&d[this.index];P.update.call(this,c,!this.isNode&&p,f,n),this.isNode&&(c=(v||[]).reduce(function(y,g,b){return _.id===g.id?b:y},-1),n=L(v&&v[c]||{},d&&d[this.index]||{}),d&&(r?d[this.index]=r:d.length=s),v?0<=c?v[c]=n:v.push(n):this.series.options.nodes=[n],T(p,!0)&&this.series.chart.redraw(f))}var u=[];l.compose=function(c,p){return-1===u.indexOf(c)&&(u.push(c),(c=c.prototype).setNodeState=x,c.setState=x,c.update=h),-1===u.indexOf(p)&&(u.push(p),(c=p.prototype).destroy=m,c.setData=S),p},l.createNode=function(c){var p=this.pointClass,f=function(v,d){return Y(v,function(s){return s.id===d})},n=f(this.nodes,c);if(!n){f=this.options.nodes&&f(this.options.nodes,c);var _=(new p).init(this,Z({className:"highcharts-node",isNode:!0,id:c,y:1},f));_.linksTo=[],_.linksFrom=[],_.getSum=function(){var v=0,d=0;return _.linksTo.forEach(function(s){v+=s.weight||0}),_.linksFrom.forEach(function(s){d+=s.weight||0}),Math.max(v,d)},_.offset=function(v,d){for(var s=0,r=0;r<_[d].length;r++){if(_[d][r]===v)return s;s+=_[d][r].weight}},_.hasShape=function(){var v=0;return _.linksTo.forEach(function(d){d.outgoing&&v++}),!_.linksTo.length||v!==_.linksTo.length},_.index=this.nodes.push(_)-1,n=_}return n.formatPrefix="node",n.name=n.name||n.options.id||"",n.mass=T(n.options.mass,n.options.marker&&n.options.marker.radius,this.options.marker&&this.options.marker.radius,4),n},l.destroy=m,l.generatePoints=function(){var c=this,p=this.chart,f={};M.generatePoints.call(this),this.nodes||(this.nodes=[]),this.colorCounter=0,this.nodes.forEach(function(n){n.linksFrom.length=0,n.linksTo.length=0,n.level=n.options.level}),this.points.forEach(function(n){D(n.from)&&(f[n.from]||(f[n.from]=c.createNode(n.from)),f[n.from].linksFrom.push(n),n.fromNode=f[n.from],p.styledMode?n.colorIndex=T(n.options.colorIndex,f[n.from].colorIndex):n.color=n.options.color||f[n.from].color),D(n.to)&&(f[n.to]||(f[n.to]=c.createNode(n.to)),f[n.to].linksTo.push(n),n.toNode=f[n.to]),n.name=n.name||n.id},this),this.nodeLookup=f},l.setNodeState=x,l.updateNode=h}(t||(t={})),t}),R(F,"Series/Sankey/SankeyPoint.js",[F["Core/Series/Point.js"],F["Core/Series/SeriesRegistry.js"],F["Core/Utilities.js"]],function(H,O,M){var Z,P=this&&this.__extends||(Z=function(Y,L){return(Z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,t){T.__proto__=t}||function(T,t){for(var l in t)t.hasOwnProperty(l)&&(T[l]=t[l])})(Y,L)},function(Y,L){function T(){this.constructor=Y}Z(Y,L),Y.prototype=null===L?Object.create(L):(T.prototype=L.prototype,new T)}),D=M.defined;return function(Z){function Y(){var L=null!==Z&&Z.apply(this,arguments)||this;return L.className=void 0,L.fromNode=void 0,L.level=void 0,L.linkBase=void 0,L.linksFrom=void 0,L.linksTo=void 0,L.mass=void 0,L.nodeX=void 0,L.nodeY=void 0,L.options=void 0,L.series=void 0,L.toNode=void 0,L}return P(Y,Z),Y.prototype.applyOptions=function(L,T){return H.prototype.applyOptions.call(this,L,T),D(this.options.level)&&(this.options.column=this.column=this.options.level),this},Y.prototype.getClassName=function(){return(this.isNode?"highcharts-node ":"highcharts-link ")+H.prototype.getClassName.call(this)},Y.prototype.getFromNode=function(){for(var T,L=-1,t=0;t<this.linksTo.length;t++){var l=this.linksTo[t];l.fromNode.column>L&&l.fromNode!==this&&(L=(T=l.fromNode).column)}return{fromNode:T,fromColumn:L}},Y.prototype.setNodeColumn=function(){D(this.options.column)||(this.column=0===this.linksTo.length?0:this.getFromNode().fromColumn+1)},Y.prototype.isValid=function(){return this.isNode||"number"==typeof this.weight},Y}(O.seriesTypes.column.prototype.pointClass)}),R(F,"Series/Sankey/SankeyColumnComposition.js",[F["Core/Utilities.js"]],function(H){var P,O=H.defined,M=H.relativeLength;return function(D){D.compose=function(Y,L){return Y.sankeyColumn=new Z(Y,L),Y};var Z=function(){function Y(L,T){this.points=L,this.series=T}return Y.prototype.getTranslationFactor=function(L){for(var S,T=this.points,t=T.slice(),l=L.options.minLinkWidth||0,m=0,x=(L.chart.plotSizeY||0)-(L.options.borderWidth||0)-(T.length-1)*L.nodePadding;T.length;){for(m=x/T.sankeyColumn.sum(),L=!1,S=T.length;S--;)T[S].getSum()*m<l&&(T.splice(S,1),x-=l,L=!0);if(!L)break}return T.length=0,t.forEach(function(h){T.push(h)}),m},Y.prototype.top=function(L){var T=this.series,t=T.nodePadding,l=this.points.reduce(function(m,S){return 0<m&&(m+=t),m+Math.max(S.getSum()*L,T.options.minLinkWidth||0)},0);return((T.chart.plotSizeY||0)-l)/2},Y.prototype.left=function(L){var T=this.series,t=T.chart,l=T.options.equalNodes,m=t.inverted?t.plotHeight:t.plotWidth,S=T.nodePadding,x=this.points.reduce(function(h,u){return 0<h&&(h+=S),h+(l?m/u.series.nodes.length-S:Math.max(u.getSum()*L,T.options.minLinkWidth||0))},0);return((t.plotSizeX||0)-Math.round(x))/2},Y.prototype.sum=function(){return this.points.reduce(function(L,T){return L+T.getSum()},0)},Y.prototype.offset=function(L,T){var t=this.points,l=this.series,m=l.nodePadding,S=0;if(l.is("organization")&&L.hangsFrom)return{absoluteTop:L.hangsFrom.nodeY};for(var x=0;x<t.length;x++){var h=t[x].getSum(),u=Math.max(h*T,l.options.minLinkWidth||0),c=L.options[l.chart.inverted?"offsetHorizontal":"offsetVertical"],p=L.options.offset||0;if(h=h?u+m:0,t[x]===L)return{relativeTop:S+(O(c)?M(c,u):M(p,h))};S+=h}},Y}();D.SankeyColumnAdditions=Z}(P||(P={})),P}),R(F,"Series/TreeUtilities.js",[F["Core/Color/Color.js"],F["Core/Utilities.js"]],function(H,O){var P=O.extend,D=O.isArray,Z=O.isNumber,Y=O.isObject,L=O.merge,T=O.pick;return{getColor:function(t,l){var _,m=l.index,S=l.mapOptionsToLevel,x=l.parentColor,h=l.parentColorIndex,u=l.series,c=l.colors,p=l.siblings,f=u.points,n=u.chart.options.chart;if(t){if(f=f[t.i],t=S[t.level]||{},S=f&&t.colorByPoint)var v=f.index%(c?c.length:n.colorCount),d=c&&c[v];u.chart.styledMode||(c=f&&f.options.color,n=t&&t.color,(_=x)&&(_=(_=t&&t.colorVariation)&&"brightness"===_.key&&m&&p?H.parse(x).brighten(m/p*_.to).get():x),_=T(c,n,d,_,u.color));var s=T(f&&f.options.colorIndex,t&&t.colorIndex,v,h,l.colorIndex)}return{color:_,colorIndex:s}},getLevelOptions:function(t){var l=null;if(Y(t)){l={};var m=Z(t.from)?t.from:1,S=t.levels,x={},h=Y(t.defaults)?t.defaults:{};for(D(S)&&(x=S.reduce(function(u,c){if(Y(c)&&Z(c.level)){var p=L({},c),f=T(p.levelIsConstant,h.levelIsConstant);delete p.levelIsConstant,delete p.level,Y(u[c=c.level+(f?0:m-1)])?L(!0,u[c],p):u[c]=p}return u},{})),S=Z(t.to)?t.to:1,t=0;t<=S;t++)l[t]=L({},h,Y(x[t])?x[t]:{})}return l},setTreeValues:function M(t,l){var m=l.before,S=l.idRoot,h=l.points[t.i],u=h&&h.options||{},c=[],p=0;return t.levelDynamic=t.level-(!1!==l.levelIsConstant?0:l.mapIdToNode[S].level),t.name=T(h&&h.name,""),t.visible=S===t.id||!0===l.visible,"function"==typeof m&&(t=m(t,l)),t.children.forEach(function(f,n){var _=P({},l);P(_,{index:n,siblings:t.children.length,visible:t.visible}),f=M(f,_),c.push(f),f.visible&&(p+=f.val)}),m=T(u.value,p),t.visible=0<=m&&(0<p||t.visible),t.children=c,t.childrenTotal=p,t.isLeaf=t.visible&&!p,t.val=m,t},updateRootId:function(t){if(Y(t)){var l=Y(t.options)?t.options:{};l=T(t.rootNode,l.rootId,""),Y(t.userOptions)&&(t.userOptions.rootId=l),t.rootNode=l}return l}}}),R(F,"Series/Sankey/SankeySeries.js",[F["Core/Color/Color.js"],F["Core/Globals.js"],F["Series/NodesComposition.js"],F["Series/Sankey/SankeyPoint.js"],F["Core/Series/SeriesRegistry.js"],F["Series/Sankey/SankeyColumnComposition.js"],F["Series/TreeUtilities.js"],F["Core/Utilities.js"]],function(H,O,M,P,D,Z,Y,L){var p,T=this&&this.__extends||(p=function(f,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,v){_.__proto__=v}||function(_,v){for(var d in v)v.hasOwnProperty(d)&&(_[d]=v[d])})(f,n)},function(f,n){function _(){this.constructor=f}p(f,n),f.prototype=null===n?Object.create(n):(_.prototype=n.prototype,new _)}),t=D.series,l=D.seriesTypes.column,m=Y.getLevelOptions;Y=L.extend;var S=L.isObject,x=L.merge,h=L.pick,u=L.relativeLength,c=L.stableSort;return L=function(p){function f(){var n=null!==p&&p.apply(this,arguments)||this;return n.colDistance=void 0,n.data=void 0,n.group=void 0,n.nodeLookup=void 0,n.nodePadding=void 0,n.nodes=void 0,n.nodeWidth=void 0,n.options=void 0,n.points=void 0,n.translationFactor=void 0,n}return T(f,p),f.getDLOptions=function(n){var _=S(n.optionsPoint)?n.optionsPoint.dataLabels:{};return n=S(n.level)?n.level.dataLabels:{},x({style:{}},n,_)},f.prototype.createNodeColumns=function(){var n=[];this.nodes.forEach(function(v){v.setNodeColumn(),n[v.column]||(n[v.column]=Z.compose([],this)),n[v.column].push(v)},this);for(var _=0;_<n.length;_++)void 0===n[_]&&(n[_]=Z.compose([],this));return n},f.prototype.generatePoints=function(){function n(_,v){void 0===_.level&&(_.level=v,_.linksFrom.forEach(function(d){d.toNode&&n(d.toNode,v+1)}))}M.generatePoints.apply(this,arguments),this.orderNodes&&(this.nodes.filter(function(_){return 0===_.linksTo.length}).forEach(function(_){n(_,0)}),c(this.nodes,function(_,v){return _.level-v.level}))},f.prototype.getNodePadding=function(){var n=this.options.nodePadding||0;if(this.nodeColumns){var _=this.nodeColumns.reduce(function(v,d){return Math.max(v,d.length)},0);_*n>this.chart.plotSizeY&&(n=this.chart.plotSizeY/_)}return n},f.prototype.hasData=function(){return!!this.processedXData.length},f.prototype.pointAttribs=function(n,_){if(!n)return{};var v=this,d=v.mapOptionsToLevel[(n.isNode?n.level:n.fromNode.level)||0]||{},s=n.options,r=d.states&&d.states[_||""]||{};_=["colorByPoint","borderColor","borderWidth","linkOpacity","opacity"].reduce(function(g,b){return g[b]=h(r[b],s[b],d[b],v.options[b]),g},{});var y=h(r.color,s.color,_.colorByPoint?n.color:d.color);return n.isNode?{fill:y,stroke:_.borderColor,"stroke-width":_.borderWidth,opacity:_.opacity}:{fill:H.parse(y).setOpacity(_.linkOpacity).get()}},f.prototype.render=function(){var n=this.points;this.points=this.points.concat(this.nodes||[]),l.prototype.render.call(this),this.points=n},f.prototype.translate=function(){this.processedXData||this.processData(),this.generatePoints(),this.nodeColumns=this.createNodeColumns(),this.nodeWidth=u(this.options.nodeWidth,this.chart.plotSizeX);var n=this,_=this.chart,v=this.options,d=this.nodeWidth,s=this.nodeColumns;this.nodePadding=this.getNodePadding(),this.translationFactor=s.reduce(function(r,y){return Math.min(r,y.sankeyColumn.getTranslationFactor(n))},1/0),this.colDistance=(_.plotSizeX-d-v.borderWidth)/Math.max(1,s.length-1),n.mapOptionsToLevel=m({from:1,levels:v.levels,to:s.length-1,defaults:{borderColor:v.borderColor,borderRadius:v.borderRadius,borderWidth:v.borderWidth,color:n.color,colorByPoint:v.colorByPoint,levelIsConstant:!0,linkColor:v.linkColor,linkLineWidth:v.linkLineWidth,linkOpacity:v.linkOpacity,states:v.states}}),s.forEach(function(r){r.forEach(function(y){n.translateNode(y,r)})},this),this.nodes.forEach(function(r){r.linksFrom.forEach(function(y){(y.weight||y.isNull)&&y.to&&(n.translateLink(y),y.allowShadow=!1)})})},f.prototype.translateLink=function(n){var _=function(pt,bt){return bt=pt.offset(n,bt)*r,Math.min(pt.nodeY+bt,pt.nodeY+(pt.shapeArgs&&pt.shapeArgs.height||0)-y)},v=n.fromNode,d=n.toNode,s=this.chart,r=this.translationFactor,y=Math.max(n.weight*r,this.options.minLinkWidth),g=(s.inverted?-this.colDistance:this.colDistance)*this.options.curveFactor,b=_(v,"linksFrom");_=_(d,"linksTo");var U=v.nodeX,C=this.nodeWidth,W=n.outgoing,q=(d=d.nodeX)>U+C;if(s.inverted&&(b=s.plotSizeY-b,_=(s.plotSizeY||0)-_,C=-C,y=-y,q=U>d),n.shapeType="path",n.linkBase=[b,b+y,_,_+y],q&&"number"==typeof _)n.shapeArgs={d:[["M",U+C,b],["C",U+C+g,b,d-g,_,d,_],["L",d+(W?C:0),_+y/2],["L",d,_+y],["C",d-g,_+y,U+C+g,b+y,U+C,b+y],["Z"]]};else if("number"==typeof _){var I=(q=U+C)+20,j=I+y,K=b+y,$=K+20,st=$+(s.plotHeight-b-y),ot=st+20,rt=ot+y,ut=_+y,vt=ut+20,yt=ot+.7*y,ct=d-.7*y,dt=q+.7*y;n.shapeArgs={d:[["M",q,b],["C",dt,b,j,K-.7*y,j,$],["L",j,st],["C",j,yt,dt,rt,q,rt],["L",d,rt],["C",ct,rt,g=d-20-y,yt,g,st],["L",g,vt],["C",g,ut-.7*y,ct,_,d,_],["L",d,ut],["C",W=d-20,ut,W,ut,W,vt],["L",W,st],["C",W,ot,W,ot,d,ot],["L",q,ot],["C",I,ot,I,ot,I,st],["L",I,$],["C",I,K,I,K,q,K],["Z"]]}}n.dlBox={x:U+(d-U+C)/2,y:b+(_-b)/2,height:y,width:0},n.tooltipPos=s.inverted?[s.plotSizeY-n.dlBox.y-y/2,s.plotSizeX-n.dlBox.x]:[n.dlBox.x,n.dlBox.y+y/2],n.y=n.plotY=1,n.x=n.plotX=1,n.color||(n.color=v.color)},f.prototype.translateNode=function(n,_){var v=this.translationFactor,d=this.chart,s=this.options,r=n.getSum(),y=Math.max(Math.round(r*v),this.options.minLinkWidth),g=Math.round(this.nodeWidth),b=Math.round(s.borderWidth)%2/2,U=_.sankeyColumn.offset(n,v);if(_=Math.floor(h(U.absoluteTop,_.sankeyColumn.top(v)+U.relativeTop))+b,b=Math.floor(this.colDistance*n.column+s.borderWidth/2)+u(n.options.offsetHorizontal||0,g)+b,b=d.inverted?d.plotSizeX-b:b,n.sum=r){n.shapeType="rect",n.nodeX=b,n.nodeY=_,r=b,v=_,U=n.options.width||s.width||g;var C=n.options.height||s.height||y;d.inverted&&(r=b-g,v=d.plotSizeY-_-y,U=n.options.height||s.height||g,C=n.options.width||s.width||y),n.dlOptions=f.getDLOptions({level:this.mapOptionsToLevel[n.level],optionsPoint:n.options}),n.plotX=1,n.plotY=1,n.tooltipPos=d.inverted?[d.plotSizeY-v-C/2,d.plotSizeX-r-U/2]:[r+U/2,v+C/2],n.shapeArgs={x:r,y:v,width:U,height:C,display:n.hasShape()?"":"none"}}else n.dlOptions={enabled:!1}},f.defaultOptions=x(l.defaultOptions,{borderWidth:0,colorByPoint:!0,curveFactor:.33,dataLabels:{enabled:!0,backgroundColor:"none",crop:!1,nodeFormat:void 0,nodeFormatter:function(){return this.point.name},format:void 0,formatter:function(){},inside:!0},inactiveOtherPoints:!0,linkOpacity:.5,opacity:1,minLinkWidth:0,nodeWidth:20,nodePadding:10,showInLegend:!1,states:{hover:{linkOpacity:1,opacity:1},inactive:{linkOpacity:.1,opacity:.1,animation:{duration:50}}},tooltip:{followPointer:!0,headerFormat:'<span style="font-size: 10px">{series.name}</span><br/>',pointFormat:"{point.fromNode.name} \u2192 {point.toNode.name}: <b>{point.weight}</b><br/>",nodeFormat:"{point.name}: <b>{point.sum}</b><br/>"}}),f}(l),M.compose(P,L),Y(L.prototype,{animate:t.prototype.animate,createNode:M.createNode,forceDL:!0,invertible:!0,isCartesian:!1,orderNodes:!0,noSharedTooltip:!0,pointArrayMap:["from","to","weight"],pointClass:P,searchPoint:O.noop}),D.registerSeriesType("sankey",L),L}),R(F,"masters/modules/sankey.src.js",[],function(){})},lt.exports?(F.default=F,lt.exports=F):(ht=[B(93470)],void 0!==(et=function(R){return F(R),F.Highcharts=R,F}.apply(gt,ht))&&(lt.exports=et))},3304:(lt,gt,B)=>{var ht,et,F;F=function(F){"use strict";var R=F?F._modules:{};function H(O,M,P,D){O.hasOwnProperty(M)||(O[M]=D.apply(null,P),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:M,module:O[M]}})))}H(R,"Series/NodesComposition.js",[R["Core/Series/SeriesRegistry.js"],R["Core/Utilities.js"]],function(O,M){var m,P=O.series,D=P.prototype,Z=P.prototype.pointClass.prototype,Y=M.defined,L=M.extend,T=M.find,t=M.merge,l=M.pick;return function(S){var x=[];function c(){return this.data=[].concat(this.points||[],this.nodes),D.destroy.apply(this,arguments)}function f(){this.nodes&&(this.nodes.forEach(function(v){v.destroy()}),this.nodes.length=0),D.setData.apply(this,arguments)}function n(v){var d=arguments,s=this.isNode?this.linksTo.concat(this.linksFrom):[this.fromNode,this.toNode];"select"!==v&&s.forEach(function(r){r&&r.series&&(Z.setState.apply(r,d),r.isNode||(r.fromNode.graphic&&Z.setState.apply(r.fromNode,d),r.toNode&&r.toNode.graphic&&Z.setState.apply(r.toNode,d)))}),Z.setState.apply(this,d)}function _(v,d,s,r){var y=this,g=this.series.options.nodes,b=this.series.options.data,U=b&&b.length||0,C=b&&b[this.index];if(Z.update.call(this,v,!this.isNode&&d,s,r),this.isNode){var W=(g||[]).reduce(function(I,j,Q){return y.id===j.id?Q:I},-1),q=t(g&&g[W]||{},b&&b[this.index]||{});b&&(C?b[this.index]=C:b.length=U),g?W>=0?g[W]=q:g.push(q):this.series.options.nodes=[q],l(d,!0)&&this.series.chart.redraw(s)}}S.compose=function h(v,d){if(-1===x.indexOf(v)){x.push(v);var s=v.prototype;s.setNodeState=n,s.setState=n,s.update=_}if(-1===x.indexOf(d)){x.push(d);var r=d.prototype;r.destroy=c,r.setData=f}return d},S.createNode=function u(v){var y,d=this.pointClass,s=function(b,U){return T(b,function(C){return C.id===U})},r=s(this.nodes,v);if(!r){y=this.options.nodes&&s(this.options.nodes,v);var g=(new d).init(this,L({className:"highcharts-node",isNode:!0,id:v,y:1},y));g.linksTo=[],g.linksFrom=[],g.getSum=function(){var b=0,U=0;return g.linksTo.forEach(function(C){b+=C.weight||0}),g.linksFrom.forEach(function(C){U+=C.weight||0}),Math.max(b,U)},g.offset=function(b,U){for(var C=0,W=0;W<g[U].length;W++){if(g[U][W]===b)return C;C+=g[U][W].weight}},g.hasShape=function(){var b=0;return g.linksTo.forEach(function(U){U.outgoing&&b++}),!g.linksTo.length||b!==g.linksTo.length},g.index=this.nodes.push(g)-1,r=g}return r.formatPrefix="node",r.name=r.name||r.options.id||"",r.mass=l(r.options.mass,r.options.marker&&r.options.marker.radius,this.options.marker&&this.options.marker.radius,4),r},S.destroy=c,S.generatePoints=function p(){var v=this,d=this.chart,s={};D.generatePoints.call(this),this.nodes||(this.nodes=[]),this.colorCounter=0,this.nodes.forEach(function(r){r.linksFrom.length=0,r.linksTo.length=0,r.level=r.options.level}),this.points.forEach(function(r){Y(r.from)&&(s[r.from]||(s[r.from]=v.createNode(r.from)),s[r.from].linksFrom.push(r),r.fromNode=s[r.from],d.styledMode?r.colorIndex=l(r.options.colorIndex,s[r.from].colorIndex):r.color=r.options.color||s[r.from].color),Y(r.to)&&(s[r.to]||(s[r.to]=v.createNode(r.to)),s[r.to].linksTo.push(r),r.toNode=s[r.to]),r.name=r.name||r.id},this),this.nodeLookup=s},S.setNodeState=n,S.updateNode=_}(m||(m={})),m}),H(R,"Series/Sankey/SankeyPoint.js",[R["Core/Series/Point.js"],R["Core/Series/SeriesRegistry.js"],R["Core/Utilities.js"]],function(O,M,P){var T,D=this&&this.__extends||(T=function(t,l){return(T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,S){m.__proto__=S}||function(m,S){for(var x in S)S.hasOwnProperty(x)&&(m[x]=S[x])})(t,l)},function(t,l){function m(){this.constructor=t}T(t,l),t.prototype=null===l?Object.create(l):(m.prototype=l.prototype,new m)}),Y=P.defined,L=function(T){function t(){var l=null!==T&&T.apply(this,arguments)||this;return l.className=void 0,l.fromNode=void 0,l.level=void 0,l.linkBase=void 0,l.linksFrom=void 0,l.linksTo=void 0,l.mass=void 0,l.nodeX=void 0,l.nodeY=void 0,l.options=void 0,l.series=void 0,l.toNode=void 0,l}return D(t,T),t.prototype.applyOptions=function(l,m){return O.prototype.applyOptions.call(this,l,m),Y(this.options.level)&&(this.options.column=this.column=this.options.level),this},t.prototype.getClassName=function(){return(this.isNode?"highcharts-node ":"highcharts-link ")+O.prototype.getClassName.call(this)},t.prototype.getFromNode=function(){for(var S,l=this,m=-1,x=0;x<l.linksTo.length;x++){var h=l.linksTo[x];h.fromNode.column>m&&h.fromNode!==l&&(m=(S=h.fromNode).column)}return{fromNode:S,fromColumn:m}},t.prototype.setNodeColumn=function(){var l=this;Y(l.options.column)||(l.column=0===l.linksTo.length?0:l.getFromNode().fromColumn+1)},t.prototype.isValid=function(){return this.isNode||"number"==typeof this.weight},t}(M.seriesTypes.column.prototype.pointClass);return L}),H(R,"Series/Sankey/SankeyColumnComposition.js",[R["Core/Utilities.js"]],function(O){var D,M=O.defined,P=O.relativeLength;return function(Z){Z.compose=function Y(T,t){var l=T;return l.sankeyColumn=new L(l,t),l};var L=function(){function T(t,l){this.points=t,this.series=l}return T.prototype.getTranslationFactor=function(t){for(var h,c,l=this.points,m=l.slice(),x=t.options.minLinkWidth||0,u=0,p=(t.chart.plotSizeY||0)-(t.options.borderWidth||0)-(l.length-1)*t.nodePadding;l.length;){for(u=p/l.sankeyColumn.sum(),h=!1,c=l.length;c--;)l[c].getSum()*u<x&&(l.splice(c,1),p-=x,h=!0);if(!h)break}return l.length=0,m.forEach(function(f){l.push(f)}),u},T.prototype.top=function(t){var l=this.series,m=l.nodePadding,S=this.points.reduce(function(x,h){return x>0&&(x+=m),x+Math.max(h.getSum()*t,l.options.minLinkWidth||0)},0);return((l.chart.plotSizeY||0)-S)/2},T.prototype.left=function(t){var l=this.series,m=l.chart,S=l.options.equalNodes,x=m.inverted?m.plotHeight:m.plotWidth,h=l.nodePadding,u=this.points.reduce(function(c,p){return c>0&&(c+=h),c+(S?x/p.series.nodes.length-h:Math.max(p.getSum()*t,l.options.minLinkWidth||0))},0);return((m.plotSizeX||0)-Math.round(u))/2},T.prototype.sum=function(){return this.points.reduce(function(t,l){return t+l.getSum()},0)},T.prototype.offset=function(t,l){var u,m=this.points,S=this.series,x=S.nodePadding,h=0;if(S.is("organization")&&t.hangsFrom)return{absoluteTop:t.hangsFrom.nodeY};for(var c=0;c<m.length;c++){var p=m[c].getSum(),f=Math.max(p*l,S.options.minLinkWidth||0),n=t.options[S.chart.inverted?"offsetHorizontal":"offsetVertical"],_=t.options.offset||0;if(u=p?f+x:0,m[c]===t)return{relativeTop:h+(M(n)?P(n,f):P(_,u))};h+=u}},T}();Z.SankeyColumnAdditions=L}(D||(D={})),D}),H(R,"Series/TreeUtilities.js",[R["Core/Color/Color.js"],R["Core/Utilities.js"]],function(O,M){var P=M.extend,D=M.isArray,Z=M.isNumber,Y=M.isObject,L=M.merge,T=M.pick;return{getColor:function t(h,u){var g,b,U,C,W,q,j,Q,c=u.index,f=u.parentColor,n=u.parentColorIndex,_=u.series,v=u.colors,d=u.siblings;return h&&(b=u.mapOptionsToLevel[h.level]||{},(g=_.points[h.i])&&b.colorByPoint&&(C=g.index%(v?v.length:_.chart.options.chart.colorCount),U=v&&v[C]),_.chart.styledMode||(W=T(g&&g.options.color,b&&b.color,U,f&&(j=f,(Q=b&&b.colorVariation)&&"brightness"===Q.key&&c&&d?O.parse(j).brighten(Q.to*(c/d)).get():j),_.color)),q=T(g&&g.options.colorIndex,b&&b.colorIndex,C,n,u.colorIndex)),{color:W,colorIndex:q}},getLevelOptions:function l(h){var c,p,f,n,_,v,u=null;if(Y(h))for(u={},n=Z(h.from)?h.from:1,v=h.levels,p={},c=Y(h.defaults)?h.defaults:{},D(v)&&(p=v.reduce(function(d,s){var r,y,g;return Y(s)&&Z(s.level)&&(g=L({},s),y=T(g.levelIsConstant,c.levelIsConstant),delete g.levelIsConstant,delete g.level,Y(d[r=s.level+(y?0:n-1)])?L(!0,d[r],g):d[r]=g),d},{})),_=Z(h.to)?h.to:1,f=0;f<=_;f++)u[f]=L({},c,Y(p[f])?p[f]:{});return u},setTreeValues:function m(h,u){var c=u.before,p=u.idRoot,d=u.points[h.i],s=d&&d.options||{},r=[],y=0;h.levelDynamic=h.level-(!1!==u.levelIsConstant?0:u.mapIdToNode[p].level),h.name=T(d&&d.name,""),h.visible=p===h.id||!0===u.visible,"function"==typeof c&&(h=c(h,u)),h.children.forEach(function(b,U){var C=P({},u);P(C,{index:U,siblings:h.children.length,visible:h.visible}),b=m(b,C),r.push(b),b.visible&&(y+=b.val)});var g=T(s.value,y);return h.visible=g>=0&&(y>0||h.visible),h.children=r,h.childrenTotal=y,h.isLeaf=h.visible&&!y,h.val=g,h},updateRootId:function S(h){var u,c;return Y(h)&&(c=Y(h.options)?h.options:{},u=T(h.rootNode,c.rootId,""),Y(h.userOptions)&&(h.userOptions.rootId=u),h.rootNode=u),u}}}),H(R,"Series/Sankey/SankeySeries.js",[R["Core/Color/Color.js"],R["Core/Globals.js"],R["Series/NodesComposition.js"],R["Series/Sankey/SankeyPoint.js"],R["Core/Series/SeriesRegistry.js"],R["Series/Sankey/SankeyColumnComposition.js"],R["Series/TreeUtilities.js"],R["Core/Utilities.js"]],function(O,M,P,D,Z,Y,L,T){var v,t=this&&this.__extends||(v=function(d,s){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,y){r.__proto__=y}||function(r,y){for(var g in y)y.hasOwnProperty(g)&&(r[g]=y[g])})(d,s)},function(d,s){function r(){this.constructor=d}v(d,s),d.prototype=null===s?Object.create(s):(r.prototype=s.prototype,new r)}),l=Z.series,m=Z.seriesTypes.column,S=L.getLevelOptions,h=T.extend,u=T.isObject,c=T.merge,p=T.pick,f=T.relativeLength,n=T.stableSort,_=function(v){function d(){var s=null!==v&&v.apply(this,arguments)||this;return s.colDistance=void 0,s.data=void 0,s.group=void 0,s.nodeLookup=void 0,s.nodePadding=void 0,s.nodes=void 0,s.nodeWidth=void 0,s.options=void 0,s.points=void 0,s.translationFactor=void 0,s}return t(d,v),d.getDLOptions=function(s){var r=u(s.optionsPoint)?s.optionsPoint.dataLabels:{},y=u(s.level)?s.level.dataLabels:{};return c({style:{}},y,r)},d.prototype.createNodeColumns=function(){var s=[];this.nodes.forEach(function(y){y.setNodeColumn(),s[y.column]||(s[y.column]=Y.compose([],this)),s[y.column].push(y)},this);for(var r=0;r<s.length;r++)void 0===s[r]&&(s[r]=Y.compose([],this));return s},d.prototype.generatePoints=function(){function s(r,y){void 0===r.level&&(r.level=y,r.linksFrom.forEach(function(g){g.toNode&&s(g.toNode,y+1)}))}P.generatePoints.apply(this,arguments),this.orderNodes&&(this.nodes.filter(function(r){return 0===r.linksTo.length}).forEach(function(r){s(r,0)}),n(this.nodes,function(r,y){return r.level-y.level}))},d.prototype.getNodePadding=function(){var s=this.options.nodePadding||0;if(this.nodeColumns){var r=this.nodeColumns.reduce(function(y,g){return Math.max(y,g.length)},0);r*s>this.chart.plotSizeY&&(s=this.chart.plotSizeY/r)}return s},d.prototype.hasData=function(){return!!this.processedXData.length},d.prototype.pointAttribs=function(s,r){if(!s)return{};var y=this,b=y.mapOptionsToLevel[(s.isNode?s.level:s.fromNode.level)||0]||{},U=s.options,C=b.states&&b.states[r||""]||{},W=["colorByPoint","borderColor","borderWidth","linkOpacity","opacity"].reduce(function(I,j){return I[j]=p(C[j],U[j],b[j],y.options[j]),I},{}),q=p(C.color,U.color,W.colorByPoint?s.color:b.color);return s.isNode?{fill:q,stroke:W.borderColor,"stroke-width":W.borderWidth,opacity:W.opacity}:{fill:O.parse(q).setOpacity(W.linkOpacity).get()}},d.prototype.render=function(){var s=this.points;this.points=this.points.concat(this.nodes||[]),m.prototype.render.call(this),this.points=s},d.prototype.translate=function(){this.processedXData||this.processData(),this.generatePoints(),this.nodeColumns=this.createNodeColumns(),this.nodeWidth=f(this.options.nodeWidth,this.chart.plotSizeX);var s=this,r=this.chart,y=this.options,g=this.nodeWidth,b=this.nodeColumns;this.nodePadding=this.getNodePadding(),this.translationFactor=b.reduce(function(U,C){return Math.min(U,C.sankeyColumn.getTranslationFactor(s))},1/0),this.colDistance=(r.plotSizeX-g-y.borderWidth)/Math.max(1,b.length-1),s.mapOptionsToLevel=S({from:1,levels:y.levels,to:b.length-1,defaults:{borderColor:y.borderColor,borderRadius:y.borderRadius,borderWidth:y.borderWidth,color:s.color,colorByPoint:y.colorByPoint,levelIsConstant:!0,linkColor:y.linkColor,linkLineWidth:y.linkLineWidth,linkOpacity:y.linkOpacity,states:y.states}}),b.forEach(function(U){U.forEach(function(C){s.translateNode(C,U)})},this),this.nodes.forEach(function(U){U.linksFrom.forEach(function(C){(C.weight||C.isNull)&&C.to&&(s.translateLink(C),C.allowShadow=!1)})})},d.prototype.translateLink=function(s){var r=function(Pt,Wt){var jt=Pt.offset(s,Wt)*U;return Math.min(Pt.nodeY+jt,Pt.nodeY+(Pt.shapeArgs&&Pt.shapeArgs.height||0)-C)},y=s.fromNode,g=s.toNode,b=this.chart,U=this.translationFactor,C=Math.max(s.weight*U,this.options.minLinkWidth),q=(b.inverted?-this.colDistance:this.colDistance)*this.options.curveFactor,I=r(y,"linksFrom"),j=r(g,"linksTo"),Q=y.nodeX,K=this.nodeWidth,$=g.nodeX,st=s.outgoing,ot=$>Q+K;if(b.inverted&&(I=b.plotSizeY-I,j=(b.plotSizeY||0)-j,K=-K,C=-C,ot=Q>$),s.shapeType="path",s.linkBase=[I,I+C,j,j+C],ot&&"number"==typeof j)s.shapeArgs={d:[["M",Q+K,I],["C",Q+K+q,I,$-q,j,$,j],["L",$+(st?K:0),j+C/2],["L",$,j+C],["C",$-q,j+C,Q+K+q,I+C,Q+K,I+C],["Z"]]};else if("number"==typeof j){var ut=$-20-C,vt=$-20,ct=Q+K,dt=ct+20,pt=dt+C,_t=I+C,Mt=_t+20,Ct=Mt+(b.plotHeight-I-C),wt=Ct+20,Yt=wt+C,Lt=j+C,Ot=Lt+20,xt=wt+.7*C,Nt=$-.7*C,Dt=ct+.7*C;s.shapeArgs={d:[["M",ct,I],["C",Dt,I,pt,_t-.7*C,pt,Mt],["L",pt,Ct],["C",pt,xt,Dt,Yt,ct,Yt],["L",$,Yt],["C",Nt,Yt,ut,xt,ut,Ct],["L",ut,Ot],["C",ut,Lt-.7*C,Nt,j,$,j],["L",$,Lt],["C",vt,Lt,vt,Lt,vt,Ot],["L",vt,Ct],["C",vt,wt,vt,wt,$,wt],["L",ct,wt],["C",dt,wt,dt,wt,dt,Ct],["L",dt,Mt],["C",dt,_t,dt,_t,ct,_t],["Z"]]}}s.dlBox={x:Q+($-Q+K)/2,y:I+(j-I)/2,height:C,width:0},s.tooltipPos=b.inverted?[b.plotSizeY-s.dlBox.y-C/2,b.plotSizeX-s.dlBox.x]:[s.dlBox.x,s.dlBox.y+C/2],s.y=s.plotY=1,s.x=s.plotX=1,s.color||(s.color=y.color)},d.prototype.translateNode=function(s,r){var y=this.translationFactor,g=this.chart,b=this.options,U=s.getSum(),C=Math.max(Math.round(U*y),this.options.minLinkWidth),W=Math.round(this.nodeWidth),q=Math.round(b.borderWidth)%2/2,I=r.sankeyColumn.offset(s,y),j=Math.floor(p(I.absoluteTop,r.sankeyColumn.top(y)+I.relativeTop))+q,Q=Math.floor(this.colDistance*s.column+b.borderWidth/2)+f(s.options.offsetHorizontal||0,W)+q,K=g.inverted?g.plotSizeX-Q:Q;if(s.sum=U,U){s.shapeType="rect",s.nodeX=K,s.nodeY=j;var $=K,st=j,ot=s.options.width||b.width||W,rt=s.options.height||b.height||C;g.inverted&&($=K-W,st=g.plotSizeY-j-C,ot=s.options.height||b.height||W,rt=s.options.width||b.width||C),s.dlOptions=d.getDLOptions({level:this.mapOptionsToLevel[s.level],optionsPoint:s.options}),s.plotX=1,s.plotY=1,s.tooltipPos=g.inverted?[g.plotSizeY-st-rt/2,g.plotSizeX-$-ot/2]:[$+ot/2,st+rt/2],s.shapeArgs={x:$,y:st,width:ot,height:rt,display:s.hasShape()?"":"none"}}else s.dlOptions={enabled:!1}},d.defaultOptions=c(m.defaultOptions,{borderWidth:0,colorByPoint:!0,curveFactor:.33,dataLabels:{enabled:!0,backgroundColor:"none",crop:!1,nodeFormat:void 0,nodeFormatter:function(){return this.point.name},format:void 0,formatter:function(){},inside:!0},inactiveOtherPoints:!0,linkOpacity:.5,opacity:1,minLinkWidth:0,nodeWidth:20,nodePadding:10,showInLegend:!1,states:{hover:{linkOpacity:1,opacity:1},inactive:{linkOpacity:.1,opacity:.1,animation:{duration:50}}},tooltip:{followPointer:!0,headerFormat:'<span style="font-size: 10px">{series.name}</span><br/>',pointFormat:"{point.fromNode.name} \u2192 {point.toNode.name}: <b>{point.weight}</b><br/>",nodeFormat:"{point.name}: <b>{point.sum}</b><br/>"}}),d}(m);return P.compose(D,_),h(_.prototype,{animate:l.prototype.animate,createNode:P.createNode,forceDL:!0,invertible:!0,isCartesian:!1,orderNodes:!0,noSharedTooltip:!0,pointArrayMap:["from","to","weight"],pointClass:D,searchPoint:M.noop}),Z.registerSeriesType("sankey",_),_}),H(R,"masters/modules/sankey.src.js",[],function(){})},lt.exports?(F.default=F,lt.exports=F):(ht=[B(93470)],void 0!==(et=function(R){return F(R),F.Highcharts=R,F}.apply(gt,ht))&&(lt.exports=et))}}]);