"use strict";(self.webpackChunkz4d_plugin=self.webpackChunkz4d_plugin||[]).push([[524],{3524:(at,bt,H)=>{H.r(bt),H.d(bt,{NetworkModule:()=>Ge});var ut=H(4466),et=H(3638),B=H(6270),U=H(5895),Q=H(6671),W=H(4836),b=H(8929),w=H(3753),Z=H(6787),N=H(7138),y=H(7625),k=H(5778),P=H(3489);function d(e){return i=>i.lift(new D(e))}class D{constructor(i){this.value=i}call(i,o){return o.subscribe(new R(i,this.value))}}class R extends P.L{constructor(i,o){super(i),this.value=o}_next(i){this.destination.next(this.value)}}var t=H(5e3),v=H(9808);function u(e){return getComputedStyle(e)}function p(e,i){for(var o in i){var r=i[o];"number"==typeof r&&(r+="px"),e.style[o]=r}return e}function g(e){var i=document.createElement("div");return i.className=e,i}var x="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function s(e,i){if(!x)throw new Error("No element matching method supported");return x.call(e,i)}function a(e){e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)}function n(e,i){return Array.prototype.filter.call(e.children,function(o){return s(o,i)})}var c_element_thumb=function(e){return"ps__thumb-"+e},c_element_rail=function(e){return"ps__rail-"+e},c_element_consuming="ps__child--consume",c_state_focus="ps--focus",c_state_clicking="ps--clicking",c_state_active=function(e){return"ps--active-"+e},c_state_scrolling=function(e){return"ps--scrolling-"+e},h={x:null,y:null};function l(e,i){var o=e.element.classList,r=c_state_scrolling(i);o.contains(r)?clearTimeout(h[i]):o.add(r)}function T(e,i){h[i]=setTimeout(function(){return e.isAlive&&e.element.classList.remove(c_state_scrolling(i))},e.settings.scrollingThreshold)}var _=function(i){this.element=i,this.handlers={}},L={isEmpty:{configurable:!0}};_.prototype.bind=function(i,o){void 0===this.handlers[i]&&(this.handlers[i]=[]),this.handlers[i].push(o),this.element.addEventListener(i,o,!1)},_.prototype.unbind=function(i,o){var r=this;this.handlers[i]=this.handlers[i].filter(function(f){return!(!o||f===o)||(r.element.removeEventListener(i,f,!1),!1)})},_.prototype.unbindAll=function(){for(var i in this.handlers)this.unbind(i)},L.isEmpty.get=function(){var e=this;return Object.keys(this.handlers).every(function(i){return 0===e.handlers[i].length})},Object.defineProperties(_.prototype,L);var Y=function(){this.eventElements=[]};function A(e){if("function"==typeof window.CustomEvent)return new CustomEvent(e);var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,!1,!1,void 0),i}function I(e,i,o,r,f){var C;if(void 0===r&&(r=!0),void 0===f&&(f=!1),"top"===i)C=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==i)throw new Error("A proper axis should be provided");C=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function X(e,i,o,r,f){var C=o[0],m=o[1],M=o[2],E=o[3],O=o[4],K=o[5];void 0===r&&(r=!0),void 0===f&&(f=!1);var $=e.element;e.reach[E]=null,$[M]<1&&(e.reach[E]="start"),$[M]>e[C]-e[m]-1&&(e.reach[E]="end"),i&&($.dispatchEvent(A("ps-scroll-"+E)),i<0?$.dispatchEvent(A("ps-scroll-"+O)):i>0&&$.dispatchEvent(A("ps-scroll-"+K)),r&&function S(e,i){l(e,i),T(e,i)}(e,E)),e.reach[E]&&(i||f)&&$.dispatchEvent(A("ps-"+E+"-reach-"+e.reach[E]))}(e,o,C,r,f)}function F(e){return parseInt(e,10)||0}Y.prototype.eventElement=function(i){var o=this.eventElements.filter(function(r){return r.element===i})[0];return o||(o=new _(i),this.eventElements.push(o)),o},Y.prototype.bind=function(i,o,r){this.eventElement(i).bind(o,r)},Y.prototype.unbind=function(i,o,r){var f=this.eventElement(i);f.unbind(o,r),f.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(f),1)},Y.prototype.unbindAll=function(){this.eventElements.forEach(function(i){return i.unbindAll()}),this.eventElements=[]},Y.prototype.once=function(i,o,r){var f=this.eventElement(i),C=function(m){f.unbind(o,C),r(m)};f.bind(o,C)};var J={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)};function j(e){var i=e.element,o=Math.floor(i.scrollTop),r=i.getBoundingClientRect();e.containerWidth=Math.ceil(r.width),e.containerHeight=Math.ceil(r.height),e.contentWidth=i.scrollWidth,e.contentHeight=i.scrollHeight,i.contains(e.scrollbarXRail)||(n(i,c_element_rail("x")).forEach(function(f){return a(f)}),i.appendChild(e.scrollbarXRail)),i.contains(e.scrollbarYRail)||(n(i,c_element_rail("y")).forEach(function(f){return a(f)}),i.appendChild(e.scrollbarYRail)),!e.settings.suppressScrollX&&e.containerWidth+e.settings.scrollXMarginOffset<e.contentWidth?(e.scrollbarXActive=!0,e.railXWidth=e.containerWidth-e.railXMarginWidth,e.railXRatio=e.containerWidth/e.railXWidth,e.scrollbarXWidth=nt(e,F(e.railXWidth*e.containerWidth/e.contentWidth)),e.scrollbarXLeft=F((e.negativeScrollAdjustment+i.scrollLeft)*(e.railXWidth-e.scrollbarXWidth)/(e.contentWidth-e.containerWidth))):e.scrollbarXActive=!1,!e.settings.suppressScrollY&&e.containerHeight+e.settings.scrollYMarginOffset<e.contentHeight?(e.scrollbarYActive=!0,e.railYHeight=e.containerHeight-e.railYMarginHeight,e.railYRatio=e.containerHeight/e.railYHeight,e.scrollbarYHeight=nt(e,F(e.railYHeight*e.containerHeight/e.contentHeight)),e.scrollbarYTop=F(o*(e.railYHeight-e.scrollbarYHeight)/(e.contentHeight-e.containerHeight))):e.scrollbarYActive=!1,e.scrollbarXLeft>=e.railXWidth-e.scrollbarXWidth&&(e.scrollbarXLeft=e.railXWidth-e.scrollbarXWidth),e.scrollbarYTop>=e.railYHeight-e.scrollbarYHeight&&(e.scrollbarYTop=e.railYHeight-e.scrollbarYHeight),function lt(e,i){var o={width:i.railXWidth},r=Math.floor(e.scrollTop);o.left=i.isRtl?i.negativeScrollAdjustment+e.scrollLeft+i.containerWidth-i.contentWidth:e.scrollLeft,i.isScrollbarXUsingBottom?o.bottom=i.scrollbarXBottom-r:o.top=i.scrollbarXTop+r,p(i.scrollbarXRail,o);var f={top:r,height:i.railYHeight};i.isScrollbarYUsingRight?f.right=i.isRtl?i.contentWidth-(i.negativeScrollAdjustment+e.scrollLeft)-i.scrollbarYRight-i.scrollbarYOuterWidth-9:i.scrollbarYRight-e.scrollLeft:f.left=i.isRtl?i.negativeScrollAdjustment+e.scrollLeft+2*i.containerWidth-i.contentWidth-i.scrollbarYLeft-i.scrollbarYOuterWidth:i.scrollbarYLeft+e.scrollLeft,p(i.scrollbarYRail,f),p(i.scrollbarX,{left:i.scrollbarXLeft,width:i.scrollbarXWidth-i.railBorderXWidth}),p(i.scrollbarY,{top:i.scrollbarYTop,height:i.scrollbarYHeight-i.railBorderYWidth})}(i,e),e.scrollbarXActive?i.classList.add(c_state_active("x")):(i.classList.remove(c_state_active("x")),e.scrollbarXWidth=0,e.scrollbarXLeft=0,i.scrollLeft=!0===e.isRtl?e.contentWidth:0),e.scrollbarYActive?i.classList.add(c_state_active("y")):(i.classList.remove(c_state_active("y")),e.scrollbarYHeight=0,e.scrollbarYTop=0,i.scrollTop=0)}function nt(e,i){return e.settings.minScrollbarLength&&(i=Math.max(i,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(i=Math.min(i,e.settings.maxScrollbarLength)),i}function vt(e,i){var o=i[0],r=i[1],f=i[2],C=i[3],m=i[4],M=i[5],E=i[6],O=i[7],K=i[8],$=e.element,st=null,wt=null,V=null;function it(G){G.touches&&G.touches[0]&&(G[f]=G.touches[0].pageY),$[E]=st+V*(G[f]-wt),l(e,O),j(e),G.stopPropagation(),G.preventDefault()}function ft(){T(e,O),e[K].classList.remove(c_state_clicking),e.event.unbind(e.ownerDocument,"mousemove",it)}function tt(G,yt){st=$[E],yt&&G.touches&&(G[f]=G.touches[0].pageY),wt=G[f],V=(e[r]-e[o])/(e[C]-e[M]),yt?e.event.bind(e.ownerDocument,"touchmove",it):(e.event.bind(e.ownerDocument,"mousemove",it),e.event.once(e.ownerDocument,"mouseup",ft),G.preventDefault()),e[K].classList.add(c_state_clicking),G.stopPropagation()}e.event.bind(e[m],"mousedown",function(G){tt(G)}),e.event.bind(e[m],"touchstart",function(G){tt(G,!0)})}var Tt={"click-rail":function ot(e){e.event.bind(e.scrollbarY,"mousedown",function(o){return o.stopPropagation()}),e.event.bind(e.scrollbarYRail,"mousedown",function(o){var r=o.pageY-window.pageYOffset-e.scrollbarYRail.getBoundingClientRect().top;e.element.scrollTop+=(r>e.scrollbarYTop?1:-1)*e.containerHeight,j(e),o.stopPropagation()}),e.event.bind(e.scrollbarX,"mousedown",function(o){return o.stopPropagation()}),e.event.bind(e.scrollbarXRail,"mousedown",function(o){var r=o.pageX-window.pageXOffset-e.scrollbarXRail.getBoundingClientRect().left;e.element.scrollLeft+=(r>e.scrollbarXLeft?1:-1)*e.containerWidth,j(e),o.stopPropagation()})},"drag-thumb":function Ct(e){vt(e,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),vt(e,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function ct(e){var i=e.element;e.event.bind(e.ownerDocument,"keydown",function(C){if(!(C.isDefaultPrevented&&C.isDefaultPrevented()||C.defaultPrevented)&&(s(i,":hover")||s(e.scrollbarX,":focus")||s(e.scrollbarY,":focus"))){var m=document.activeElement?document.activeElement:e.ownerDocument.activeElement;if(m){if("IFRAME"===m.tagName)m=m.contentDocument.activeElement;else for(;m.shadowRoot;)m=m.shadowRoot.activeElement;if(function q(e){return s(e,"input,[contenteditable]")||s(e,"select,[contenteditable]")||s(e,"textarea,[contenteditable]")||s(e,"button,[contenteditable]")}(m))return}var M=0,E=0;switch(C.which){case 37:M=C.metaKey?-e.contentWidth:C.altKey?-e.containerWidth:-30;break;case 38:E=C.metaKey?e.contentHeight:C.altKey?e.containerHeight:30;break;case 39:M=C.metaKey?e.contentWidth:C.altKey?e.containerWidth:30;break;case 40:E=C.metaKey?-e.contentHeight:C.altKey?-e.containerHeight:-30;break;case 32:E=C.shiftKey?e.containerHeight:-e.containerHeight;break;case 33:E=e.containerHeight;break;case 34:E=-e.containerHeight;break;case 36:E=e.contentHeight;break;case 35:E=-e.contentHeight;break;default:return}e.settings.suppressScrollX&&0!==M||e.settings.suppressScrollY&&0!==E||(i.scrollTop-=E,i.scrollLeft+=M,j(e),function f(C,m){var M=Math.floor(i.scrollTop);if(0===C){if(!e.scrollbarYActive)return!1;if(0===M&&m>0||M>=e.contentHeight-e.containerHeight&&m<0)return!e.settings.wheelPropagation}var E=i.scrollLeft;if(0===m){if(!e.scrollbarXActive)return!1;if(0===E&&C<0||E>=e.contentWidth-e.containerWidth&&C>0)return!e.settings.wheelPropagation}return!0}(M,E)&&C.preventDefault())}})},wheel:function _t(e){var i=e.element;function C(m){var M=function r(m){var M=m.deltaX,E=-1*m.deltaY;return(void 0===M||void 0===E)&&(M=-1*m.wheelDeltaX/6,E=m.wheelDeltaY/6),m.deltaMode&&1===m.deltaMode&&(M*=10,E*=10),M!=M&&E!=E&&(M=0,E=m.wheelDelta),m.shiftKey?[-E,-M]:[M,E]}(m),E=M[0],O=M[1];if(!function f(m,M,E){if(!J.isWebKit&&i.querySelector("select:focus"))return!0;if(!i.contains(m))return!1;for(var O=m;O&&O!==i;){if(O.classList.contains(c_element_consuming))return!0;var K=u(O);if(E&&K.overflowY.match(/(scroll|auto)/)){var $=O.scrollHeight-O.clientHeight;if($>0&&(O.scrollTop>0&&E<0||O.scrollTop<$&&E>0))return!0}if(M&&K.overflowX.match(/(scroll|auto)/)){var st=O.scrollWidth-O.clientWidth;if(st>0&&(O.scrollLeft>0&&M<0||O.scrollLeft<st&&M>0))return!0}O=O.parentNode}return!1}(m.target,E,O)){var K=!1;e.settings.useBothWheelAxes?e.scrollbarYActive&&!e.scrollbarXActive?(O?i.scrollTop-=O*e.settings.wheelSpeed:i.scrollTop+=E*e.settings.wheelSpeed,K=!0):e.scrollbarXActive&&!e.scrollbarYActive&&(E?i.scrollLeft+=E*e.settings.wheelSpeed:i.scrollLeft-=O*e.settings.wheelSpeed,K=!0):(i.scrollTop-=O*e.settings.wheelSpeed,i.scrollLeft+=E*e.settings.wheelSpeed),j(e),K=K||function o(m,M){var E=Math.floor(i.scrollTop),O=0===i.scrollTop,K=E+i.offsetHeight===i.scrollHeight,$=0===i.scrollLeft,st=i.scrollLeft+i.offsetWidth===i.scrollWidth;return!(Math.abs(M)>Math.abs(m)?O||K:$||st)||!e.settings.wheelPropagation}(E,O),K&&!m.ctrlKey&&(m.stopPropagation(),m.preventDefault())}}void 0!==window.onwheel?e.event.bind(i,"wheel",C):void 0!==window.onmousewheel&&e.event.bind(i,"mousewheel",C)},touch:function mt(e){if(J.supportsTouch||J.supportsIePointer){var i=e.element,f={},C=0,m={},M=null;J.supportsTouch?(e.event.bind(i,"touchstart",K),e.event.bind(i,"touchmove",st),e.event.bind(i,"touchend",wt)):J.supportsIePointer&&(window.PointerEvent?(e.event.bind(i,"pointerdown",K),e.event.bind(i,"pointermove",st),e.event.bind(i,"pointerup",wt)):window.MSPointerEvent&&(e.event.bind(i,"MSPointerDown",K),e.event.bind(i,"MSPointerMove",st),e.event.bind(i,"MSPointerUp",wt)))}function r(V,it){i.scrollTop-=it,i.scrollLeft-=V,j(e)}function E(V){return V.targetTouches?V.targetTouches[0]:V}function O(V){return!(V.pointerType&&"pen"===V.pointerType&&0===V.buttons||!(V.targetTouches&&1===V.targetTouches.length||V.pointerType&&"mouse"!==V.pointerType&&V.pointerType!==V.MSPOINTER_TYPE_MOUSE))}function K(V){if(O(V)){var it=E(V);f.pageX=it.pageX,f.pageY=it.pageY,C=(new Date).getTime(),null!==M&&clearInterval(M)}}function st(V){if(O(V)){var it=E(V),ft={pageX:it.pageX,pageY:it.pageY},tt=ft.pageX-f.pageX,G=ft.pageY-f.pageY;if(function $(V,it,ft){if(!i.contains(V))return!1;for(var tt=V;tt&&tt!==i;){if(tt.classList.contains(c_element_consuming))return!0;var G=u(tt);if(ft&&G.overflowY.match(/(scroll|auto)/)){var yt=tt.scrollHeight-tt.clientHeight;if(yt>0&&(tt.scrollTop>0&&ft<0||tt.scrollTop<yt&&ft>0))return!0}if(it&&G.overflowX.match(/(scroll|auto)/)){var At=tt.scrollWidth-tt.clientWidth;if(At>0&&(tt.scrollLeft>0&&it<0||tt.scrollLeft<At&&it>0))return!0}tt=tt.parentNode}return!1}(V.target,tt,G))return;r(tt,G),f=ft;var yt=(new Date).getTime(),At=yt-C;At>0&&(m.x=tt/At,m.y=G/At,C=yt),function o(V,it){var ft=Math.floor(i.scrollTop),tt=i.scrollLeft,G=Math.abs(V),yt=Math.abs(it);if(yt>G){if(it<0&&ft===e.contentHeight-e.containerHeight||it>0&&0===ft)return 0===window.scrollY&&it>0&&J.isChrome}else if(G>yt&&(V<0&&tt===e.contentWidth-e.containerWidth||V>0&&0===tt))return!0;return!0}(tt,G)&&V.preventDefault()}}function wt(){e.settings.swipeEasing&&(clearInterval(M),M=setInterval(function(){e.isInitialized?clearInterval(M):m.x||m.y?Math.abs(m.x)<.01&&Math.abs(m.y)<.01?clearInterval(M):(r(30*m.x,30*m.y),m.x*=.8,m.y*=.8):clearInterval(M)},10))}}},ht=function(i,o){var r=this;if(void 0===o&&(o={}),"string"==typeof i&&(i=document.querySelector(i)),!i||!i.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var f in this.element=i,i.classList.add("ps"),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},o)this.settings[f]=o[f];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var K,O,C=function(){return i.classList.add(c_state_focus)},m=function(){return i.classList.remove(c_state_focus)};this.isRtl="rtl"===u(i).direction,!0===this.isRtl&&i.classList.add("ps__rtl"),this.isNegativeScroll=(O=i.scrollLeft,i.scrollLeft=-1,K=i.scrollLeft<0,i.scrollLeft=O,K),this.negativeScrollAdjustment=this.isNegativeScroll?i.scrollWidth-i.clientWidth:0,this.event=new Y,this.ownerDocument=i.ownerDocument||document,this.scrollbarXRail=g(c_element_rail("x")),i.appendChild(this.scrollbarXRail),this.scrollbarX=g(c_element_thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",C),this.event.bind(this.scrollbarX,"blur",m),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var M=u(this.scrollbarXRail);this.scrollbarXBottom=parseInt(M.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=F(M.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=F(M.borderLeftWidth)+F(M.borderRightWidth),p(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=F(M.marginLeft)+F(M.marginRight),p(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=g(c_element_rail("y")),i.appendChild(this.scrollbarYRail),this.scrollbarY=g(c_element_thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",C),this.event.bind(this.scrollbarY,"blur",m),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var E=u(this.scrollbarYRail);this.scrollbarYRight=parseInt(E.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=F(E.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function z(e){var i=u(e);return F(i.width)+F(i.paddingLeft)+F(i.paddingRight)+F(i.borderLeftWidth)+F(i.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=F(E.borderTopWidth)+F(E.borderBottomWidth),p(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=F(E.marginTop)+F(E.marginBottom),p(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:i.scrollLeft<=0?"start":i.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:i.scrollTop<=0?"start":i.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(O){return Tt[O](r)}),this.lastScrollTop=Math.floor(i.scrollTop),this.lastScrollLeft=i.scrollLeft,this.event.bind(this.element,"scroll",function(O){return r.onScroll(O)}),j(this)};ht.prototype.update=function(){!this.isAlive||(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,p(this.scrollbarXRail,{display:"block"}),p(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=F(u(this.scrollbarXRail).marginLeft)+F(u(this.scrollbarXRail).marginRight),this.railYMarginHeight=F(u(this.scrollbarYRail).marginTop)+F(u(this.scrollbarYRail).marginBottom),p(this.scrollbarXRail,{display:"none"}),p(this.scrollbarYRail,{display:"none"}),j(this),I(this,"top",0,!1,!0),I(this,"left",0,!1,!0),p(this.scrollbarXRail,{display:""}),p(this.scrollbarYRail,{display:""}))},ht.prototype.onScroll=function(i){!this.isAlive||(j(this),I(this,"top",this.element.scrollTop-this.lastScrollTop),I(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},ht.prototype.destroy=function(){!this.isAlive||(this.event.unbindAll(),a(this.scrollbarX),a(this.scrollbarY),a(this.scrollbarXRail),a(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},ht.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(i){return!i.match(/^ps([-_].+|)$/)}).join(" ")};const gt=ht;var Pt=function(){if("undefined"!=typeof Map)return Map;function e(i,o){var r=-1;return i.some(function(f,C){return f[0]===o&&(r=C,!0)}),r}return function(){function i(){this.__entries__=[]}return Object.defineProperty(i.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),i.prototype.get=function(o){var r=e(this.__entries__,o),f=this.__entries__[r];return f&&f[1]},i.prototype.set=function(o,r){var f=e(this.__entries__,o);~f?this.__entries__[f][1]=r:this.__entries__.push([o,r])},i.prototype.delete=function(o){var r=this.__entries__,f=e(r,o);~f&&r.splice(f,1)},i.prototype.has=function(o){return!!~e(this.__entries__,o)},i.prototype.clear=function(){this.__entries__.splice(0)},i.prototype.forEach=function(o,r){void 0===r&&(r=null);for(var f=0,C=this.__entries__;f<C.length;f++){var m=C[f];o.call(r,m[1],m[0])}},i}()}(),xt="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,pt="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),Mt="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(pt):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)},Wt=["top","right","bottom","left","width","height","size","weight"],Ot="undefined"!=typeof MutationObserver,Bt=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function Nt(e,i){var o=!1,r=!1,f=0;function C(){o&&(o=!1,e()),r&&M()}function m(){Mt(C)}function M(){var E=Date.now();if(o){if(E-f<2)return;r=!0}else o=!0,r=!1,setTimeout(m,i);f=E}return M}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(i){~this.observers_.indexOf(i)||this.observers_.push(i),this.connected_||this.connect_()},e.prototype.removeObserver=function(i){var o=this.observers_,r=o.indexOf(i);~r&&o.splice(r,1),!o.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var i=this.observers_.filter(function(o){return o.gatherActive(),o.hasActive()});return i.forEach(function(o){return o.broadcastActive()}),i.length>0},e.prototype.connect_=function(){!xt||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Ot?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!xt||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(i){var o=i.propertyName,r=void 0===o?"":o;Wt.some(function(C){return!!~r.indexOf(C)})&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),Yt=function(e,i){for(var o=0,r=Object.keys(i);o<r.length;o++){var f=r[o];Object.defineProperty(e,f,{value:i[f],enumerable:!1,writable:!1,configurable:!0})}return e},St=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||pt},Lt=Ft(0,0,0,0);function Zt(e){return parseFloat(e)||0}function Xt(e){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];return i.reduce(function(r,f){return r+Zt(e["border-"+f+"-width"])},0)}var se="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof St(e).SVGGraphicsElement}:function(e){return e instanceof St(e).SVGElement&&"function"==typeof e.getBBox};function le(e){return xt?se(e)?function ne(e){var i=e.getBBox();return Ft(0,0,i.width,i.height)}(e):function re(e){var i=e.clientWidth,o=e.clientHeight;if(!i&&!o)return Lt;var r=St(e).getComputedStyle(e),f=function qt(e){for(var o={},r=0,f=["top","right","bottom","left"];r<f.length;r++){var C=f[r];o[C]=Zt(e["padding-"+C])}return o}(r),C=f.left+f.right,m=f.top+f.bottom,M=Zt(r.width),E=Zt(r.height);if("border-box"===r.boxSizing&&(Math.round(M+C)!==i&&(M-=Xt(r,"left","right")+C),Math.round(E+m)!==o&&(E-=Xt(r,"top","bottom")+m)),!function ae(e){return e===St(e).document.documentElement}(e)){var O=Math.round(M+C)-i,K=Math.round(E+m)-o;1!==Math.abs(O)&&(M-=O),1!==Math.abs(K)&&(E-=K)}return Ft(f.left,f.top,M,E)}(e):Lt}function Ft(e,i,o,r){return{x:e,y:i,width:o,height:r}}var he=function(){function e(i){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Ft(0,0,0,0),this.target=i}return e.prototype.isActive=function(){var i=le(this.target);return this.contentRect_=i,i.width!==this.broadcastWidth||i.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var i=this.contentRect_;return this.broadcastWidth=i.width,this.broadcastHeight=i.height,i},e}(),ue=function e(i,o){var r=function ce(e){var i=e.x,o=e.y,r=e.width,f=e.height,C="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,m=Object.create(C.prototype);return Yt(m,{x:i,y:o,width:r,height:f,top:o,right:i+r,bottom:f+o,left:i}),m}(o);Yt(this,{target:i,contentRect:r})},pe=function(){function e(i,o,r){if(this.activeObservations_=[],this.observations_=new Pt,"function"!=typeof i)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=i,this.controller_=o,this.callbackCtx_=r}return e.prototype.observe=function(i){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(i instanceof St(i).Element))throw new TypeError('parameter 1 is not of type "Element".');var o=this.observations_;o.has(i)||(o.set(i,new he(i)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(i){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(i instanceof St(i).Element))throw new TypeError('parameter 1 is not of type "Element".');var o=this.observations_;!o.has(i)||(o.delete(i),o.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var i=this;this.clearActive(),this.observations_.forEach(function(o){o.isActive()&&i.activeObservations_.push(o)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var i=this.callbackCtx_,o=this.activeObservations_.map(function(r){return new ue(r.target,r.broadcastRect())});this.callback_.call(i,o,i),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),zt="undefined"!=typeof WeakMap?new WeakMap:new Pt,Qt=function e(i){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var o=Bt.getInstance(),r=new pe(i,o,this);zt.set(this,r)};["observe","unobserve","disconnect"].forEach(function(e){Qt.prototype[e]=function(){var i;return(i=zt.get(this))[e].apply(i,arguments)}});const fe=void 0!==pt.ResizeObserver?pt.ResizeObserver:Qt;function ve(e,i){if(1&e&&(t.TgZ(0,"div",3),t._uU(1,"\n    "),t._UZ(2,"div",4),t._uU(3,"\n    "),t._UZ(4,"div",5),t._uU(5,"\n    "),t._UZ(6,"div",6),t._uU(7,"\n    "),t._UZ(8,"div",7),t._uU(9,"\n  "),t.qZA()),2&e){const o=t.oxw();t.ekj("ps-at-top",o.states.top)("ps-at-left",o.states.left)("ps-at-right",o.states.right)("ps-at-bottom",o.states.bottom),t.xp6(2),t.ekj("ps-indicator-show",o.indicatorY&&o.interaction),t.xp6(2),t.ekj("ps-indicator-show",o.indicatorX&&o.interaction),t.xp6(2),t.ekj("ps-indicator-show",o.indicatorX&&o.interaction),t.xp6(2),t.ekj("ps-indicator-show",o.indicatorY&&o.interaction)}}const me=["*"],Jt=new t.OlP("PERFECT_SCROLLBAR_CONFIG");class ge{constructor(i,o,r,f){this.x=i,this.y=o,this.w=r,this.h=f}}class Kt{constructor(i,o){this.x=i,this.y=o}}const Vt=["psScrollY","psScrollX","psScrollUp","psScrollDown","psScrollLeft","psScrollRight","psYReachEnd","psYReachStart","psXReachEnd","psXReachStart"];class ye{constructor(i={}){this.assign(i)}assign(i={}){for(const o in i)this[o]=i[o]}}let Gt=(()=>{class e{constructor(o,r,f,C,m){this.zone=o,this.differs=r,this.elementRef=f,this.platformId=C,this.defaults=m,this.instance=null,this.ro=null,this.timeout=null,this.animation=null,this.configDiff=null,this.ngDestroy=new b.xQ,this.disabled=!1,this.psScrollY=new t.vpe,this.psScrollX=new t.vpe,this.psScrollUp=new t.vpe,this.psScrollDown=new t.vpe,this.psScrollLeft=new t.vpe,this.psScrollRight=new t.vpe,this.psYReachEnd=new t.vpe,this.psYReachStart=new t.vpe,this.psXReachEnd=new t.vpe,this.psXReachStart=new t.vpe}ngOnInit(){if(!this.disabled&&(0,v.NF)(this.platformId)){const o=new ye(this.defaults);o.assign(this.config),this.zone.runOutsideAngular(()=>{this.instance=new gt(this.elementRef.nativeElement,o)}),this.configDiff||(this.configDiff=this.differs.find(this.config||{}).create(),this.configDiff.diff(this.config||{})),this.zone.runOutsideAngular(()=>{this.ro=new fe(()=>{this.update()}),this.elementRef.nativeElement.children[0]&&this.ro.observe(this.elementRef.nativeElement.children[0]),this.ro.observe(this.elementRef.nativeElement)}),this.zone.runOutsideAngular(()=>{Vt.forEach(r=>{const f=r.replace(/([A-Z])/g,C=>`-${C.toLowerCase()}`);(0,w.R)(this.elementRef.nativeElement,f).pipe((0,N.e)(20),(0,y.R)(this.ngDestroy)).subscribe(C=>{this[r].emit(C)})})})}}ngOnDestroy(){(0,v.NF)(this.platformId)&&(this.ngDestroy.next(),this.ngDestroy.complete(),this.ro&&this.ro.disconnect(),this.timeout&&"undefined"!=typeof window&&window.clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.instance&&this.instance.destroy()}),this.instance=null)}ngDoCheck(){!this.disabled&&this.configDiff&&(0,v.NF)(this.platformId)&&this.configDiff.diff(this.config||{})&&(this.ngOnDestroy(),this.ngOnInit())}ngOnChanges(o){o.disabled&&!o.disabled.isFirstChange()&&(0,v.NF)(this.platformId)&&o.disabled.currentValue!==o.disabled.previousValue&&(!0===o.disabled.currentValue?this.ngOnDestroy():!1===o.disabled.currentValue&&this.ngOnInit())}ps(){return this.instance}update(){"undefined"!=typeof window&&(this.timeout&&window.clearTimeout(this.timeout),this.timeout=window.setTimeout(()=>{if(!this.disabled&&this.configDiff)try{this.zone.runOutsideAngular(()=>{this.instance&&this.instance.update()})}catch(o){}},0))}geometry(o="scroll"){return new ge(this.elementRef.nativeElement[o+"Left"],this.elementRef.nativeElement[o+"Top"],this.elementRef.nativeElement[o+"Width"],this.elementRef.nativeElement[o+"Height"])}position(o=!1){return!o&&this.instance?new Kt(this.instance.reach.x||0,this.instance.reach.y||0):new Kt(this.elementRef.nativeElement.scrollLeft,this.elementRef.nativeElement.scrollTop)}scrollable(o="any"){const r=this.elementRef.nativeElement;return"any"===o?r.classList.contains("ps--active-x")||r.classList.contains("ps--active-y"):"both"===o?r.classList.contains("ps--active-x")&&r.classList.contains("ps--active-y"):r.classList.contains("ps--active-"+o)}scrollTo(o,r,f){this.disabled||(null==r&&null==f?this.animateScrolling("scrollTop",o,f):(null!=o&&this.animateScrolling("scrollLeft",o,f),null!=r&&this.animateScrolling("scrollTop",r,f)))}scrollToX(o,r){this.animateScrolling("scrollLeft",o,r)}scrollToY(o,r){this.animateScrolling("scrollTop",o,r)}scrollToTop(o,r){this.animateScrolling("scrollTop",o||0,r)}scrollToLeft(o,r){this.animateScrolling("scrollLeft",o||0,r)}scrollToRight(o,r){this.animateScrolling("scrollLeft",this.elementRef.nativeElement.scrollWidth-this.elementRef.nativeElement.clientWidth-(o||0),r)}scrollToBottom(o,r){this.animateScrolling("scrollTop",this.elementRef.nativeElement.scrollHeight-this.elementRef.nativeElement.clientHeight-(o||0),r)}scrollToElement(o,r,f){if("string"==typeof o&&(o=this.elementRef.nativeElement.querySelector(o)),o){const C=o.getBoundingClientRect(),m=this.elementRef.nativeElement.getBoundingClientRect();this.elementRef.nativeElement.classList.contains("ps--active-x")&&this.animateScrolling("scrollLeft",C.left-m.left+this.elementRef.nativeElement.scrollLeft+(r||0),f),this.elementRef.nativeElement.classList.contains("ps--active-y")&&this.animateScrolling("scrollTop",C.top-m.top+this.elementRef.nativeElement.scrollTop+(r||0),f)}}animateScrolling(o,r,f){if(this.animation&&(window.cancelAnimationFrame(this.animation),this.animation=null),f&&"undefined"!=typeof window){if(r!==this.elementRef.nativeElement[o]){let C=0,m=0,M=performance.now(),E=this.elementRef.nativeElement[o];const O=(E-r)/2,K=$=>{m+=Math.PI/(f/($-M)),C=Math.round(r+O+O*Math.cos(m)),this.elementRef.nativeElement[o]===E&&(m>=Math.PI?this.animateScrolling(o,r,0):(this.elementRef.nativeElement[o]=C,E=this.elementRef.nativeElement[o],M=$,this.animation=window.requestAnimationFrame(K)))};window.requestAnimationFrame(K)}}else this.elementRef.nativeElement[o]=r}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(t.R0b),t.Y36(t.aQg),t.Y36(t.SBq),t.Y36(t.Lbi),t.Y36(Jt,8))},e.\u0275dir=t.lG2({type:e,selectors:[["","perfectScrollbar",""]],inputs:{disabled:"disabled",config:["perfectScrollbar","config"]},outputs:{psScrollY:"psScrollY",psScrollX:"psScrollX",psScrollUp:"psScrollUp",psScrollDown:"psScrollDown",psScrollLeft:"psScrollLeft",psScrollRight:"psScrollRight",psYReachEnd:"psYReachEnd",psYReachStart:"psYReachStart",psXReachEnd:"psXReachEnd",psXReachStart:"psXReachStart"},exportAs:["ngxPerfectScrollbar"],features:[t.TTD]}),e})(),Ut=(()=>{class e{constructor(o,r,f){this.zone=o,this.cdRef=r,this.platformId=f,this.states={},this.indicatorX=!1,this.indicatorY=!1,this.interaction=!1,this.scrollPositionX=0,this.scrollPositionY=0,this.scrollDirectionX=0,this.scrollDirectionY=0,this.usePropagationX=!1,this.usePropagationY=!1,this.allowPropagationX=!1,this.allowPropagationY=!1,this.stateTimeout=null,this.ngDestroy=new b.xQ,this.stateUpdate=new b.xQ,this.disabled=!1,this.usePSClass=!0,this.autoPropagation=!1,this.scrollIndicators=!1,this.psScrollY=new t.vpe,this.psScrollX=new t.vpe,this.psScrollUp=new t.vpe,this.psScrollDown=new t.vpe,this.psScrollLeft=new t.vpe,this.psScrollRight=new t.vpe,this.psYReachEnd=new t.vpe,this.psYReachStart=new t.vpe,this.psXReachEnd=new t.vpe,this.psXReachStart=new t.vpe}ngOnInit(){(0,v.NF)(this.platformId)&&(this.stateUpdate.pipe((0,y.R)(this.ngDestroy),(0,k.x)((o,r)=>o===r&&!this.stateTimeout)).subscribe(o=>{this.stateTimeout&&"undefined"!=typeof window&&(window.clearTimeout(this.stateTimeout),this.stateTimeout=null),"x"===o||"y"===o?(this.interaction=!1,"x"===o?(this.indicatorX=!1,this.states.left=!1,this.states.right=!1,this.autoPropagation&&this.usePropagationX&&(this.allowPropagationX=!1)):"y"===o&&(this.indicatorY=!1,this.states.top=!1,this.states.bottom=!1,this.autoPropagation&&this.usePropagationY&&(this.allowPropagationY=!1))):("left"===o||"right"===o?(this.states.left=!1,this.states.right=!1,this.states[o]=!0,this.autoPropagation&&this.usePropagationX&&(this.indicatorX=!0)):("top"===o||"bottom"===o)&&(this.states.top=!1,this.states.bottom=!1,this.states[o]=!0,this.autoPropagation&&this.usePropagationY&&(this.indicatorY=!0)),this.autoPropagation&&"undefined"!=typeof window&&(this.stateTimeout=window.setTimeout(()=>{this.indicatorX=!1,this.indicatorY=!1,this.stateTimeout=null,this.interaction&&(this.states.left||this.states.right)&&(this.allowPropagationX=!0),this.interaction&&(this.states.top||this.states.bottom)&&(this.allowPropagationY=!0),this.cdRef.markForCheck()},500))),this.cdRef.markForCheck(),this.cdRef.detectChanges()}),this.zone.runOutsideAngular(()=>{if(this.directiveRef){const o=this.directiveRef.elementRef.nativeElement;(0,w.R)(o,"wheel").pipe((0,y.R)(this.ngDestroy)).subscribe(r=>{!this.disabled&&this.autoPropagation&&this.checkPropagation(r,r.deltaX,r.deltaY)}),(0,w.R)(o,"touchmove").pipe((0,y.R)(this.ngDestroy)).subscribe(r=>{if(!this.disabled&&this.autoPropagation){const f=r.touches[0].clientX,C=r.touches[0].clientY;this.checkPropagation(r,f-this.scrollPositionX,C-this.scrollPositionY),this.scrollPositionX=f,this.scrollPositionY=C}}),(0,Z.T)((0,w.R)(o,"ps-scroll-x").pipe(d("x")),(0,w.R)(o,"ps-scroll-y").pipe(d("y")),(0,w.R)(o,"ps-x-reach-end").pipe(d("right")),(0,w.R)(o,"ps-y-reach-end").pipe(d("bottom")),(0,w.R)(o,"ps-x-reach-start").pipe(d("left")),(0,w.R)(o,"ps-y-reach-start").pipe(d("top"))).pipe((0,y.R)(this.ngDestroy)).subscribe(r=>{!this.disabled&&(this.autoPropagation||this.scrollIndicators)&&this.stateUpdate.next(r)})}}),window.setTimeout(()=>{Vt.forEach(o=>{this.directiveRef&&(this.directiveRef[o]=this[o])})},0))}ngOnDestroy(){(0,v.NF)(this.platformId)&&(this.ngDestroy.next(),this.ngDestroy.unsubscribe(),this.stateTimeout&&"undefined"!=typeof window&&window.clearTimeout(this.stateTimeout))}ngDoCheck(){if((0,v.NF)(this.platformId)&&!this.disabled&&this.autoPropagation&&this.directiveRef){const o=this.directiveRef.elementRef.nativeElement;this.usePropagationX=o.classList.contains("ps--active-x"),this.usePropagationY=o.classList.contains("ps--active-y")}}checkPropagation(o,r,f){this.interaction=!0;const C=r<0?-1:1,m=f<0?-1:1;(this.usePropagationX&&this.usePropagationY||this.usePropagationX&&(!this.allowPropagationX||this.scrollDirectionX!==C)||this.usePropagationY&&(!this.allowPropagationY||this.scrollDirectionY!==m))&&(o.preventDefault(),o.stopPropagation()),r&&(this.scrollDirectionX=C),f&&(this.scrollDirectionY=m),this.stateUpdate.next("interaction"),this.cdRef.detectChanges()}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(t.R0b),t.Y36(t.sBO),t.Y36(t.Lbi))},e.\u0275cmp=t.Xpm({type:e,selectors:[["perfect-scrollbar"]],viewQuery:function(o,r){if(1&o&&t.Gf(Gt,7),2&o){let f;t.iGM(f=t.CRH())&&(r.directiveRef=f.first)}},hostVars:4,hostBindings:function(o,r){2&o&&t.ekj("ps-show-limits",r.autoPropagation)("ps-show-active",r.scrollIndicators)},inputs:{disabled:"disabled",usePSClass:"usePSClass",autoPropagation:"autoPropagation",scrollIndicators:"scrollIndicators",config:"config"},outputs:{psScrollY:"psScrollY",psScrollX:"psScrollX",psScrollUp:"psScrollUp",psScrollDown:"psScrollDown",psScrollLeft:"psScrollLeft",psScrollRight:"psScrollRight",psYReachEnd:"psYReachEnd",psYReachStart:"psYReachStart",psXReachEnd:"psXReachEnd",psXReachStart:"psXReachStart"},exportAs:["ngxPerfectScrollbar"],ngContentSelectors:me,decls:10,vars:5,consts:[[2,"position","static",3,"perfectScrollbar","disabled"],[1,"ps-content"],["class","ps-overlay",3,"ps-at-top","ps-at-left","ps-at-right","ps-at-bottom",4,"ngIf"],[1,"ps-overlay"],[1,"ps-indicator-top"],[1,"ps-indicator-left"],[1,"ps-indicator-right"],[1,"ps-indicator-bottom"]],template:function(o,r){1&o&&(t.F$t(),t.TgZ(0,"div",0),t._uU(1,"\n  "),t.TgZ(2,"div",1),t._uU(3,"\n    "),t.Hsn(4),t._uU(5,"\n  "),t.qZA(),t._uU(6,"\n\n  "),t.YNc(7,ve,10,16,"div",2),t._uU(8,"\n"),t.qZA(),t._uU(9,"\n")),2&o&&(t.ekj("ps",r.usePSClass),t.Q6J("perfectScrollbar",r.config)("disabled",r.disabled),t.xp6(7),t.Q6J("ngIf",r.scrollIndicators))},directives:[Gt,v.O5],styles:["perfect-scrollbar{display:block;height:100%;max-height:100%;max-width:100%;overflow:hidden;position:relative;width:100%}perfect-scrollbar[hidden]{display:none}perfect-scrollbar[fxflex]{display:flex;flex-direction:column;height:auto;min-height:0;min-width:0}perfect-scrollbar[fxflex]>.ps{-webkit-box-flex:1;flex:1 1 auto;height:auto;min-height:0;min-width:0;width:auto}perfect-scrollbar[fxlayout]>.ps,perfect-scrollbar[fxlayout]>.ps>.ps-content{-webkit-box-align:inherit;-webkit-box-flex:1;-webkit-box-pack:inherit;align-content:inherit;align-items:inherit;display:flex;flex:1 1 auto;flex-direction:inherit;height:100%;justify-content:inherit;width:100%},perfect-scrollbar[fxlayout=row]>.ps,perfect-scrollbar[fxlayout=row]>.ps>.ps-content{flex-direction:row!important}perfect-scrollbar[fxlayout=column]>.ps,perfect-scrollbar[fxlayout=column]>.ps>.ps-content{flex-direction:column!important}perfect-scrollbar>.ps{display:block;height:100%;max-height:100%;max-width:100%;position:static;width:100%}perfect-scrollbar>.ps textarea{-ms-overflow-style:scrollbar}perfect-scrollbar>.ps>.ps-overlay{bottom:0;display:block;left:0;overflow:hidden;pointer-events:none;position:absolute;right:0;top:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-bottom,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-left,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-right,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-top{opacity:0;position:absolute;transition:opacity .3s ease-in-out}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-bottom,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-top{left:0;min-height:24px;min-width:100%}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-left,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-right{min-height:100%;min-width:24px;top:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-top{top:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-left{left:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-right{right:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-bottom{bottom:0}perfect-scrollbar>.ps.ps--active-y>.ps__rail-y{cursor:default;left:auto!important;right:0!important;top:0!important;transition:width .2s linear,opacity .2s linear,background-color .2s linear;width:10px}perfect-scrollbar>.ps.ps--active-y>.ps__rail-y.ps--clicking,perfect-scrollbar>.ps.ps--active-y>.ps__rail-y:hover{width:15px}perfect-scrollbar>.ps.ps--active-x>.ps__rail-x{bottom:0!important;cursor:default;height:10px;left:0!important;top:auto!important;transition:height .2s linear,opacity .2s linear,background-color .2s linear}perfect-scrollbar>.ps.ps--active-x>.ps__rail-x.ps--clicking,perfect-scrollbar>.ps.ps--active-x>.ps__rail-x:hover{height:15px}perfect-scrollbar>.ps.ps--active-x.ps--active-y>.ps__rail-y{margin:0 0 10px}perfect-scrollbar>.ps.ps--active-x.ps--active-y>.ps__rail-x{margin:0 10px 0 0}perfect-scrollbar>.ps.ps--scrolling-x>.ps__rail-x,perfect-scrollbar>.ps.ps--scrolling-y>.ps__rail-y{background-color:#eee;opacity:.9}perfect-scrollbar.ps-show-always>.ps.ps--active-x>.ps__rail-x,perfect-scrollbar.ps-show-always>.ps.ps--active-y>.ps__rail-y{opacity:.6}perfect-scrollbar.ps-show-active>.ps.ps--active-y>.ps-overlay:not(.ps-at-top) .ps-indicator-top{background:linear-gradient(180deg,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,0));opacity:1}perfect-scrollbar.ps-show-active>.ps.ps--active-y>.ps-overlay:not(.ps-at-bottom) .ps-indicator-bottom{background:linear-gradient(0deg,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,0));opacity:1}perfect-scrollbar.ps-show-active>.ps.ps--active-x>.ps-overlay:not(.ps-at-left) .ps-indicator-left{background:linear-gradient(90deg,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,0));opacity:1}perfect-scrollbar.ps-show-active>.ps.ps--active-x>.ps-overlay:not(.ps-at-right) .ps-indicator-right{background:linear-gradient(270deg,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,0));opacity:1}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-top .ps-indicator-top{background:linear-gradient(180deg,hsla(0,0%,66.7%,.5) 0,hsla(0,0%,66.7%,0))}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-bottom .ps-indicator-bottom{background:linear-gradient(0deg,hsla(0,0%,66.7%,.5) 0,hsla(0,0%,66.7%,0))}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-left .ps-indicator-left{background:linear-gradient(90deg,hsla(0,0%,66.7%,.5) 0,hsla(0,0%,66.7%,0))}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-right .ps-indicator-right{background:linear-gradient(270deg,hsla(0,0%,66.7%,.5) 0,hsla(0,0%,66.7%,0))}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-left .ps-indicator-left.ps-indicator-show,perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-right .ps-indicator-right.ps-indicator-show,perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-bottom .ps-indicator-bottom.ps-indicator-show,perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-top .ps-indicator-top.ps-indicator-show{opacity:1}",".ps{-ms-overflow-style:none;-ms-touch-action:auto;overflow:hidden!important;overflow-anchor:none;touch-action:auto}.ps__rail-x{bottom:0;height:15px}.ps__rail-x,.ps__rail-y{-webkit-transition:background-color .2s linear,opacity .2s linear;display:none;opacity:0;position:absolute;transition:background-color .2s linear,opacity .2s linear}.ps__rail-y{right:0;width:15px}.ps--active-x>.ps__rail-x,.ps--active-y>.ps__rail-y{background-color:transparent;display:block}.ps--focus>.ps__rail-x,.ps--focus>.ps__rail-y,.ps--scrolling-x>.ps__rail-x,.ps--scrolling-y>.ps__rail-y,.ps:hover>.ps__rail-x,.ps:hover>.ps__rail-y{opacity:.6}.ps .ps__rail-x.ps--clicking,.ps .ps__rail-x:focus,.ps .ps__rail-x:hover,.ps .ps__rail-y.ps--clicking,.ps .ps__rail-y:focus,.ps .ps__rail-y:hover{background-color:#eee;opacity:.9}.ps__thumb-x{-webkit-transition:background-color .2s linear,height .2s ease-in-out;bottom:2px;height:6px;transition:background-color .2s linear,height .2s ease-in-out}.ps__thumb-x,.ps__thumb-y{background-color:#aaa;border-radius:6px;position:absolute}.ps__thumb-y{-webkit-transition:background-color .2s linear,width .2s ease-in-out;right:2px;transition:background-color .2s linear,width .2s ease-in-out;width:6px}.ps__rail-x.ps--clicking .ps__thumb-x,.ps__rail-x:focus>.ps__thumb-x,.ps__rail-x:hover>.ps__thumb-x{background-color:#999;height:11px}.ps__rail-y.ps--clicking .ps__thumb-y,.ps__rail-y:focus>.ps__thumb-y,.ps__rail-y:hover>.ps__thumb-y{background-color:#999;width:11px}@supports (-ms-overflow-style:none){.ps{overflow:auto!important}}@media (-ms-high-contrast:none),screen and (-ms-high-contrast:active){.ps{overflow:auto!important}}"],encapsulation:2}),e})(),be=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[v.ez],v.ez]}),e})();var _e=H(4e3),$t=H(8555),kt=H(8648);function te(e,i){const o=/(\d+)|(\D+)/g,r=/\d+/,C=i.value,m=String(e.value).match(o),M=String(C).match(o);for(;m.length&&M.length;){const E=m.shift(),O=M.shift();if(r.test(E)||r.test(O)){if(!r.test(E))return-1;if(!r.test(O))return 1;if(E!==O)return Number(O)-Number(E)}else if(E!==O)return O.localeCompare(E)}return M.length-m.length}var Dt=H(5830),rt=H(6918),Ht=H(2290);new kt.Yd("ReqNetworkInterComponent");let we=(()=>{class e{constructor(o,r,f){this.apiService=o,this.toastr=r,this.translate=f}ngOnInit(){}reqInter(){this.apiService.getReqInter().subscribe(o=>{this.toastr.success(this.translate.instant("api.global.succes.scanlaunched.notify"))})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(Dt.s),t.Y36(Ht._W),t.Y36(rt.sK))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-req-network-inter"]],decls:28,vars:3,consts:[[1,"ml-3","card"],["translate","network.inter.req.header",1,"card-header"],[1,"card-body"],[1,"card-title",3,"innerHTML"],[1,"card-text"],[1,"vertical-container"],[1,"content-container"],[1,"scroll-container"],[1,"scrollable-content"],["translate","network.inter.req.button",1,"btn","btn-light",3,"click"]],template:function(o,r){1&o&&(t.TgZ(0,"div",0),t._uU(1,"\n  "),t._UZ(2,"div",1),t._uU(3,"\n  "),t.TgZ(4,"div",2),t._uU(5,"\n    "),t._UZ(6,"h5",3),t.ALo(7,"translate"),t._uU(8,"\n    "),t.TgZ(9,"div",4),t._uU(10,"\n      "),t.TgZ(11,"div",5),t._uU(12,"\n        "),t.TgZ(13,"div",6),t._uU(14,"\n          "),t.TgZ(15,"perfect-scrollbar",7),t._uU(16,"\n            "),t.TgZ(17,"div",8),t._uU(18,"\n              "),t.TgZ(19,"button",9),t.NdJ("click",function(){return r.reqInter()}),t.qZA(),t._uU(20,"\n            "),t.qZA(),t._uU(21,"\n          "),t.qZA(),t._uU(22,"\n        "),t.qZA(),t._uU(23,"\n      "),t.qZA(),t._uU(24,"\n    "),t.qZA(),t._uU(25,"\n  "),t.qZA(),t._uU(26,"\n"),t.qZA(),t._uU(27,"\n")),2&o&&(t.xp6(6),t.Q6J("innerHTML",t.lcZ(7,1,"network.inter.req.subtitle"),t.oJD))},directives:[rt.Pi,Ut],pipes:[rt.X$],styles:[""]}),e})();new kt.Yd("ReqNetworkInterComponent");let Te=(()=>{class e{constructor(o,r,f){this.apiService=o,this.toastr=r,this.translate=f}ngOnInit(){}reqFull(){this.apiService.getNwkFull().subscribe(o=>{this.toastr.success(this.translate.instant("api.global.succes.scanlaunched.notify"))})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(Dt.s),t.Y36(Ht._W),t.Y36(rt.sK))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-req-network-full"]],decls:28,vars:3,consts:[[1,"ml-3","card"],["translate","network.full.req.header",1,"card-header"],[1,"card-body"],[1,"card-title",3,"innerHTML"],[1,"card-text"],[1,"vertical-container"],[1,"content-container"],[1,"scroll-container"],[1,"scrollable-content"],["translate","network.full.req.button",1,"btn","btn-light",3,"click"]],template:function(o,r){1&o&&(t.TgZ(0,"div",0),t._uU(1,"\n  "),t._UZ(2,"div",1),t._uU(3,"\n  "),t.TgZ(4,"div",2),t._uU(5,"\n    "),t._UZ(6,"h5",3),t.ALo(7,"translate"),t._uU(8,"\n    "),t.TgZ(9,"div",4),t._uU(10,"\n      "),t.TgZ(11,"div",5),t._uU(12,"\n        "),t.TgZ(13,"div",6),t._uU(14,"\n          "),t.TgZ(15,"perfect-scrollbar",7),t._uU(16,"\n            "),t.TgZ(17,"div",8),t._uU(18,"\n              "),t.TgZ(19,"button",9),t.NdJ("click",function(){return r.reqFull()}),t.qZA(),t._uU(20,"\n            "),t.qZA(),t._uU(21,"\n          "),t.qZA(),t._uU(22,"\n        "),t.qZA(),t._uU(23,"\n      "),t.qZA(),t._uU(24,"\n    "),t.qZA(),t._uU(25,"\n  "),t.qZA(),t._uU(26,"\n"),t.qZA(),t._uU(27,"\n")),2&o&&(t.xp6(6),t.Q6J("innerHTML",t.lcZ(7,1,"network.full.req.subtitle"),t.oJD))},directives:[rt.Pi,Ut],pipes:[rt.X$],styles:[""]}),e})();var ee=H(3470),oe=H(2995);function xe(e,i){if(1&e&&(t.TgZ(0,"div",4),t._uU(1,"\n      "),t._UZ(2,"div",5),t._uU(3,"\n      "),t.TgZ(4,"div",6),t._uU(5,"\n        "),t._UZ(6,"h5",7),t.ALo(7,"translate"),t._uU(8,"\n        "),t.TgZ(9,"div",8),t._uU(10,"\n          "),t._UZ(11,"div",9),t._uU(12,"\n        "),t.qZA(),t._uU(13,"\n      "),t.qZA(),t._uU(14,"\n    "),t.qZA()),2&e){const o=t.oxw();t.xp6(6),t.Q6J("innerHTML",t.lcZ(7,2,"network.stats.detail.visu.subtitle"),t.oJD),t.xp6(5),t.Q6J("chart",o.chart)}}function Se(e,i){if(1&e&&(t.TgZ(0,"div",4),t._uU(1,"\n      "),t._UZ(2,"div",5),t._uU(3,"\n      "),t.TgZ(4,"div",6),t._uU(5,"\n        "),t._UZ(6,"h5",7),t.ALo(7,"translate"),t._uU(8,"\n        "),t.TgZ(9,"div",8),t._uU(10,"\n          "),t._UZ(11,"div",10),t._uU(12,"\n        "),t.qZA(),t._uU(13,"\n      "),t.qZA(),t._uU(14,"\n    "),t.qZA()),2&e){const o=t.oxw();t.xp6(6),t.Q6J("innerHTML",t.lcZ(7,2,"network.stats.detail.visu.subtitle"),t.oJD),t.xp6(5),t.Q6J("chart",o.chart2)}}new kt.Yd("DetailTopologyComponent");let ke=(()=>{class e extends oe.n{constructor(o,r){super(),this.apiService=o,this.translate=r}ngOnInit(){this.devices$=this.apiService.getDevices()}ngOnChanges(o){o.timeStamp.currentValue!==o.timeStamp.previousValue&&this.apiService.getNwkStatsByTimeStamp(this.timeStamp).subscribe(r=>{this.createChart(r),this.createChart2(r)})}createChart(o){const r=[],f=[],C=[],m=[];o.forEach(O=>{const K=O.Channels;K.sort(($,st)=>Number($.Channel)-Number(st.Channel)),O.Channels=K}),o[0].Channels.forEach(O=>{f.push(O.Channel)}),o.forEach(O=>{const K=[];let $=0;O.Channels.forEach(st=>{K.push(st.Level),m[$]=m[$]?Number(m[$])+Number(st.Level):Number(st.Level),$++}),r.push({name:O.ZDeviceName?O.ZDeviceName:O._NwkId,data:K})}),m.forEach(O=>{O/=o.length,O=Number(O).toFixed(2),C.push(Number(O))});const M=r;M.push({name:"Average",data:C,type:"spline",marker:{lineWidth:2,lineColor:ee.getOptions().colors[3],fillColor:"white"}});const E=new et.kL({chart:{type:"column",height:"20%"},title:{text:this.translate.instant("network.stats.detail.visu.chart.title")},xAxis:{categories:f},yAxis:{title:{text:this.translate.instant("network.stats.detail.visu.chart.y-axis")}},credits:{enabled:!1},series:M});this.chart=E,this.subs.add(E.ref$.subscribe())}createChart2(o){const r=[],f=[];o.forEach(m=>{const M=m.Channels;M.sort((E,O)=>Number(E.Channel)-Number(O.Channel)),m.Channels=M}),o[0].Channels.forEach(m=>{f.push(m.Channel)}),o.forEach(m=>{const M=[];m.Channels.forEach(E=>{M.push(E.Level)}),r.push({name:m.ZDeviceName?m.ZDeviceName:m._NwkId,data:M,pointPlacement:"on"})});const C=new et.kL({chart:{height:"90%",polar:!0,type:"line"},pane:{},title:{text:this.translate.instant("network.stats.detail.visu.chart.title")},xAxis:{categories:f,tickmarkPlacement:"on",lineWidth:0},yAxis:{gridLineInterpolation:"polygon",lineWidth:0,min:0},tooltip:{shared:!0,pointFormat:'<span style="color:{series.color}">{series.name}: <b>{point.y:,.0f}</b><br/>'},legend:{align:"left",verticalAlign:"bottom"},credits:{enabled:!1},series:r,responsive:{rules:[{condition:{maxWidth:600},chartOptions:{legend:{align:"center",verticalAlign:"bottom"},pane:{size:"80%"}}}]}});this.chart2=C,this.subs.add(C.ref$.subscribe())}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(Dt.s),t.Y36(rt.sK))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-detail-nwk-stat"]],inputs:{timeStamp:"timeStamp"},features:[t.qOj,t.TTD],decls:16,vars:2,consts:[[1,"mt-3","row"],[1,"col-sm"],["class","card",4,"ngIf"],[1,"col-sm-6"],[1,"card"],["translate","network.stats.detail.visu.header",1,"card-header"],[1,"card-body"],[1,"card-title",3,"innerHTML"],[1,"card-text"],[1,"text-center",3,"chart"],[3,"chart"]],template:function(o,r){1&o&&(t.TgZ(0,"div",0),t._uU(1,"\n  "),t.TgZ(2,"div",1),t._uU(3,"\n    "),t.YNc(4,xe,15,4,"div",2),t._uU(5,"\n  "),t.qZA(),t._uU(6,"\n"),t.qZA(),t._uU(7,"\n\n"),t.TgZ(8,"div",0),t._uU(9,"\n  "),t.TgZ(10,"div",3),t._uU(11,"\n    "),t.YNc(12,Se,15,4,"div",2),t._uU(13,"\n  "),t.qZA(),t._uU(14,"\n"),t.qZA(),t._uU(15,"\n")),2&o&&(t.xp6(4),t.Q6J("ngIf",r.chart),t.xp6(8),t.Q6J("ngIf",r.chart2))},directives:[v.O5,rt.Pi,et.Dm],pipes:[rt.X$],styles:[""]}),e})();function Ce(e,i){if(1&e){const o=t.EpF();t.TgZ(0,"span",14),t._uU(1,"\n                    "),t.TgZ(2,"div",15),t._uU(3,"\n                      "),t.TgZ(4,"button",16),t.NdJ("click",function(){const C=t.CHM(o).$implicit;return t.oxw(2).nwkStatByDate(C.value)}),t._uU(5),t.ALo(6,"date"),t.qZA(),t._uU(7,"\n                    "),t.qZA(),t._uU(8,"\n                    "),t.TgZ(9,"div",1),t._uU(10,"\n                      "),t.TgZ(11,"button",17),t.NdJ("click",function(){const C=t.CHM(o).$implicit;return t.oxw(2).deleteNwkStatByDate(C.value)}),t.ALo(12,"translate"),t._uU(13,"\n                        "),t._UZ(14,"i",18),t._uU(15,"\n                      "),t.qZA(),t._uU(16,"\n                    "),t.qZA(),t._uU(17,"\n                  "),t.qZA()}if(2&e){const o=i.$implicit;t.xp6(5),t.hij("\n                        ",t.xi3(6,2,1e3*o.value,"dd/MM/yyyy HH:mm:ss"),"\n                      "),t.xp6(6),t.s9C("title",t.lcZ(12,5,"network.stats.visu.delete.button"))}}function Le(e,i){if(1&e&&(t.TgZ(0,"div",4),t._uU(1,"\n      "),t._UZ(2,"div",5),t._uU(3,"\n      "),t.TgZ(4,"div",6),t._uU(5,"\n        "),t._UZ(6,"h5",7),t.ALo(7,"translate"),t._uU(8,"\n        "),t.TgZ(9,"div",8),t._uU(10,"\n          "),t.TgZ(11,"div",9),t._uU(12,"\n            "),t.TgZ(13,"div",10),t._uU(14,"\n              "),t.TgZ(15,"perfect-scrollbar",11),t._uU(16,"\n                "),t.TgZ(17,"div",12),t._uU(18,"\n                  "),t.YNc(19,Ce,18,7,"span",13),t.ALo(20,"keyvalue"),t._uU(21,"\n                "),t.qZA(),t._uU(22,"\n              "),t.qZA(),t._uU(23,"\n            "),t.qZA(),t._uU(24,"\n          "),t.qZA(),t._uU(25,"\n        "),t.qZA(),t._uU(26,"\n      "),t.qZA(),t._uU(27,"\n    "),t.qZA()),2&e){const o=i.ngIf,r=t.oxw();t.xp6(6),t.Q6J("innerHTML",t.lcZ(7,2,"network.stats.subtitle"),t.oJD),t.xp6(13),t.Q6J("ngForOf",t.xi3(20,4,o,r.sortDesc))}}function Ne(e,i){if(1&e&&(t.TgZ(0,"div"),t._UZ(1,"app-detail-nwk-stat",19),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.Q6J("timeStamp",o.timeStamp)}}new kt.Yd("NwkStatsComponent");let De=(()=>{class e{constructor(o,r){this.apiService=o,this.cdr=r,this.listSubject$=new b.xQ}ngOnInit(){this.stats$=this.apiService.getNwkStats()}sortDesc(o,r){return te(o,r)}nwkStatByDate(o){this.timeStamp=o}deleteNwkStatByDate(o){this.apiService.deleteNwkStatsByTimeStamp(o).subscribe(r=>{this.stats$=this.apiService.getNwkStats(),this.cdr.detectChanges()})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(Dt.s),t.Y36(t.sBO))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-nwk-stats"]],decls:17,vars:4,consts:[[1,"row"],[1,"col-sm-3"],["class","card",4,"ngIf"],[4,"ngIf"],[1,"card"],["translate","network.stats.header",1,"card-header"],[1,"card-body"],[1,"card-title",3,"innerHTML"],[1,"card-text"],[1,"vertical-container"],[1,"content-container"],[1,"scroll-container"],[1,"scrollable-content"],["class","row d-flex align-items-center",4,"ngFor","ngForOf"],[1,"row","d-flex","align-items-center"],[1,"col-sm-9"],[1,"btn","btn-light",3,"click"],[1,"btn","btn-light",3,"title","click"],[1,"fa","fa-trash"],[3,"timeStamp"]],template:function(o,r){1&o&&(t.TgZ(0,"div",0),t._uU(1,"\n  "),t.TgZ(2,"div",1),t._uU(3,"\n    "),t.YNc(4,Le,28,7,"div",2),t.ALo(5,"async"),t._uU(6,"\n  "),t.qZA(),t._uU(7,"\n  "),t.TgZ(8,"div",1),t._UZ(9,"app-req-network-inter"),t.qZA(),t._uU(10,"\n  "),t.TgZ(11,"div",1),t._UZ(12,"app-req-network-full"),t.qZA(),t._uU(13,"\n"),t.qZA(),t._uU(14,"\n"),t.YNc(15,Ne,2,1,"div",3),t._uU(16,"\n")),2&o&&(t.xp6(4),t.Q6J("ngIf",t.lcZ(5,2,r.stats$)),t.xp6(11),t.Q6J("ngIf",r.timeStamp))},directives:[v.O5,rt.Pi,Ut,v.sg,we,Te,ke],pipes:[v.Ov,rt.X$,v.Nd,v.uU],styles:[".content-container[_ngcontent-%COMP%]{position:relative;overflow:auto;height:150px;min-height:0}.content-container[_ngcontent-%COMP%]{position:relative;min-height:0}.vertical-container[_ngcontent-%COMP%], .horizontal-container[_ngcontent-%COMP%]{min-height:0!important}.scroll-container[_ngcontent-%COMP%]{position:relative}.scrollable-content[_ngcontent-%COMP%]{padding:16px;margin:0}"]}),e})();new kt.Yd("ReqTopologyComponent");let Ee=(()=>{class e{constructor(o,r,f){this.apiService=o,this.toastr=r,this.translate=f}ngOnInit(){}reqTopology(){this.apiService.getReqTopologie().subscribe(o=>{this.toastr.success(this.translate.instant("api.global.succes.scanlaunched.notify"))})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(Dt.s),t.Y36(Ht._W),t.Y36(rt.sK))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-req-topology"]],decls:28,vars:3,consts:[[1,"ml-3","card"],["translate","network.topology.req.header",1,"card-header"],[1,"card-body"],[1,"card-title",3,"innerHTML"],[1,"card-text"],[1,"vertical-container"],[1,"content-container"],[1,"scroll-container"],[1,"scrollable-content"],["translate","network.topology.req.button",1,"btn","btn-light",3,"click"]],template:function(o,r){1&o&&(t.TgZ(0,"div",0),t._uU(1,"\n  "),t._UZ(2,"div",1),t._uU(3,"\n  "),t.TgZ(4,"div",2),t._uU(5,"\n    "),t._UZ(6,"h5",3),t.ALo(7,"translate"),t._uU(8,"\n    "),t.TgZ(9,"div",4),t._uU(10,"\n      "),t.TgZ(11,"div",5),t._uU(12,"\n        "),t.TgZ(13,"div",6),t._uU(14,"\n          "),t.TgZ(15,"perfect-scrollbar",7),t._uU(16,"\n            "),t.TgZ(17,"div",8),t._uU(18,"\n              "),t.TgZ(19,"button",9),t.NdJ("click",function(){return r.reqTopology()}),t.qZA(),t._uU(20,"\n            "),t.qZA(),t._uU(21,"\n          "),t.qZA(),t._uU(22,"\n        "),t.qZA(),t._uU(23,"\n      "),t.qZA(),t._uU(24,"\n    "),t.qZA(),t._uU(25,"\n  "),t.qZA(),t._uU(26,"\n"),t.qZA(),t._uU(27,"\n")),2&o&&(t.xp6(6),t.Q6J("innerHTML",t.lcZ(7,1,"network.topology.req.subtitle"),t.oJD))},directives:[rt.Pi,Ut],pipes:[rt.X$],styles:[""]}),e})();var Et=H(3075),ie=H(9364),Pe=H(399),jt=H(3274);function Me(e,i){if(1&e&&(t.TgZ(0,"div",5),t._uU(1,"\n            "),t._UZ(2,"div",6),t._uU(3,"\n            "),t.TgZ(4,"div",7),t._uU(5,"\n              "),t._UZ(6,"h5",8),t.ALo(7,"translate"),t._uU(8,"\n              "),t._UZ(9,"div",9),t._uU(10,"\n            "),t.qZA(),t._uU(11,"\n          "),t.qZA()),2&e){const o=t.oxw();t.xp6(6),t.Q6J("innerHTML",t.lcZ(7,2,"network.topo.visu.subtitle"),t.oJD),t.xp6(3),t.Q6J("chart",o.chart1)}}function Ze(e,i){if(1&e&&(t._uU(0,"\n                        "),t.TgZ(1,"span",18),t._uU(2,"\n                          "),t.TgZ(3,"b"),t._uU(4,"Name"),t.qZA(),t._uU(5),t.TgZ(6,"b"),t._uU(7,"IEEE"),t.qZA(),t._uU(8),t.TgZ(9,"b"),t._uU(10,"Model"),t.qZA(),t._uU(11),t.qZA(),t._uU(12,"\n                      ")),2&e){const o=i.item,r=i.searchTerm;t.xp6(1),t.Q6J("ngOptionHighlight",r),t.xp6(4),t.hij(" : ",o.ZDeviceName," - "),t.xp6(3),t.hij(" : ",o.IEEE," - "),t.xp6(3),t.hij(" :\n                          ",o.Model,"\n                        ")}}function Ae(e,i){1&e&&t._uU(0),2&e&&t.hij("\n                                ",i.row.to,"\n                              ")}function Re(e,i){1&e&&t._uU(0),2&e&&t.hij("\n                                ",i.row.weight,"\n                              ")}function Ye(e,i){1&e&&t._uU(0),2&e&&t.hij("\n                                ",i.row.Model,"\n                              ")}function Ue(e,i){1&e&&t._uU(0),2&e&&t.hij("\n                                ",i.row.Status,"\n                              ")}function Ie(e,i){1&e&&t._uU(0),2&e&&t.hij("\n                                ",i.row.Health,"\n                              ")}function Oe(e,i){1&e&&t._uU(0),2&e&&t.hij("\n                                ",i.row.Battery,"\n                              ")}const Xe=function(){return{prop:"to",dir:"asc"}},Fe=function(e){return[e]},We=function(e,i,o){return{emptyMessage:e,totalMessage:i,selectedMessage:o}};function Be(e,i){if(1&e&&(t.TgZ(0,"div",1),t._uU(1,"\n                  "),t.TgZ(2,"div",3),t._uU(3,"\n                    "),t.TgZ(4,"div",5),t._uU(5,"\n                      "),t._UZ(6,"div",19),t._uU(7,"\n                      "),t.TgZ(8,"div",7),t._uU(9,"\n                        "),t._UZ(10,"h5",8),t.ALo(11,"translate"),t._uU(12,"\n                        "),t.TgZ(13,"div",11),t._uU(14,"\n                          "),t.TgZ(15,"ngx-datatable",20),t.ALo(16,"translate"),t.ALo(17,"translate"),t.ALo(18,"translate"),t._uU(19,"\n                            "),t.TgZ(20,"ngx-datatable-column",21),t.ALo(21,"translate"),t._uU(22,"\n                              "),t.YNc(23,Ae,1,1,"ng-template",22),t._uU(24,"\n                            "),t.qZA(),t._uU(25,"\n                            "),t.TgZ(26,"ngx-datatable-column",23),t.ALo(27,"translate"),t._uU(28,"\n                              "),t.YNc(29,Re,1,1,"ng-template",22),t._uU(30,"\n                            "),t.qZA(),t._uU(31,"\n                            "),t.TgZ(32,"ngx-datatable-column",24),t.ALo(33,"translate"),t._uU(34,"\n                              "),t.YNc(35,Ye,1,1,"ng-template",22),t._uU(36,"\n                            "),t.qZA(),t._uU(37,"\n                            "),t.TgZ(38,"ngx-datatable-column",25),t.ALo(39,"translate"),t._uU(40,"\n                              "),t.YNc(41,Ue,1,1,"ng-template",22),t._uU(42,"\n                            "),t.qZA(),t._uU(43,"\n                            "),t.TgZ(44,"ngx-datatable-column",26),t.ALo(45,"translate"),t._uU(46,"\n                              "),t.YNc(47,Ie,1,1,"ng-template",22),t._uU(48,"\n                            "),t.qZA(),t._uU(49,"\n                            "),t.TgZ(50,"ngx-datatable-column",27),t.ALo(51,"translate"),t._uU(52,"\n                              "),t.YNc(53,Oe,1,1,"ng-template",22),t._uU(54,"\n                            "),t.qZA(),t._uU(55,"\n                          "),t.qZA(),t._uU(56,"\n                        "),t.qZA(),t._uU(57,"\n                      "),t.qZA(),t._uU(58,"\n                    "),t.qZA(),t._uU(59,"\n                  "),t.qZA(),t._uU(60,"\n                "),t.qZA()),2&e){const o=t.oxw(2);t.xp6(10),t.Q6J("innerHTML",t.lcZ(11,17,"network.topo.visu.network.relation.subtitle"),t.oJD),t.xp6(5),t.Q6J("rows",o.relationsSelected)("columnMode","force")("footerHeight","auto")("limit",10)("rowHeight","auto")("sorts",t.VKq(38,Fe,t.DdM(37,Xe)))("messages",t.kEZ(40,We,t.lcZ(16,19,"network.topo.visu.network.relation.nochild"),t.lcZ(17,21,"TOTAL"),t.lcZ(18,23,"SELECTED"))),t.xp6(5),t.s9C("name",t.lcZ(21,25,"network.topo.visu.network.relation.to")),t.xp6(6),t.s9C("name",t.lcZ(27,27,"network.topo.visu.network.relation.weight")),t.Q6J("maxWidth",50),t.xp6(6),t.s9C("name",t.lcZ(33,29,"network.topo.visu.network.relation.model")),t.xp6(6),t.s9C("name",t.lcZ(39,31,"network.topo.visu.network.relation.status")),t.Q6J("maxWidth",100),t.xp6(6),t.s9C("name",t.lcZ(45,33,"network.topo.visu.network.relation.health")),t.xp6(6),t.s9C("name",t.lcZ(51,35,"network.topo.visu.network.relation.battery")),t.Q6J("maxWidth",100)}}function qe(e,i){if(1&e&&(t.TgZ(0,"div",5),t._uU(1,"\n            "),t._UZ(2,"div",10),t._uU(3,"\n            "),t.TgZ(4,"div",7),t._uU(5,"\n              "),t._UZ(6,"h5",8),t.ALo(7,"translate"),t._uU(8,"\n              "),t.TgZ(9,"div",11),t._uU(10,"\n                "),t.TgZ(11,"div"),t._uU(12,"\n                  "),t.TgZ(13,"form",12),t._uU(14,"\n                    "),t._UZ(15,"input",13),t._uU(16,"\n                    "),t.TgZ(17,"ng-select",14),t.ALo(18,"translate"),t._uU(19,"\n                      "),t.YNc(20,Ze,13,4,"ng-template",15),t._uU(21,"\n                    "),t.qZA(),t._uU(22,"\n                  "),t.qZA(),t._uU(23,"\n                "),t.qZA(),t._uU(24,"\n                "),t._UZ(25,"div",16),t._uU(26,"\n                "),t.YNc(27,Be,61,44,"div",17),t._uU(28,"\n              "),t.qZA(),t._uU(29,"\n            "),t.qZA(),t._uU(30,"\n          "),t.qZA()),2&e){const o=t.oxw();t.xp6(6),t.Q6J("innerHTML",t.lcZ(7,9,"network.topo.visu.network.subtitle"),t.oJD),t.xp6(7),t.Q6J("formGroup",o.form),t.xp6(4),t.s9C("placeholder",t.lcZ(18,11,"network.topo.visu.network.filter")),t.Q6J("items",o.devices)("multiple",!1)("closeOnSelect",!0)("searchable",!0),t.xp6(8),t.Q6J("chart",o.chart2),t.xp6(2),t.Q6J("ngIf",o.relationsSelected)}}new kt.Yd("DetailTopologyComponent");let He=(()=>{class e extends oe.n{constructor(o,r,f){super(),this.apiService=o,this.translate=r,this.formBuilder=f,this.showDetail=!1,this.relationsPipiche=[{Child:"IAS Sirene",DeviceType:"Router",Father:"Zigbee Controller",_lnkqty:58},{Child:"IAS Sirene",DeviceType:"Router",Father:"Led LKex",_lnkqty:252},{Child:"IAS Sirene",DeviceType:"Router",Father:"Led Ikea",_lnkqty:241},{Child:"OnOff Ikea",DeviceType:"End Device",Father:"IAS Sirene",_lnkqty:255},{Child:"Repeater",DeviceType:"Coordinator",Father:"Zigbee Controller",_lnkqty:254},{Child:"Repeater",DeviceType:"Router",Father:"Led LKex",_lnkqty:196},{Child:"Repeater",DeviceType:"Router",Father:"Led Ikea",_lnkqty:254},{Child:"Motion frient",DeviceType:"End Device",Father:"Repeater",_lnkqty:168},{Child:"Dim Ikea",DeviceType:"End Device",Father:"Repeater",_lnkqty:89},{Child:"Led LKex",DeviceType:"Coordinator",Father:"Zigbee Controller",_lnkqty:254},{Child:"Led LKex",DeviceType:"Router",Father:"Led Ikea",_lnkqty:244},{Child:"Lumi Door",DeviceType:"End Device",Father:"Led LKex",_lnkqty:211},{Child:"Wiser Thermostat",DeviceType:"End Device",Father:"Led LKex",_lnkqty:223},{Child:"Led Ikea",DeviceType:"Coordinator",Father:"Zigbee Controller",_lnkqty:60},{Child:"Led Ikea",DeviceType:"Router",Father:"Led LKex",_lnkqty:101},{Child:"Remote Tradfri",DeviceType:"End Device",Father:"Led Ikea",_lnkqty:194},{Child:"Inter Shutter Legrand",DeviceType:"Router",Father:"Led Ikea",_lnkqty:133},{Child:"Inter Shutter Legrand",DeviceType:"Coordinator",Father:"Zigbee Controller",_lnkqty:241},{Child:"Inter Shutter Legrand",DeviceType:"Router",Father:"Led LKex",_lnkqty:164},{Child:"Lumi Motion",DeviceType:"End Device",Father:"Inter Shutter Legrand",_lnkqty:242},{Child:"Inter Dimmer Legrand",DeviceType:"Coordinator",Father:"Zigbee Controller",_lnkqty:254},{Child:"Inter Dimmer Legrand",DeviceType:"Router",Father:"Led LKex",_lnkqty:215},{Child:"Inter Dimmer Legrand",DeviceType:"Router",Father:"Led Ikea",_lnkqty:254},{Child:"Micromodule Legrand",DeviceType:"Coordinator",Father:"Zigbee Controller",_lnkqty:252},{Child:"Micromodule Legrand",DeviceType:"Router",Father:"Led LKex",_lnkqty:252},{Child:"Micromodule Legrand",DeviceType:"Router",Father:"Led Ikea",_lnkqty:252}],this.zdevices=[{Battery:"",ConsistencyCheck:"ok",Health:"Live",IEEE:"90fd9ffffe86c7a1",LQI:80,MacCapa:["FFD","RxonIdle","MainPower"],Model:"TRADFRI bulb E27 WS clear 950lm",Param:"{'PowerOnAfterOffOn': 255, 'fadingOff': 0, 'moveToHueSatu': 0, 'moveToColourTemp': 0, 'moveToColourRGB': 0, 'moveToLevel': 0}",Status:"inDB",WidgetList:["Zigbee - TRADFRI bulb E27 WS clear 950lm_ColorControlWW-90fd9ffffe86c7a1-01"],ZDeviceName:"Led Ikea",_NwkId:"ada7"},{Battery:"",ConsistencyCheck:"ok",Health:"Live",IEEE:"60a423fffe529d60",LQI:80,MacCapa:["FFD","RxonIdle","MainPower"],Model:"LXEK-1",Param:"{'PowerOnAfterOffOn': 255, 'fadingOff': 0, 'moveToHueSatu': 0, 'moveToColourTemp': 0, 'moveToColourRGB': 0, 'moveToLevel': 0}",Status:"inDB",WidgetList:["Zigbee - LXEK-1_ColorControlRGBWW-60a423fffe529d60-01"],ZDeviceName:"Led LKex",_NwkId:"7173"},{Battery:"",ConsistencyCheck:"ok",Health:"Live",IEEE:"680ae2fffe7aca89",LQI:80,MacCapa:["FFD","RxonIdle","MainPower"],Model:"TRADFRI Signal Repeater",Param:"{}",Status:"inDB",WidgetList:["Zigbee - TRADFRI Signal Repeater_Voltage-680ae2fffe7aca89-01"],ZDeviceName:"Repeater",_NwkId:"a5ee"},{Battery:16,ConsistencyCheck:"ok",Health:"Not seen last 24hours",IEEE:"90fd9ffffeea89e8",LQI:25,MacCapa:["RFD","Battery"],Model:"TRADFRI remote control",Param:"{}",Status:"inDB",WidgetList:["Zigbee - TRADFRI remote control_Ikea_Round_5b-90fd9ffffeea89e8-01"],ZDeviceName:"Remote Tradfri",_NwkId:"cee1"},{Battery:100,ConsistencyCheck:"ok",Health:"Live",IEEE:"000d6f0011087079",LQI:116,MacCapa:["FFD","RxonIdle","MainPower"],Model:"WarningDevice",Param:"{}",Status:"inDB",WidgetList:["Zigbee - WarningDevice_AlarmWD-000d6f0011087079-01"],ZDeviceName:"IAS Sirene",_NwkId:"2e33"},{Battery:53,ConsistencyCheck:"ok",Health:"Live",IEEE:"54ef441000298533",LQI:76,MacCapa:["RFD","Battery"],Model:"lumi.magnet.acn001",Param:"{}",Status:"inDB",WidgetList:["Zigbee - lumi.magnet.acn001_Door-54ef441000298533-01"],ZDeviceName:"Lumi Door",_NwkId:"bb45"},{Battery:"",ConsistencyCheck:"ok",Health:"Live",IEEE:"00047400008aff8b",LQI:80,MacCapa:["FFD","RxonIdle","MainPower"],Model:"Shutter switch with neutral",Param:"{'netatmoInvertShutter': 0, 'netatmoLedShutter': 0}",Status:"inDB",WidgetList:["Zigbee - Shutter switch with neutral_Venetian-00047400008aff8b-01"],ZDeviceName:"Inter Shutter Legrand",_NwkId:"06ab"},{Battery:"",ConsistencyCheck:"ok",Health:"Live",IEEE:"000474000082a54f",LQI:18,MacCapa:["FFD","RxonIdle","MainPower"],Model:"Dimmer switch wo neutral",Param:"{'netatmoEnableDimmer': 1, 'PowerOnAfterOffOn': 255, 'BallastMaxLevel': 254, 'BallastMinLevel': 1}",Status:"inDB",WidgetList:["Zigbee - Dimmer switch wo neutral_LvlControl-000474000082a54f-01"],ZDeviceName:"Inter Dimmer Legrand",_NwkId:"9c25"},{Battery:"",ConsistencyCheck:"ok",Health:"Live",IEEE:"00047400001f09a4",LQI:80,MacCapa:["FFD","RxonIdle","MainPower"],Model:"Micromodule switch",Param:"{'PowerOnAfterOffOn': 255}",Status:"inDB",WidgetList:["Zigbee - Micromodule switch_Switch-00047400001f09a4-01"],ZDeviceName:"Micromodule Legrand",_NwkId:"8706"},{Battery:"",ConsistencyCheck:"ok",Health:"",IEEE:"00158d0003021601",LQI:0,MacCapa:["RFD","Battery"],Model:"lumi.sensor_motion.aq2",Param:"{}",Status:"inDB",WidgetList:["Zigbee - lumi.sensor_motion.aq2_Motion-00158d0003021601-01","Zigbee - lumi.sensor_motion.aq2_Lux-00158d0003021601-01"],ZDeviceName:"Lumi Motion",_NwkId:"6f81"},{Battery:100,ConsistencyCheck:"ok",Health:"Live",IEEE:"0015bc001a01aa27",LQI:83,MacCapa:["RFD","Battery"],Model:"MOSZB-140",Param:"{}",Status:"inDB",WidgetList:["Zigbee - MOSZB-140_Motion-0015bc001a01aa27-23","Zigbee - MOSZB-140_Tamper-0015bc001a01aa27-23","Zigbee - MOSZB-140_Voltage-0015bc001a01aa27-23","Zigbee - MOSZB-140_Temp-0015bc001a01aa27-26","Zigbee - MOSZB-140_Lux-0015bc001a01aa27-27"],ZDeviceName:"Motion frient",_NwkId:"b9bc"},{Battery:63,ConsistencyCheck:"ok",Health:"Live",IEEE:"00158d000323dabe",LQI:61,MacCapa:["RFD","Battery"],Model:"lumi.sensor_switch",Param:"{}",Status:"inDB",WidgetList:["Zigbee - lumi.sensor_switch_SwitchAQ2-00158d000323dabe-01"],ZDeviceName:"Lumi Switch (rond)",_NwkId:"a029"},{Battery:100,ConsistencyCheck:"ok",Health:"Live",IEEE:"000d6ffffea1e6da",LQI:94,MacCapa:["RFD","Battery"],Model:"TRADFRI onoff switch",Param:"{}",Status:"inDB",WidgetList:["Zigbee - TRADFRI onoff switch_SwitchIKEA-000d6ffffea1e6da-01"],ZDeviceName:"OnOff Ikea",_NwkId:"c6ca"},{Battery:100,ConsistencyCheck:"ok",Health:"Live",IEEE:"000b57fffe2c0dde",LQI:87,MacCapa:["RFD","Battery"],Model:"TRADFRI wireless dimmer",Param:"{}",Status:"inDB",WidgetList:["Zigbee - TRADFRI wireless dimmer_GenericLvlControl-000b57fffe2c0dde-01"],ZDeviceName:"Dim Ikea",_NwkId:"6c43"},{Battery:100,ConsistencyCheck:"ok",Health:"Live",IEEE:"588e81fffe35f595",LQI:80,MacCapa:["RFD","Battery"],Model:"Wiser2-Thermostat",Param:"{'WiserLockThermostat': 0, 'WiserRoomNumber': 1}",Status:"inDB",WidgetList:["Zigbee - Wiser2-Thermostat_Temp+Hum-588e81fffe35f595-01","Zigbee - Wiser2-Thermostat_Humi-588e81fffe35f595-01","Zigbee - Wiser2-Thermostat_Temp-588e81fffe35f595-01","Zigbee - Wiser2-Thermostat_ThermoSetpoint-588e81fffe35f595-01","Zigbee - Wiser2-Thermostat_Valve-588e81fffe35f595-01"],ZDeviceName:"Wiser Thermostat",_NwkId:"5a00"}]}ngOnInit(){this.form=this.formBuilder.group({nodeToFilter:[null],detail:[null]}),this.apiService.getZDeviceName().subscribe(o=>{this.devices=this.zdevices,this.devices.unshift({IEEE:"",MacCapa:[""],Model:"",Health:"",Status:"",WidgetList:[""],ZDeviceName:"Zigbee Controller",_NwkId:""})}),this.subs.sink=this.form.get("nodeToFilter").valueChanges.subscribe(o=>{this.createChart2(o)}),this.subs.add(this.form.get("detail").valueChanges.subscribe(o=>{const r=this.chart2.ref.hoverPoint;let f=r.linksFrom.map(m=>m.options);f.map(m=>{const M=this.devices.find(E=>E.ZDeviceName===m.to||E._NwkId===m.to);m.Model=M.Model,m.Status=M.Status,m.Health=M.Health,m.Battery=M.Battery});let C=r.linksTo.map(m=>m.options);C.map(m=>{const M=this.devices.find(E=>E.ZDeviceName===m.from||E._NwkId===m.from);m.Model=M.Model,m.Status=M.Status,m.Health=M.Health,m.Battery=M.Battery,m.to=m.from}),this.relationsSelected=f.concat(C)}))}ngOnChanges(o){o.timeStamp.currentValue!==o.timeStamp.previousValue&&this.apiService.getTopologieByTimeStamp(this.timeStamp).subscribe(r=>{this.datas=this.relationsPipiche,this.createChart1(),this.createChart2()})}createChart1(){const o=this.datas.map(f=>{const C=Object.values(f);return C.splice(1,1),C}),r=new et.kL({chart:{type:"dependencywheel",height:"80%"},title:{text:this.translate.instant("network.topo.device.visu.chart.title")},credits:{enabled:!1},series:[{type:void 0,keys:["to","from","weight"],data:o}]});this.chart1=r}createChart2(o){let f=this.datas.map(M=>{const E=Object.values(M);return E.splice(1,1),E});o&&(f=f.filter(M=>M[0].toLowerCase()===o.toLowerCase()||M[1].toLowerCase()===o.toLowerCase()));const C=[{nodes:void 0,type:void 0,keys:["to","from","weight"],dataLabels:{enabled:!0,linkFormat:""},data:f}];this.test(C);const m=new et.kL({chart:{type:"networkgraph",height:"80%"},title:{text:this.translate.instant("network.topo.device.visu.network.chart.title")},credits:{enabled:!1},plotOptions:{networkgraph:{keys:["to","from","weight"],layoutAlgorithm:{enableSimulation:!0,integration:"verlet"}},series:{point:{events:{click:function(){document.getElementById("detail").dispatchEvent(new Event("input",{bubbles:!0}))}}}}},series:C});this.chart2=m}test(o){const r=ee.getOptions().colors;let f=0;const C={};o[0].data.forEach(function(m){"Zigbee Controller"!==m[0]&&("Zigbee Controller"===m[1]?(C["Zigbee Controller"]={id:"Zigbee Controller",marker:{radius:20}},C[m[0]]={id:m[0],marker:{radius:10},color:r[f++]}):C[m[1]]&&C[m[1]].color&&(C[m[0]]={id:m[0],color:C[m[1]].color}))}),o[0].nodes=Object.keys(C).map(function(m){return C[m]})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(Dt.s),t.Y36(rt.sK),t.Y36(Et.qu))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-detail-topology"]],inputs:{timeStamp:"timeStamp"},features:[t.qOj,t.TTD],decls:28,vars:2,consts:[[1,"mt-3"],[1,"row"],[1,"col-sm-6"],[1,"col"],["class","card",4,"ngIf"],[1,"card"],["translate","network.topo.visu.header",1,"card-header"],[1,"card-body"],[1,"card-title",3,"innerHTML"],[1,"card-text",3,"chart"],["translate","network.topo.visu.network.header",1,"card-header"],[1,"card-text"],[3,"formGroup"],["type","hidden","formControlName","detail","id","detail"],["bindLabel","ZDeviceName","bindValue","ZDeviceName","appendTo","body","formControlName","nodeToFilter",3,"items","multiple","closeOnSelect","searchable","placeholder"],["ng-option-tmp",""],[3,"chart"],["class","row",4,"ngIf"],[3,"ngOptionHighlight"],["translate","network.topo.visu.network.relation.header",1,"card-header"],[1,"bootstrap",3,"rows","columnMode","footerHeight","limit","rowHeight","sorts","messages"],["prop","to",3,"name"],["ngx-datatable-cell-template",""],["prop","weight",3,"name","maxWidth"],["prop","Model",3,"name"],["prop","Status",3,"name","maxWidth"],["prop","Health",3,"name"],["prop","Battery",3,"name","maxWidth"]],template:function(o,r){1&o&&(t.TgZ(0,"div",0),t._uU(1,"\n  "),t.TgZ(2,"div",1),t._uU(3,"\n    "),t.TgZ(4,"div",2),t._uU(5,"\n      "),t.TgZ(6,"div",1),t._uU(7,"\n        "),t.TgZ(8,"div",3),t._uU(9,"\n          "),t.YNc(10,Me,12,4,"div",4),t._uU(11,"\n        "),t.qZA(),t._uU(12,"\n      "),t.qZA(),t._uU(13,"\n    "),t.qZA(),t._uU(14,"\n    "),t.TgZ(15,"div",2),t._uU(16,"\n      "),t.TgZ(17,"div",1),t._uU(18,"\n        "),t.TgZ(19,"div",3),t._uU(20,"\n          "),t.YNc(21,qe,31,13,"div",4),t._uU(22,"\n        "),t.qZA(),t._uU(23,"\n      "),t.qZA(),t._uU(24,"\n    "),t.qZA(),t._uU(25,"\n  "),t.qZA(),t._uU(26,"\n"),t.qZA(),t._uU(27,"\n")),2&o&&(t.xp6(10),t.Q6J("ngIf",r.chart1),t.xp6(11),t.Q6J("ngIf",r.chart2))},directives:[v.O5,rt.Pi,et.Dm,Et._Y,Et.JL,Et.sg,Et.Fj,Et.JJ,Et.u,ie.w9,ie.ir,Pe.s,jt.nE,jt.UC,jt.vq],pipes:[rt.X$],styles:[""]}),e})();function je(e,i){if(1&e){const o=t.EpF();t.TgZ(0,"span",14),t._uU(1,"\n                    "),t.TgZ(2,"div",15),t._uU(3,"\n                      "),t.TgZ(4,"button",16),t.NdJ("click",function(){const C=t.CHM(o).$implicit;return t.oxw(2).topologyByDate(C.value)}),t._uU(5),t.ALo(6,"date"),t.qZA(),t._uU(7,"\n                    "),t.qZA(),t._uU(8,"\n                    "),t.TgZ(9,"div",1),t._uU(10,"\n                      "),t.TgZ(11,"button",17),t.NdJ("click",function(){const C=t.CHM(o).$implicit;return t.oxw(2).deleteTopologyByDate(C.value)}),t.ALo(12,"translate"),t._uU(13,"\n                        "),t._UZ(14,"i",18),t._uU(15,"\n                      "),t.qZA(),t._uU(16,"\n                    "),t.qZA(),t._uU(17,"\n                  "),t.qZA()}if(2&e){const o=i.$implicit;t.xp6(5),t.hij("\n                        ",t.xi3(6,2,1e3*o.value,"dd/MM/yyyy HH:mm:ss"),"\n                      "),t.xp6(6),t.s9C("title",t.lcZ(12,5,"network.topo.visu.delete.button"))}}function ze(e,i){if(1&e&&(t.TgZ(0,"div",4),t._uU(1,"\n      "),t._UZ(2,"div",5),t._uU(3,"\n      "),t.TgZ(4,"div",6),t._uU(5,"\n        "),t._UZ(6,"h5",7),t.ALo(7,"translate"),t._uU(8,"\n        "),t.TgZ(9,"div",8),t._uU(10,"\n          "),t.TgZ(11,"div",9),t._uU(12,"\n            "),t.TgZ(13,"div",10),t._uU(14,"\n              "),t.TgZ(15,"perfect-scrollbar",11),t._uU(16,"\n                "),t.TgZ(17,"div",12),t._uU(18,"\n                  "),t.YNc(19,je,18,7,"span",13),t.ALo(20,"keyvalue"),t._uU(21,"\n                "),t.qZA(),t._uU(22,"\n              "),t.qZA(),t._uU(23,"\n            "),t.qZA(),t._uU(24,"\n          "),t.qZA(),t._uU(25,"\n        "),t.qZA(),t._uU(26,"\n      "),t.qZA(),t._uU(27,"\n    "),t.qZA()),2&e){const o=i.ngIf,r=t.oxw();t.xp6(6),t.Q6J("innerHTML",t.lcZ(7,2,"network.topo.subtitle"),t.oJD),t.xp6(13),t.Q6J("ngForOf",t.xi3(20,4,o,r.sortDesc))}}function Qe(e,i){if(1&e&&(t.TgZ(0,"div"),t._UZ(1,"app-detail-topology",19),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.Q6J("timeStamp",o.timeStamp)}}new kt.Yd("TopologyComponent");const Je=[{path:"topology",component:(()=>{class e{constructor(o,r){this.apiService=o,this.cdr=r}ngOnInit(){this.topologies$=this.apiService.getTopologie()}sortDesc(o,r){return te(o,r)}topologyByDate(o){this.timeStamp=o}deleteTopologyByDate(o){this.apiService.deleteTopologieByTimeStamp(o).subscribe(r=>{this.topologies$=this.apiService.getTopologie(),this.cdr.detectChanges()})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(Dt.s),t.Y36(t.sBO))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-topology"]],decls:14,vars:4,consts:[[1,"row"],[1,"col-sm-3"],["class","card",4,"ngIf"],[4,"ngIf"],[1,"card"],["translate","network.topo.header",1,"card-header"],[1,"card-body"],[1,"card-title",3,"innerHTML"],[1,"card-text"],[1,"vertical-container"],[1,"content-container"],[1,"scroll-container"],[1,"scrollable-content"],["class","row d-flex align-items-center",4,"ngFor","ngForOf"],[1,"row","d-flex","align-items-center"],[1,"col-sm-9"],[1,"btn","btn-light",3,"click"],[1,"btn","btn-light",3,"title","click"],[1,"fa","fa-trash"],[3,"timeStamp"]],template:function(o,r){1&o&&(t.TgZ(0,"div",0),t._uU(1,"\n  "),t.TgZ(2,"div",1),t._uU(3,"\n    "),t.YNc(4,ze,28,7,"div",2),t.ALo(5,"async"),t._uU(6,"\n  "),t.qZA(),t._uU(7,"\n  "),t.TgZ(8,"div",1),t._UZ(9,"app-req-topology"),t.qZA(),t._uU(10,"\n"),t.qZA(),t._uU(11,"\n"),t.YNc(12,Qe,2,1,"div",3),t._uU(13,"\n")),2&o&&(t.xp6(4),t.Q6J("ngIf",t.lcZ(5,2,r.topologies$)),t.xp6(8),t.Q6J("ngIf",r.timeStamp))},directives:[v.O5,rt.Pi,Ut,v.sg,Ee,He],pipes:[v.Ov,rt.X$,v.Nd,v.uU],styles:[".content-container[_ngcontent-%COMP%]{position:relative;overflow:auto;height:150px;min-height:0}.content-container[_ngcontent-%COMP%]{position:relative;min-height:0}.vertical-container[_ngcontent-%COMP%], .horizontal-container[_ngcontent-%COMP%]{min-height:0!important}.scroll-container[_ngcontent-%COMP%]{position:relative}.scrollable-content[_ngcontent-%COMP%]{padding:16px;margin:0}"]}),e})(),data:{title:(0,kt.Kl)("network.topo")}},{path:"energy-level",component:De,data:{title:(0,kt.Kl)("network.energy")}}];let Ke=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[],imports:[[$t.Bz.forChild(Je)],$t.Bz]}),e})();const Ve={suppressScrollX:!0};let Ge=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[{provide:et.mA,useFactory:()=>[B,U,W,_e,Q]},{provide:Jt,useValue:Ve}],imports:[[Ke,ut.m,et.SD,be]]}),e})()},4e3:(at,bt,H)=>{var ut,et,B;B=function(B){var U=B?B._modules:{};function Q(W,b,w,Z){W.hasOwnProperty(b)||(W[b]=Z.apply(null,w))}Q(U,"Series/DependencyWheel/DependencyWheelPoint.js",[U["Core/Series/SeriesRegistry.js"],U["Core/Utilities.js"]],function(W,b){var k,w=this&&this.__extends||(k=function(P,d){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,R){D.__proto__=R}||function(D,R){for(var t in R)R.hasOwnProperty(t)&&(D[t]=R[t])})(P,d)},function(P,d){function D(){this.constructor=P}k(P,d),P.prototype=null===d?Object.create(d):(D.prototype=d.prototype,new D)}),y=function(k){function P(){var d=null!==k&&k.apply(this,arguments)||this;return d.angle=void 0,d.fromNode=void 0,d.index=void 0,d.linksFrom=void 0,d.linksTo=void 0,d.options=void 0,d.series=void 0,d.shapeArgs=void 0,d.toNode=void 0,d}return w(P,k),P.prototype.getDataLabelPath=function(d){var R=this.shapeArgs,t=this.angle<0||this.angle>Math.PI,v=R.start||0,u=R.end||0;return this.dataLabelPath||(this.dataLabelPath=this.series.chart.renderer.arc({open:!0,longArc:Math.abs(Math.abs(v)-Math.abs(u))<Math.PI?0:1}).add(d)),this.dataLabelPath.attr({x:R.x,y:R.y,r:R.r+(this.dataLabel.options.distance||0),start:t?v:u,end:t?u:v,clockwise:+t}),this.dataLabelPath},P.prototype.isValid=function(){return!0},P}(W.seriesTypes.sankey.prototype.pointClass);return y}),Q(U,"Series/DependencyWheel/DependencyWheelSeries.js",[U["Core/Animation/AnimationUtilities.js"],U["Series/DependencyWheel/DependencyWheelPoint.js"],U["Core/Globals.js"],U["Core/Series/SeriesRegistry.js"],U["Core/Utilities.js"]],function(W,b,w,Z,N){var p,y=this&&this.__extends||(p=function(g,x){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var n in a)a.hasOwnProperty(n)&&(s[n]=a[n])})(g,x)},function(g,x){function s(){this.constructor=g}p(g,x),g.prototype=null===x?Object.create(x):(s.prototype=x.prototype,new s)}),k=W.animObject,P=w.deg2rad,d=Z.seriesTypes,D=d.pie,R=d.sankey,t=N.extend,v=N.merge,u=function(p){function g(){var x=null!==p&&p.apply(this,arguments)||this;return x.data=void 0,x.options=void 0,x.nodeColumns=void 0,x.nodes=void 0,x.points=void 0,x}return y(g,p),g.prototype.animate=function(x){if(!x){var a=k(this.options.animation).duration/2/this.nodes.length;this.nodes.forEach(function(n,c){var h=n.graphic;h&&(h.attr({opacity:0}),setTimeout(function(){n.graphic&&n.graphic.animate({opacity:1},{duration:a})},a*c))},this),this.points.forEach(function(n){var c=n.graphic;!n.isNode&&c&&c.attr({opacity:0}).animate({opacity:1},this.options.animation)},this)}},g.prototype.createNode=function(x){var s=R.prototype.createNode.call(this,x);return s.index=this.nodes.length-1,s.getSum=function(){return s.linksFrom.concat(s.linksTo).reduce(function(a,n){return a+n.weight},0)},s.offset=function(a){var c,l,n=0,h=s.linksFrom.concat(s.linksTo);function T(S){return S.fromNode===s?S.toNode:S.fromNode}for(h.sort(function(S,_){return T(S).index-T(_).index}),c=0;c<h.length;c++)if(T(h[c]).index>s.index){h=h.slice(0,c).reverse().concat(h.slice(c).reverse()),l=!0;break}for(l||h.reverse(),c=0;c<h.length;c++){if(h[c]===a)return n;n+=h[c].weight}},s},g.prototype.createNodeColumns=function(){var x=[this.createNodeColumn()];return this.nodes.forEach(function(s){s.column=0,x[0].push(s)}),x},g.prototype.getNodePadding=function(){return this.options.nodePadding/Math.PI},g.prototype.translate=function(){var x=this.options,s=2*Math.PI/(this.chart.plotHeight+this.getNodePadding()),a=this.getCenter(),n=(x.startAngle-90)*P;R.prototype.translate.call(this),this.nodeColumns[0].forEach(function(c){if(c.sum){var h=c.shapeArgs,l=a[0],T=a[1],S=a[2]/2,_=S-x.nodeWidth,L=n+s*(h.y||0),Y=n+s*((h.y||0)+(h.height||0));c.angle=L+(Y-L)/2,c.shapeType="arc",c.shapeArgs={x:l,y:T,r:S,innerR:_,start:L,end:Y},c.dlBox={x:l+Math.cos((L+Y)/2)*(S+_)/2,y:T+Math.sin((L+Y)/2)*(S+_)/2,width:1,height:1},c.linksFrom.forEach(function(A){if(A.linkBase){var I,X=A.linkBase.map(function(F,q){var z=s*F,J=Math.cos(n+z)*(_+1),j=Math.sin(n+z)*(_+1),nt=x.curveFactor||0;return(I=Math.abs(A.linkBase[3-q]*s-z))>Math.PI&&(I=2*Math.PI-I),(I*=_)<_&&(nt*=I/_),{x:l+J,y:T+j,cpX:l+(1-nt)*J,cpY:T+(1-nt)*j}});A.shapeArgs={d:[["M",X[0].x,X[0].y],["A",_,_,0,0,1,X[1].x,X[1].y],["C",X[1].cpX,X[1].cpY,X[2].cpX,X[2].cpY,X[2].x,X[2].y],["A",_,_,0,0,1,X[3].x,X[3].y],["C",X[3].cpX,X[3].cpY,X[0].cpX,X[0].cpY,X[0].x,X[0].y]]}}})}})},g.defaultOptions=v(R.defaultOptions,{center:[null,null],curveFactor:.6,startAngle:0}),g}(R);return t(u.prototype,{orderNodes:!1,getCenter:D.prototype.getCenter}),u.prototype.pointClass=b,Z.registerSeriesType("dependencywheel",u),u}),Q(U,"masters/modules/dependency-wheel.src.js",[],function(){})},at.exports?(B.default=B,at.exports=B):(ut=[H(3470),H(4971)],void 0!==(et=function(U){return B(U),B.Highcharts=U,B}.apply(bt,ut))&&(at.exports=et))},6671:(at,bt,H)=>{var ut,et,B;B=function(B){var U=B?B._modules:{};function Q(W,b,w,Z){W.hasOwnProperty(b)||(W[b]=Z.apply(null,w))}Q(U,"Series/NodesComposition.js",[U["Core/Series/Point.js"],U["Core/Series/Series.js"],U["Core/Utilities.js"]],function(W,b,w){var P,Z=w.defined,N=w.extend,y=w.find,k=w.pick;return function(d){var D=[];function v(){return this.data=[].concat(this.points||[],this.nodes),b.prototype.destroy.apply(this,arguments)}function p(){this.nodes&&(this.nodes.forEach(function(x){x.destroy()}),this.nodes.length=0),b.prototype.setData.apply(this,arguments)}function g(x){var s=arguments,a=this.isNode?this.linksTo.concat(this.linksFrom):[this.fromNode,this.toNode];"select"!==x&&a.forEach(function(n){n&&n.series&&(W.prototype.setState.apply(n,s),n.isNode||(n.fromNode.graphic&&W.prototype.setState.apply(n.fromNode,s),n.toNode&&n.toNode.graphic&&W.prototype.setState.apply(n.toNode,s)))}),W.prototype.setState.apply(this,s)}d.compose=function R(x,s){if(-1===D.indexOf(x)){D.push(x);var a=x.prototype;a.setNodeState=g,a.setState=g}if(-1===D.indexOf(s)){D.push(s);var n=s.prototype;n.destroy=v,n.setData=p}return s},d.createNode=function t(x){var c,s=this.pointClass,a=function(h,l){return y(h,function(T){return T.id===l})},n=a(this.nodes,x);return n||(c=this.options.nodes&&a(this.options.nodes,x),(n=(new s).init(this,N({className:"highcharts-node",isNode:!0,id:x,y:1},c))).linksTo=[],n.linksFrom=[],n.formatPrefix="node",n.name=n.name||n.options.id||"",n.mass=k(n.options.mass,n.options.marker&&n.options.marker.radius,this.options.marker&&this.options.marker.radius,4),n.getSum=function(){var h=0,l=0;return n.linksTo.forEach(function(T){h+=T.weight}),n.linksFrom.forEach(function(T){l+=T.weight}),Math.max(h,l)},n.offset=function(h,l){for(var T=0,S=0;S<n[l].length;S++){if(n[l][S]===h)return T;T+=n[l][S].weight}},n.hasShape=function(){var h=0;return n.linksTo.forEach(function(l){l.outgoing&&h++}),!n.linksTo.length||h!==n.linksTo.length},this.nodes.push(n)),n},d.destroy=v,d.generatePoints=function u(){var x=this.chart,s={};b.prototype.generatePoints.call(this),this.nodes||(this.nodes=[]),this.colorCounter=0,this.nodes.forEach(function(a){a.linksFrom.length=0,a.linksTo.length=0,a.level=a.options.level}),this.points.forEach(function(a){Z(a.from)&&(s[a.from]||(s[a.from]=this.createNode(a.from)),s[a.from].linksFrom.push(a),a.fromNode=s[a.from],x.styledMode?a.colorIndex=k(a.options.colorIndex,s[a.from].colorIndex):a.color=a.options.color||s[a.from].color),Z(a.to)&&(s[a.to]||(s[a.to]=this.createNode(a.to)),s[a.to].linksTo.push(a),a.toNode=s[a.to]),a.name=a.name||a.id},this),this.nodeLookup=s},d.setNodeState=g}(P||(P={})),P}),Q(U,"Series/Networkgraph/Integrations.js",[U["Core/Globals.js"]],function(W){W.networkgraphIntegrations={verlet:{attractiveForceFunction:function(b,w){return(w-b)/b},repulsiveForceFunction:function(b,w){return(w-b)/b*(w>b?1:0)},barycenter:function(){var b=this.options.gravitationalConstant,w=this.barycenter.xFactor,Z=this.barycenter.yFactor;w=(w-(this.box.left+this.box.width)/2)*b,Z=(Z-(this.box.top+this.box.height)/2)*b,this.nodes.forEach(function(N){N.fixedPosition||(N.plotX-=w/N.mass/N.degree,N.plotY-=Z/N.mass/N.degree)})},repulsive:function(b,w,Z){var N=w*this.diffTemperature/b.mass/b.degree;b.fixedPosition||(b.plotX+=Z.x*N,b.plotY+=Z.y*N)},attractive:function(b,w,Z){var N=b.getMass(),y=-Z.x*w*this.diffTemperature,k=-Z.y*w*this.diffTemperature;b.fromNode.fixedPosition||(b.fromNode.plotX-=y*N.fromNode/b.fromNode.degree,b.fromNode.plotY-=k*N.fromNode/b.fromNode.degree),b.toNode.fixedPosition||(b.toNode.plotX+=y*N.toNode/b.toNode.degree,b.toNode.plotY+=k*N.toNode/b.toNode.degree)},integrate:function(b,w){var Z=-b.options.friction,N=b.options.maxSpeed,P=(w.plotX+w.dispX-w.prevX)*Z,d=(w.plotY+w.dispY-w.prevY)*Z,D=Math.abs,R=D(P)/(P||1),t=D(d)/(d||1);P=R*Math.min(N,Math.abs(P)),d=t*Math.min(N,Math.abs(d)),w.prevX=w.plotX+w.dispX,w.prevY=w.plotY+w.dispY,w.plotX+=P,w.plotY+=d,w.temperature=b.vectorLength({x:P,y:d})},getK:function(b){return Math.pow(b.box.width*b.box.height/b.nodes.length,.5)}},euler:{attractiveForceFunction:function(b,w){return b*b/w},repulsiveForceFunction:function(b,w){return w*w/b},barycenter:function(){var b=this.options.gravitationalConstant,w=this.barycenter.xFactor,Z=this.barycenter.yFactor;this.nodes.forEach(function(N){if(!N.fixedPosition){var y=N.getDegree(),k=y*(1+y/2);N.dispX+=(w-N.plotX)*b*k/N.degree,N.dispY+=(Z-N.plotY)*b*k/N.degree}})},repulsive:function(b,w,Z,N){b.dispX+=Z.x/N*w/b.degree,b.dispY+=Z.y/N*w/b.degree},attractive:function(b,w,Z,N){var y=b.getMass(),k=Z.x/N*w,P=Z.y/N*w;b.fromNode.fixedPosition||(b.fromNode.dispX-=k*y.fromNode/b.fromNode.degree,b.fromNode.dispY-=P*y.fromNode/b.fromNode.degree),b.toNode.fixedPosition||(b.toNode.dispX+=k*y.toNode/b.toNode.degree,b.toNode.dispY+=P*y.toNode/b.toNode.degree)},integrate:function(b,w){var Z;w.dispX+=w.dispX*b.options.friction,w.dispY+=w.dispY*b.options.friction,0!==(Z=w.temperature=b.vectorLength({x:w.dispX,y:w.dispY}))&&(w.plotX+=w.dispX/Z*Math.min(Math.abs(w.dispX),b.temperature),w.plotY+=w.dispY/Z*Math.min(Math.abs(w.dispY),b.temperature))},getK:function(b){return Math.pow(b.box.width*b.box.height/b.nodes.length,.3)}}}}),Q(U,"Series/Networkgraph/QuadTree.js",[U["Core/Globals.js"],U["Core/Utilities.js"]],function(W,b){var w=b.extend,Z=W.QuadTreeNode=function(y){this.box=y,this.boxSize=Math.min(y.width,y.height),this.nodes=[],this.isInternal=!1,this.body=!1,this.isEmpty=!0};w(Z.prototype,{insert:function(y,k){var P;this.isInternal?this.nodes[this.getBoxPosition(y)].insert(y,k-1):(this.isEmpty=!1,this.body?k?(this.isInternal=!0,this.divideBox(),!0!==this.body&&(this.nodes[this.getBoxPosition(this.body)].insert(this.body,k-1),this.body=!0),this.nodes[this.getBoxPosition(y)].insert(y,k-1)):((P=new Z({top:y.plotX,left:y.plotY,width:.1,height:.1})).body=y,P.isInternal=!1,this.nodes.push(P)):(this.isInternal=!1,this.body=y))},updateMassAndCenter:function(){var y=0,k=0,P=0;this.isInternal?(this.nodes.forEach(function(d){d.isEmpty||(y+=d.mass,k+=d.plotX*d.mass,P+=d.plotY*d.mass)}),k/=y,P/=y):this.body&&(y=this.body.mass,k=this.body.plotX,P=this.body.plotY),this.mass=y,this.plotX=k,this.plotY=P},divideBox:function(){var y=this.box.width/2,k=this.box.height/2;this.nodes[0]=new Z({left:this.box.left,top:this.box.top,width:y,height:k}),this.nodes[1]=new Z({left:this.box.left+y,top:this.box.top,width:y,height:k}),this.nodes[2]=new Z({left:this.box.left+y,top:this.box.top+k,width:y,height:k}),this.nodes[3]=new Z({left:this.box.left,top:this.box.top+k,width:y,height:k})},getBoxPosition:function(y){var P=y.plotY<this.box.top+this.box.height/2;return y.plotX<this.box.left+this.box.width/2?P?0:3:P?1:2}}),w((W.QuadTree=function(y,k,P,d){this.box={left:y,top:k,width:P,height:d},this.maxDepth=25,this.root=new Z(this.box,"0"),this.root.isInternal=!0,this.root.isRoot=!0,this.root.divideBox()}).prototype,{insertNodes:function(y){y.forEach(function(k){this.root.insert(k,this.maxDepth)},this)},visitNodeRecursive:function(y,k,P){var d;y||(y=this.root),y===this.root&&k&&(d=k(y)),!1!==d&&(y.nodes.forEach(function(D){if(D.isInternal){if(k&&(d=k(D)),!1===d)return;this.visitNodeRecursive(D,k,P)}else D.body&&k&&k(D.body);P&&P(D)},this),y===this.root&&P&&P(y))},calculateMassAndCenter:function(){this.visitNodeRecursive(null,null,function(y){y.updateMassAndCenter()})}})}),Q(U,"Series/Networkgraph/Layouts.js",[U["Core/Chart/Chart.js"],U["Core/Animation/AnimationUtilities.js"],U["Core/Globals.js"],U["Core/Utilities.js"]],function(W,b,w,Z){var N=b.setAnimation,y=Z.addEvent,k=Z.clamp,P=Z.defined,d=Z.extend,D=Z.isFunction,R=Z.pick;w.layouts={"reingold-fruchterman":function(){}},d(w.layouts["reingold-fruchterman"].prototype,{init:function(t){this.options=t,this.nodes=[],this.links=[],this.series=[],this.box={x:0,y:0,width:0,height:0},this.setInitialRendering(!0),this.integration=w.networkgraphIntegrations[t.integration],this.enableSimulation=t.enableSimulation,this.attractiveForce=R(t.attractiveForce,this.integration.attractiveForceFunction),this.repulsiveForce=R(t.repulsiveForce,this.integration.repulsiveForceFunction),this.approximation=t.approximation},updateSimulation:function(t){this.enableSimulation=R(t,this.options.enableSimulation)},start:function(){var t=this,v=this.series,u=this.options;t.currentStep=0,t.forces=v[0]&&v[0].forces||[],t.chart=v[0]&&v[0].chart,t.initialRendering&&(t.initPositions(),v.forEach(function(p){p.finishedAnimating=!0,p.render()})),t.setK(),t.resetSimulation(u),t.enableSimulation&&t.step()},step:function(){var t=this,v=this.series;t.currentStep++,"barnes-hut"===t.approximation&&(t.createQuadTree(),t.quadTree.calculateMassAndCenter()),t.forces.forEach(function(p){t[p+"Forces"](t.temperature)}),t.applyLimits(t.temperature),t.temperature=t.coolDown(t.startTemperature,t.diffTemperature,t.currentStep),t.prevSystemTemperature=t.systemTemperature,t.systemTemperature=t.getSystemTemperature(),t.enableSimulation&&(v.forEach(function(p){p.chart&&p.render()}),t.maxIterations--&&isFinite(t.temperature)&&!t.isStable()?(t.simulation&&w.win.cancelAnimationFrame(t.simulation),t.simulation=w.win.requestAnimationFrame(function(){t.step()})):t.simulation=!1)},stop:function(){this.simulation&&w.win.cancelAnimationFrame(this.simulation)},setArea:function(t,v,u,p){this.box={left:t,top:v,width:u,height:p}},setK:function(){this.k=this.options.linkLength||this.integration.getK(this)},addElementsToCollection:function(t,v){t.forEach(function(u){-1===v.indexOf(u)&&v.push(u)})},removeElementFromCollection:function(t,v){var u=v.indexOf(t);-1!==u&&v.splice(u,1)},clear:function(){this.nodes.length=0,this.links.length=0,this.series.length=0,this.resetSimulation()},resetSimulation:function(){this.forcedStop=!1,this.systemTemperature=0,this.setMaxIterations(),this.setTemperature(),this.setDiffTemperature()},restartSimulation:function(){this.simulation?this.resetSimulation():(this.setInitialRendering(!1),this.enableSimulation?this.start():this.setMaxIterations(1),this.chart&&this.chart.redraw(),this.setInitialRendering(!0))},setMaxIterations:function(t){this.maxIterations=R(t,this.options.maxIterations)},setTemperature:function(){this.temperature=this.startTemperature=Math.sqrt(this.nodes.length)},setDiffTemperature:function(){this.diffTemperature=this.startTemperature/(this.options.maxIterations+1)},setInitialRendering:function(t){this.initialRendering=t},createQuadTree:function(){this.quadTree=new w.QuadTree(this.box.left,this.box.top,this.box.width,this.box.height),this.quadTree.insertNodes(this.nodes)},initPositions:function(){var t=this.options.initialPositions;D(t)?(t.call(this),this.nodes.forEach(function(v){P(v.prevX)||(v.prevX=v.plotX),P(v.prevY)||(v.prevY=v.plotY),v.dispX=0,v.dispY=0})):"circle"===t?this.setCircularPositions():this.setRandomPositions()},setCircularPositions:function(){var t=this.box,v=this.nodes,p=2*Math.PI/(v.length+1),g=v.filter(function(c){return 0===c.linksTo.length}),x=[],s={},a=this.options.initialPositionRadius;function n(c){c.linksFrom.forEach(function(h){s[h.toNode.id]||(s[h.toNode.id]=!0,x.push(h.toNode),n(h.toNode))})}g.forEach(function(c){x.push(c),n(c)}),x.length?v.forEach(function(c){-1===x.indexOf(c)&&x.push(c)}):x=v,x.forEach(function(c,h){c.plotX=c.prevX=R(c.plotX,t.width/2+a*Math.cos(h*p)),c.plotY=c.prevY=R(c.plotY,t.height/2+a*Math.sin(h*p)),c.dispX=0,c.dispY=0})},setRandomPositions:function(){var t=this.box,v=this.nodes,u=v.length+1;function p(g){var x=g*g/Math.PI;return x-Math.floor(x)}v.forEach(function(g,x){g.plotX=g.prevX=R(g.plotX,t.width*p(x)),g.plotY=g.prevY=R(g.plotY,t.height*p(u+x)),g.dispX=0,g.dispY=0})},force:function(t){this.integration[t].apply(this,Array.prototype.slice.call(arguments,1))},barycenterForces:function(){this.getBarycenter(),this.force("barycenter")},getBarycenter:function(){var t=0,v=0,u=0;return this.nodes.forEach(function(p){v+=p.plotX*p.mass,u+=p.plotY*p.mass,t+=p.mass}),this.barycenter={x:v,y:u,xFactor:v/t,yFactor:u/t},this.barycenter},barnesHutApproximation:function(t,v){var x,s,u=this,p=u.getDistXY(t,v),g=u.vectorLength(p);return t!==v&&0!==g&&(v.isInternal?v.boxSize/g<u.options.theta&&0!==g?(s=u.repulsiveForce(g,u.k),u.force("repulsive",t,s*v.mass,p,g),x=!1):x=!0:(s=u.repulsiveForce(g,u.k),u.force("repulsive",t,s*v.mass,p,g))),x},repulsiveForces:function(){var t=this;t.nodes.forEach("barnes-hut"===t.approximation?function(v){t.quadTree.visitNodeRecursive(null,function(u){return t.barnesHutApproximation(v,u)})}:function(v){t.nodes.forEach(function(u){var p,g,x;v!==u&&!v.fixedPosition&&(x=t.getDistXY(v,u),0!==(g=t.vectorLength(x))&&(p=t.repulsiveForce(g,t.k),t.force("repulsive",v,p*u.mass,x,g)))})})},attractiveForces:function(){var v,u,p,t=this;t.links.forEach(function(g){g.fromNode&&g.toNode&&(v=t.getDistXY(g.fromNode,g.toNode),0!==(u=t.vectorLength(v))&&(p=t.attractiveForce(u,t.k),t.force("attractive",g,p,v,u)))})},applyLimits:function(){var t=this;t.nodes.forEach(function(u){u.fixedPosition||(t.integration.integrate(t,u),t.applyLimitBox(u,t.box),u.dispX=0,u.dispY=0)})},applyLimitBox:function(t,v){var u=t.radius;t.plotX=k(t.plotX,v.left+u,v.width-u),t.plotY=k(t.plotY,v.top+u,v.height-u)},coolDown:function(t,v,u){return t-v*u},isStable:function(){return Math.abs(this.systemTemperature-this.prevSystemTemperature)<1e-5||this.temperature<=0},getSystemTemperature:function(){return this.nodes.reduce(function(t,v){return t+v.temperature},0)},vectorLength:function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},getDistR:function(t,v){var u=this.getDistXY(t,v);return this.vectorLength(u)},getDistXY:function(t,v){var u=t.plotX-v.plotX,p=t.plotY-v.plotY;return{x:u,y:p,absX:Math.abs(u),absY:Math.abs(p)}}}),y(W,"predraw",function(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(function(t){t.stop()})}),y(W,"render",function(){var t,v=!1;function u(p){p.maxIterations--&&isFinite(p.temperature)&&!p.isStable()&&!p.enableSimulation&&(p.beforeStep&&p.beforeStep(),p.step(),t=!1,v=!0)}if(this.graphLayoutsLookup){for(N(!1,this),this.graphLayoutsLookup.forEach(function(p){p.start()});!t;)t=!0,this.graphLayoutsLookup.forEach(u);v&&this.series.forEach(function(p){p&&p.layout&&p.render()})}}),y(W,"beforePrint",function(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(function(t){t.updateSimulation(!1)}),this.redraw())}),y(W,"afterPrint",function(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(function(t){t.updateSimulation()}),this.redraw()})}),Q(U,"Series/Networkgraph/DraggableNodes.js",[U["Core/Chart/Chart.js"],U["Core/Globals.js"],U["Core/Utilities.js"]],function(W,b,w){var Z=w.addEvent;b.dragNodesMixin={onMouseDown:function(N,y){var k=this.chart.pointer.normalize(y);N.fixedPosition={chartX:k.chartX,chartY:k.chartY,plotX:N.plotX,plotY:N.plotY},N.inDragMode=!0},onMouseMove:function(N,y){if(N.fixedPosition&&N.inDragMode){var P=this.chart,d=P.pointer.normalize(y),D=N.fixedPosition.chartX-d.chartX,R=N.fixedPosition.chartY-d.chartY,t=void 0,v=void 0,u=P.graphLayoutsLookup;(Math.abs(D)>5||Math.abs(R)>5)&&P.isInsidePlot(t=N.fixedPosition.plotX-D,v=N.fixedPosition.plotY-R)&&(N.plotX=t,N.plotY=v,N.hasDragged=!0,this.redrawHalo(N),u.forEach(function(p){p.restartSimulation()}))}},onMouseUp:function(N,y){N.fixedPosition&&(N.hasDragged&&(this.layout.enableSimulation?this.layout.start():this.chart.redraw()),N.inDragMode=N.hasDragged=!1,this.options.fixedDraggable||delete N.fixedPosition)},redrawHalo:function(N){N&&this.halo&&this.halo.attr({d:N.haloPath(this.options.states.hover.halo.size)})}},Z(W,"load",function(){var y,k,P,N=this;N.container&&(y=Z(N.container,"mousedown",function(d){var D=N.hoverPoint;D&&D.series&&D.series.hasDraggableNodes&&D.series.options.draggable&&(D.series.onMouseDown(D,d),k=Z(N.container,"mousemove",function(R){return D&&D.series&&D.series.onMouseMove(D,R)}),P=Z(N.container.ownerDocument,"mouseup",function(R){return k(),P(),D&&D.series&&D.series.onMouseUp(D,R)}))})),Z(N,"destroy",function(){y()})})}),Q(U,"Series/Networkgraph/Networkgraph.js",[U["Core/Globals.js"],U["Series/NodesComposition.js"],U["Core/Series/Point.js"],U["Core/Series/Series.js"],U["Core/Series/SeriesRegistry.js"],U["Core/Utilities.js"]],function(W,b,w,Z,N,y){var s,k=this&&this.__extends||(s=function(a,n){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var l in h)h.hasOwnProperty(l)&&(c[l]=h[l])})(a,n)},function(a,n){function c(){this.constructor=a}s(a,n),a.prototype=null===n?Object.create(n):(c.prototype=n.prototype,new c)}),P=N.seriesTypes,d=y.addEvent,D=y.css,R=y.defined,t=y.extend,v=y.merge,u=y.pick,p=W.dragNodesMixin,g=function(s){function a(){var n=null!==s&&s.apply(this,arguments)||this;return n.data=void 0,n.nodes=void 0,n.options=void 0,n.points=void 0,n}return k(a,s),a.defaultOptions=v(Z.defaultOptions,{stickyTracking:!1,inactiveOtherPoints:!0,marker:{enabled:!0,states:{inactive:{opacity:.3,animation:{duration:50}}}},states:{inactive:{linkOpacity:.3,animation:{duration:50}}},dataLabels:{formatter:function(){return this.key},linkFormatter:function(){return this.point.fromNode.name+"<br>"+this.point.toNode.name},linkTextPath:{enabled:!0},textPath:{enabled:!1},style:{transition:"opacity 2000ms"}},link:{color:"rgba(100, 100, 100, 0.5)",width:1},draggable:!0,layoutAlgorithm:{initialPositions:"circle",initialPositionRadius:1,enableSimulation:!1,theta:.5,maxSpeed:10,approximation:"none",type:"reingold-fruchterman",integration:"euler",maxIterations:1e3,gravitationalConstant:.0625,friction:-.981},showInLegend:!1}),a}(Z);t(g.prototype,{forces:["barycenter","repulsive","attractive"],hasDraggableNodes:!0,drawGraph:void 0,isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,pointArrayMap:["from","to"],trackerGroups:["group","markerGroup","dataLabelsGroup"],drawTracker:P.column.prototype.drawTracker,animate:void 0,buildKDTree:W.noop,createNode:b.createNode,destroy:function(){this.layout&&this.layout.removeElementFromCollection(this,this.layout.series),b.destroy.call(this)},init:function(){var s=this;return Z.prototype.init.apply(this,arguments),d(this,"updatedData",function(){s.layout&&s.layout.stop()}),d(this,"afterUpdate",function(){s.nodes.forEach(function(a){a&&a.series&&a.resolveColor()})}),this},generatePoints:function(){var s,a;for(b.generatePoints.apply(this,arguments),this.options.nodes&&this.options.nodes.forEach(function(n){this.nodeLookup[n.id]||(this.nodeLookup[n.id]=this.createNode(n.id))},this),a=this.nodes.length-1;a>=0;a--)(s=this.nodes[a]).degree=s.getDegree(),s.radius=u(s.marker&&s.marker.radius,this.options.marker&&this.options.marker.radius,0),this.nodeLookup[s.id]||s.remove();this.data.forEach(function(n){n.formatPrefix="link"}),this.indexateNodes()},getPointsCollection:function(){return this.nodes||[]},indexateNodes:function(){this.nodes.forEach(function(s,a){s.index=a})},markerAttribs:function(s,a){var n=Z.prototype.markerAttribs.call(this,s,a);return R(s.plotY)||(n.y=0),n.x=(s.plotX||0)-(n.width||0)/2,n},translate:function(){this.processedXData||this.processData(),this.generatePoints(),this.deferLayout(),this.nodes.forEach(function(s){s.isInside=!0,s.linksFrom.forEach(function(a){a.shapeType="path",a.y=1})})},deferLayout:function(){var h,s=this.options.layoutAlgorithm,a=this.chart.graphLayoutsStorage,n=this.chart.graphLayoutsLookup,c=this.chart.options.chart;!this.visible||(a||(this.chart.graphLayoutsStorage=a={},this.chart.graphLayoutsLookup=n=[]),(h=a[s.type])||(s.enableSimulation=R(c.forExport)?!c.forExport:s.enableSimulation,a[s.type]=h=new W.layouts[s.type],h.init(s),n.splice(h.index,0,h)),this.layout=h,h.setArea(0,0,this.chart.plotWidth,this.chart.plotHeight),h.addElementsToCollection([this],h.series),h.addElementsToCollection(this.nodes,h.nodes),h.addElementsToCollection(this.points,h.links))},render:function(){var s=this,a=s.points,n=s.chart.hoverPoint,c=[];s.points=s.nodes,P.line.prototype.render.call(this),s.points=a,a.forEach(function(h){h.fromNode&&h.toNode&&(h.renderLink(),h.redrawLink())}),n&&n.series===s&&s.redrawHalo(n),s.chart.hasRendered&&!s.options.dataLabels.allowOverlap&&(s.nodes.concat(s.points).forEach(function(h){h.dataLabel&&c.push(h.dataLabel)}),s.chart.hideOverlappingLabels(c))},drawDataLabels:function(){var s=this.options.dataLabels.textPath;Z.prototype.drawDataLabels.apply(this,arguments),this.points=this.data,this.options.dataLabels.textPath=this.options.dataLabels.linkTextPath,Z.prototype.drawDataLabels.apply(this,arguments),this.points=this.nodes,this.options.dataLabels.textPath=s},pointAttribs:function(s,a){var n=a||s&&s.state||"normal",c=Z.prototype.pointAttribs.call(this,s,n),h=this.options.states[n];return s&&!s.isNode&&(c=s.getLinkAttributes(),h&&(c={stroke:h.linkColor||c.stroke,dashstyle:h.linkDashStyle||c.dashstyle,opacity:u(h.linkOpacity,c.opacity),"stroke-width":h.linkColor||c["stroke-width"]})),c},redrawHalo:p.redrawHalo,onMouseDown:p.onMouseDown,onMouseMove:p.onMouseMove,onMouseUp:p.onMouseUp,setState:function(s,a){a?(this.points=this.nodes.concat(this.data),Z.prototype.setState.apply(this,arguments),this.points=this.data):Z.prototype.setState.apply(this,arguments),!this.layout.simulation&&!s&&this.render()}});var x=function(s){function a(){var n=null!==s&&s.apply(this,arguments)||this;return n.degree=void 0,n.linksFrom=void 0,n.linksTo=void 0,n.options=void 0,n.radius=void 0,n.series=void 0,n.toNode=void 0,n}return k(a,s),a}(Z.prototype.pointClass);return t(x.prototype,{setState:b.setNodeState,init:function(){return w.prototype.init.apply(this,arguments),this.series.options.draggable&&!this.series.chart.styledMode&&(d(this,"mouseOver",function(){D(this.series.chart.container,{cursor:"move"})}),d(this,"mouseOut",function(){D(this.series.chart.container,{cursor:"default"})})),this},getDegree:function(){var s=this.isNode?this.linksFrom.length+this.linksTo.length:0;return 0===s?1:s},getLinkAttributes:function(){var s=this.series.options.link,a=this.options;return{"stroke-width":u(a.width,s.width),stroke:a.color||s.color,dashstyle:a.dashStyle||s.dashStyle,opacity:u(a.opacity,s.opacity,1)}},renderLink:function(){var s;this.graphic||(this.graphic=this.series.chart.renderer.path(this.getLinkPath()).addClass(this.getClassName(),!0).add(this.series.group),this.series.chart.styledMode||(s=this.series.pointAttribs(this),this.graphic.attr(s),(this.dataLabels||[]).forEach(function(a){a&&a.attr({opacity:s.opacity})})))},redrawLink:function(){var a,s=this.getLinkPath();if(this.graphic){this.shapeArgs={d:s},this.series.chart.styledMode||(a=this.series.pointAttribs(this),this.graphic.attr(a),(this.dataLabels||[]).forEach(function(h){h&&h.attr({opacity:a.opacity})})),this.graphic.animate(this.shapeArgs);var n=s[0],c=s[1];"M"===n[0]&&"L"===c[0]&&(this.plotX=(n[1]+c[1])/2,this.plotY=(n[2]+c[2])/2)}},getMass:function(){var s=this.fromNode.mass,a=this.toNode.mass,n=s+a;return{fromNode:1-s/n,toNode:1-a/n}},getLinkPath:function(){var s=this.fromNode,a=this.toNode;return s.plotX>a.plotX&&(s=this.toNode,a=this.fromNode),[["M",s.plotX||0,s.plotY||0],["L",a.plotX||0,a.plotY||0]]},isValid:function(){return!this.isNode||R(this.id)},remove:function(s,a){var l,n=this,c=n.series,h=c.options.nodes||[],T=h.length;if(n.isNode){for(c.points=[],[].concat(n.linksFrom).concat(n.linksTo).forEach(function(S){(l=S.fromNode.linksFrom.indexOf(S))>-1&&S.fromNode.linksFrom.splice(l,1),(l=S.toNode.linksTo.indexOf(S))>-1&&S.toNode.linksTo.splice(l,1),Z.prototype.removePoint.call(c,c.data.indexOf(S),!1,!1)}),c.points=c.data.slice(),c.nodes.splice(c.nodes.indexOf(n),1);T--;)if(h[T].id===n.options.id){c.options.nodes.splice(T,1);break}n&&n.destroy(),c.isDirty=!0,c.isDirtyData=!0,s&&c.chart.redraw(s)}else c.removePoint(c.data.indexOf(n),s,a)},destroy:function(){return this.isNode&&this.linksFrom.concat(this.linksTo).forEach(function(s){s.destroyElements&&s.destroyElements()}),this.series.layout.removeElementFromCollection(this,this.series.layout[this.isNode?"nodes":"links"]),w.prototype.destroy.apply(this,arguments)}}),g.prototype.pointClass=x,N.registerSeriesType("networkgraph",g),g}),Q(U,"masters/modules/networkgraph.src.js",[],function(){})},at.exports?(B.default=B,at.exports=B):(ut=[H(3470)],void 0!==(et=function(U){return B(U),B.Highcharts=U,B}.apply(bt,ut))&&(at.exports=et))},4971:(at,bt,H)=>{var ut,et,B;B=function(B){function U(Q,W,b,w){Q.hasOwnProperty(W)||(Q[W]=w.apply(null,b))}U(B=B?B._modules:{},"Series/NodesComposition.js",[B["Core/Series/Point.js"],B["Core/Series/Series.js"],B["Core/Utilities.js"]],function(Q,W,b){var k,w=b.defined,Z=b.extend,N=b.find,y=b.pick;return function(P){function d(){return this.data=[].concat(this.points||[],this.nodes),W.prototype.destroy.apply(this,arguments)}function D(){this.nodes&&(this.nodes.forEach(function(v){v.destroy()}),this.nodes.length=0),W.prototype.setData.apply(this,arguments)}function R(v){var u=arguments,p=this.isNode?this.linksTo.concat(this.linksFrom):[this.fromNode,this.toNode];"select"!==v&&p.forEach(function(g){g&&g.series&&(Q.prototype.setState.apply(g,u),g.isNode||(g.fromNode.graphic&&Q.prototype.setState.apply(g.fromNode,u),g.toNode&&g.toNode.graphic&&Q.prototype.setState.apply(g.toNode,u)))}),Q.prototype.setState.apply(this,u)}var t=[];P.compose=function(v,u){return-1===t.indexOf(v)&&(t.push(v),(v=v.prototype).setNodeState=R,v.setState=R),-1===t.indexOf(u)&&(t.push(u),(v=u.prototype).destroy=d,v.setData=D),u},P.createNode=function(v){var u=this.pointClass,p=function(x,s){return N(x,function(a){return a.id===s})},g=p(this.nodes,v);return g||(p=this.options.nodes&&p(this.options.nodes,v),(g=(new u).init(this,Z({className:"highcharts-node",isNode:!0,id:v,y:1},p))).linksTo=[],g.linksFrom=[],g.formatPrefix="node",g.name=g.name||g.options.id||"",g.mass=y(g.options.mass,g.options.marker&&g.options.marker.radius,this.options.marker&&this.options.marker.radius,4),g.getSum=function(){var x=0,s=0;return g.linksTo.forEach(function(a){x+=a.weight}),g.linksFrom.forEach(function(a){s+=a.weight}),Math.max(x,s)},g.offset=function(x,s){for(var a=0,n=0;n<g[s].length;n++){if(g[s][n]===x)return a;a+=g[s][n].weight}},g.hasShape=function(){var x=0;return g.linksTo.forEach(function(s){s.outgoing&&x++}),!g.linksTo.length||x!==g.linksTo.length},this.nodes.push(g)),g},P.destroy=d,P.generatePoints=function(){var v=this.chart,u={};W.prototype.generatePoints.call(this),this.nodes||(this.nodes=[]),this.colorCounter=0,this.nodes.forEach(function(p){p.linksFrom.length=0,p.linksTo.length=0,p.level=p.options.level}),this.points.forEach(function(p){w(p.from)&&(u[p.from]||(u[p.from]=this.createNode(p.from)),u[p.from].linksFrom.push(p),p.fromNode=u[p.from],v.styledMode?p.colorIndex=y(p.options.colorIndex,u[p.from].colorIndex):p.color=p.options.color||u[p.from].color),w(p.to)&&(u[p.to]||(u[p.to]=this.createNode(p.to)),u[p.to].linksTo.push(p),p.toNode=u[p.to]),p.name=p.name||p.id},this),this.nodeLookup=u},P.setNodeState=R}(k||(k={})),k}),U(B,"Series/Sankey/SankeyPoint.js",[B["Core/Series/Point.js"],B["Core/Series/SeriesRegistry.js"],B["Core/Utilities.js"]],function(Q,W,b){var N,w=this&&this.__extends||(N=function(y,k){return(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,d){P.__proto__=d}||function(P,d){for(var D in d)d.hasOwnProperty(D)&&(P[D]=d[D])})(y,k)},function(y,k){function P(){this.constructor=y}N(y,k),y.prototype=null===k?Object.create(k):(P.prototype=k.prototype,new P)}),Z=b.defined;return function(N){function y(){var k=null!==N&&N.apply(this,arguments)||this;return k.className=void 0,k.fromNode=void 0,k.level=void 0,k.linkBase=void 0,k.linksFrom=void 0,k.linksTo=void 0,k.mass=void 0,k.nodeX=void 0,k.nodeY=void 0,k.options=void 0,k.series=void 0,k.toNode=void 0,k}return w(y,N),y.prototype.applyOptions=function(k,P){return Q.prototype.applyOptions.call(this,k,P),Z(this.options.level)&&(this.options.column=this.column=this.options.level),this},y.prototype.getClassName=function(){return(this.isNode?"highcharts-node ":"highcharts-link ")+Q.prototype.getClassName.call(this)},y.prototype.isValid=function(){return this.isNode||"number"==typeof this.weight},y}(W.seriesTypes.column.prototype.pointClass)}),U(B,"Series/TreeUtilities.js",[B["Core/Color/Color.js"],B["Core/Utilities.js"]],function(Q,W){var w=W.extend,Z=W.isArray,N=W.isNumber,y=W.isObject,k=W.merge,P=W.pick;return{getColor:function(d,D){var n,R=D.index,t=D.mapOptionsToLevel,v=D.parentColor,u=D.parentColorIndex,p=D.series,g=D.colors,x=D.siblings,s=p.points,a=p.chart.options.chart;if(d){if(s=s[d.i],d=t[d.level]||{},t=s&&d.colorByPoint)var c=s.index%(g?g.length:a.colorCount),h=g&&g[c];p.chart.styledMode||(g=s&&s.options.color,a=d&&d.color,(n=v)&&(n=(n=d&&d.colorVariation)&&"brightness"===n.key&&R&&x?Q.parse(v).brighten(R/x*n.to).get():v),n=P(g,a,h,n,p.color));var l=P(s&&s.options.colorIndex,d&&d.colorIndex,c,u,D.colorIndex)}return{color:n,colorIndex:l}},getLevelOptions:function(d){var D=null;if(y(d)){D={};var R=N(d.from)?d.from:1,t=d.levels,v={},u=y(d.defaults)?d.defaults:{};for(Z(t)&&(v=t.reduce(function(p,g){if(y(g)&&N(g.level)){var x=k({},g),s=P(x.levelIsConstant,u.levelIsConstant);delete x.levelIsConstant,delete x.level,y(p[g=g.level+(s?0:R-1)])?k(!0,p[g],x):p[g]=x}return p},{})),t=N(d.to)?d.to:1,d=0;d<=t;d++)D[d]=k({},u,y(v[d])?v[d]:{})}return D},setTreeValues:function b(d,D){var R=D.before,t=D.idRoot,u=D.points[d.i],p=u&&u.options||{},g=[],x=0;return d.levelDynamic=d.level-(!1!==D.levelIsConstant?0:D.mapIdToNode[t].level),d.name=P(u&&u.name,""),d.visible=t===d.id||!0===D.visible,"function"==typeof R&&(d=R(d,D)),d.children.forEach(function(s,a){var n=w({},D);w(n,{index:a,siblings:d.children.length,visible:d.visible}),s=b(s,n),g.push(s),s.visible&&(x+=s.val)}),R=P(p.value,x),d.visible=0<=R&&(0<x||d.visible),d.children=g,d.childrenTotal=x,d.isLeaf=d.visible&&!x,d.val=R,d},updateRootId:function(d){if(y(d)){var D=y(d.options)?d.options:{};D=P(d.rootNode,D.rootId,""),y(d.userOptions)&&(d.userOptions.rootId=D),d.rootNode=D}return D}}}),U(B,"Series/Sankey/SankeySeries.js",[B["Core/Color/Color.js"],B["Core/Globals.js"],B["Series/NodesComposition.js"],B["Series/Sankey/SankeyPoint.js"],B["Core/Series/SeriesRegistry.js"],B["Series/TreeUtilities.js"],B["Core/Utilities.js"]],function(Q,W,b,w,Z,N,y){var s,k=this&&this.__extends||(s=function(a,n){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var l in h)h.hasOwnProperty(l)&&(c[l]=h[l])})(a,n)},function(a,n){function c(){this.constructor=a}s(a,n),a.prototype=null===n?Object.create(n):(c.prototype=n.prototype,new c)}),P=Z.series,d=Z.seriesTypes.column,D=N.getLevelOptions,R=y.defined;N=y.extend;var t=y.find,v=y.isObject,u=y.merge,p=y.pick,g=y.relativeLength,x=y.stableSort;return y=function(s){function a(){var n=null!==s&&s.apply(this,arguments)||this;return n.colDistance=void 0,n.data=void 0,n.group=void 0,n.nodeLookup=void 0,n.nodePadding=void 0,n.nodes=void 0,n.nodeWidth=void 0,n.options=void 0,n.points=void 0,n.translationFactor=void 0,n}return k(a,s),a.getDLOptions=function(n){var c=v(n.optionsPoint)?n.optionsPoint.dataLabels:{};return n=v(n.level)?n.level.dataLabels:{},u({style:{}},n,c)},a.prototype.createNodeColumn=function(){var n=this,c=this.chart,h=[];return h.sum=function(){return this.reduce(function(l,T){return l+T.getSum()},0)},h.offset=function(l,T){for(var _,S=0,L=n.nodePadding,Y=0;Y<h.length;Y++){_=h[Y].getSum();var A=Math.max(_*T,n.options.minLinkWidth),I=l.options[c.inverted?"offsetHorizontal":"offsetVertical"],X=l.options.offset||0;if(_=_?A+L:0,h[Y]===l)return{relativeTop:S+(R(I)?g(I,A):g(X,_))};S+=_}},h.top=function(l){var T=n.nodePadding,S=this.reduce(function(_,L){return 0<_&&(_+=T),_+Math.max(L.getSum()*l,n.options.minLinkWidth)},0);return(c.plotSizeY-S)/2},h},a.prototype.createNodeColumns=function(){var n=[];this.nodes.forEach(function(h){var l=-1;if(!R(h.options.column))if(0===h.linksTo.length)h.column=0;else{for(var T=0;T<h.linksTo.length;T++){var S=h.linksTo[T];if(S.fromNode.column>l&&S.fromNode!==h){var _=S.fromNode;l=_.column}}if(h.column=l+1,_&&"hanging"===_.options.layout){h.hangsFrom=_;var L=-1;t(_.linksFrom,function(Y,A){return(Y=Y.toNode===h)&&(L=A),Y}),h.column+=L}}n[h.column]||(n[h.column]=this.createNodeColumn()),n[h.column].push(h)},this);for(var c=0;c<n.length;c++)void 0===n[c]&&(n[c]=this.createNodeColumn());return n},a.prototype.generatePoints=function(){function n(c,h){void 0===c.level&&(c.level=h,c.linksFrom.forEach(function(l){l.toNode&&n(l.toNode,h+1)}))}b.generatePoints.apply(this,arguments),this.orderNodes&&(this.nodes.filter(function(c){return 0===c.linksTo.length}).forEach(function(c){n(c,0)}),x(this.nodes,function(c,h){return c.level-h.level}))},a.prototype.getNodePadding=function(){var n=this.options.nodePadding||0;if(this.nodeColumns){var c=this.nodeColumns.reduce(function(h,l){return Math.max(h,l.length)},0);c*n>this.chart.plotSizeY&&(n=this.chart.plotSizeY/c)}return n},a.prototype.hasData=function(){return!!this.processedXData.length},a.prototype.pointAttribs=function(n,c){if(!n)return{};var h=this,l=h.mapOptionsToLevel[(n.isNode?n.level:n.fromNode.level)||0]||{},T=n.options,S=l.states&&l.states[c||""]||{};c=["colorByPoint","borderColor","borderWidth","linkOpacity"].reduce(function(L,Y){return L[Y]=p(S[Y],T[Y],l[Y],h.options[Y]),L},{});var _=p(S.color,T.color,c.colorByPoint?n.color:l.color);return n.isNode?{fill:_,stroke:c.borderColor,"stroke-width":c.borderWidth}:{fill:Q.parse(_).setOpacity(c.linkOpacity).get()}},a.prototype.render=function(){var n=this.points;this.points=this.points.concat(this.nodes||[]),d.prototype.render.call(this),this.points=n},a.prototype.translate=function(){var n=this;this.processedXData||this.processData(),this.generatePoints(),this.nodeColumns=this.createNodeColumns(),this.nodeWidth=g(this.options.nodeWidth,this.chart.plotSizeX);var h=this,l=this.chart,T=this.options,S=this.nodeWidth,_=this.nodeColumns;this.nodePadding=this.getNodePadding(),this.translationFactor=_.reduce(function(L,Y){return Math.min(L,function(L){for(var I,F,Y=L.slice(),A=n.options.minLinkWidth||0,X=0,q=l.plotSizeY-T.borderWidth-(L.length-1)*h.nodePadding;L.length;){for(X=q/L.sum(),I=!1,F=L.length;F--;)L[F].getSum()*X<A&&(L.splice(F,1),q-=A,I=!0);if(!I)break}return L.length=0,Y.forEach(function(z){return L.push(z)}),X}(Y))},1/0),this.colDistance=(l.plotSizeX-S-T.borderWidth)/Math.max(1,_.length-1),h.mapOptionsToLevel=D({from:1,levels:T.levels,to:_.length-1,defaults:{borderColor:T.borderColor,borderRadius:T.borderRadius,borderWidth:T.borderWidth,color:h.color,colorByPoint:T.colorByPoint,levelIsConstant:!0,linkColor:T.linkColor,linkLineWidth:T.linkLineWidth,linkOpacity:T.linkOpacity,states:T.states}}),_.forEach(function(L){L.forEach(function(Y){h.translateNode(Y,L)})},this),this.nodes.forEach(function(L){L.linksFrom.forEach(function(Y){(Y.weight||Y.isNull)&&Y.to&&(h.translateLink(Y),Y.allowShadow=!1)})})},a.prototype.translateLink=function(n){var c=function(ht,gt){return gt=ht.offset(n,gt)*S,Math.min(ht.nodeY+gt,ht.nodeY+(ht.shapeArgs&&ht.shapeArgs.height||0)-_)},h=n.fromNode,l=n.toNode,T=this.chart,S=this.translationFactor,_=Math.max(n.weight*S,this.options.minLinkWidth),L=(T.inverted?-this.colDistance:this.colDistance)*this.options.curveFactor,Y=c(h,"linksFrom");c=c(l,"linksTo");var A=h.nodeX,I=this.nodeWidth,X=n.outgoing,F=(l=l.nodeX)>A+I;if(T.inverted&&(Y=T.plotSizeY-Y,c=(T.plotSizeY||0)-c,I=-I,_=-_,F=A>l),n.shapeType="path",n.linkBase=[Y,Y+_,c,c+_],F&&"number"==typeof c)n.shapeArgs={d:[["M",A+I,Y],["C",A+I+L,Y,l-L,c,l,c],["L",l+(X?I:0),c+_/2],["L",l,c+_],["C",l-L,c+_,A+I+L,Y+_,A+I,Y+_],["Z"]]};else if("number"==typeof c){var q=(F=A+I)+20,z=q+_,j=Y+_,nt=j+20,lt=nt+(T.plotHeight-Y-_),ot=lt+20,Ct=ot+_,ct=c+_,_t=ct+20,mt=ot+.7*_,dt=l-.7*_,Tt=F+.7*_;n.shapeArgs={d:[["M",F,Y],["C",Tt,Y,z,j-.7*_,z,nt],["L",z,lt],["C",z,mt,Tt,Ct,F,Ct],["L",l,Ct],["C",dt,Ct,L=l-20-_,mt,L,lt],["L",L,_t],["C",L,ct-.7*_,dt,c,l,c],["L",l,ct],["C",X=l-20,ct,X,ct,X,_t],["L",X,lt],["C",X,ot,X,ot,l,ot],["L",F,ot],["C",q,ot,q,ot,q,lt],["L",q,nt],["C",q,j,q,j,F,j],["Z"]]}}n.dlBox={x:A+(l-A+I)/2,y:Y+(c-Y)/2,height:_,width:0},n.tooltipPos=T.inverted?[T.plotSizeY-n.dlBox.y-_/2,T.plotSizeX-n.dlBox.x]:[n.dlBox.x,n.dlBox.y+_/2],n.y=n.plotY=1,n.color||(n.color=h.color)},a.prototype.translateNode=function(n,c){var h=this.translationFactor,l=this.chart,T=this.options,S=n.getSum(),_=Math.max(Math.round(S*h),this.options.minLinkWidth),L=Math.round(this.nodeWidth),Y=Math.round(T.borderWidth)%2/2,A=c.offset(n,h);if(c=Math.floor(p(A.absoluteTop,c.top(h)+A.relativeTop))+Y,Y=Math.floor(this.colDistance*n.column+T.borderWidth/2)+g(n.options.offsetHorizontal||0,L)+Y,Y=l.inverted?l.plotSizeX-Y:Y,n.sum=S){n.shapeType="rect",n.nodeX=Y,n.nodeY=c,S=Y,h=c,A=n.options.width||T.width||L;var I=n.options.height||T.height||_;l.inverted&&(S=Y-L,h=l.plotSizeY-c-_,A=n.options.height||T.height||L,I=n.options.width||T.width||_),n.dlOptions=a.getDLOptions({level:this.mapOptionsToLevel[n.level],optionsPoint:n.options}),n.plotX=1,n.plotY=1,n.tooltipPos=l.inverted?[l.plotSizeY-h-I/2,l.plotSizeX-S-A/2]:[S+A/2,h+I/2],n.shapeArgs={x:S,y:h,width:A,height:I,display:n.hasShape()?"":"none"}}else n.dlOptions={enabled:!1}},a.defaultOptions=u(d.defaultOptions,{borderWidth:0,colorByPoint:!0,curveFactor:.33,dataLabels:{enabled:!0,backgroundColor:"none",crop:!1,nodeFormat:void 0,nodeFormatter:function(){return this.point.name},format:void 0,formatter:function(){},inside:!0},inactiveOtherPoints:!0,linkOpacity:.5,minLinkWidth:0,nodeWidth:20,nodePadding:10,showInLegend:!1,states:{hover:{linkOpacity:1},inactive:{linkOpacity:.1,opacity:.1,animation:{duration:50}}},tooltip:{followPointer:!0,headerFormat:'<span style="font-size: 10px">{series.name}</span><br/>',pointFormat:"{point.fromNode.name} \u2192 {point.toNode.name}: <b>{point.weight}</b><br/>",nodeFormat:"{point.name}: <b>{point.sum}</b><br/>"}}),a}(d),b.compose(w,y),N(y.prototype,{animate:P.prototype.animate,createNode:b.createNode,forceDL:!0,invertible:!0,isCartesian:!1,orderNodes:!0,noSharedTooltip:!0,pointArrayMap:["from","to"],pointClass:w,searchPoint:W.noop}),Z.registerSeriesType("sankey",y),y}),U(B,"masters/modules/sankey.src.js",[],function(){})},at.exports?(B.default=B,at.exports=B):(ut=[H(3470)],void 0!==(et=function(U){return B(U),B.Highcharts=U,B}.apply(bt,ut))&&(at.exports=et))},4836:(at,bt,H)=>{var ut,et,B;B=function(B){var U=B?B._modules:{};function Q(W,b,w,Z){W.hasOwnProperty(b)||(W[b]=Z.apply(null,w))}Q(U,"Series/NodesComposition.js",[U["Core/Series/Point.js"],U["Core/Series/Series.js"],U["Core/Utilities.js"]],function(W,b,w){var P,Z=w.defined,N=w.extend,y=w.find,k=w.pick;return function(d){var D=[];function v(){return this.data=[].concat(this.points||[],this.nodes),b.prototype.destroy.apply(this,arguments)}function p(){this.nodes&&(this.nodes.forEach(function(x){x.destroy()}),this.nodes.length=0),b.prototype.setData.apply(this,arguments)}function g(x){var s=arguments,a=this.isNode?this.linksTo.concat(this.linksFrom):[this.fromNode,this.toNode];"select"!==x&&a.forEach(function(n){n&&n.series&&(W.prototype.setState.apply(n,s),n.isNode||(n.fromNode.graphic&&W.prototype.setState.apply(n.fromNode,s),n.toNode&&n.toNode.graphic&&W.prototype.setState.apply(n.toNode,s)))}),W.prototype.setState.apply(this,s)}d.compose=function R(x,s){if(-1===D.indexOf(x)){D.push(x);var a=x.prototype;a.setNodeState=g,a.setState=g}if(-1===D.indexOf(s)){D.push(s);var n=s.prototype;n.destroy=v,n.setData=p}return s},d.createNode=function t(x){var c,s=this.pointClass,a=function(h,l){return y(h,function(T){return T.id===l})},n=a(this.nodes,x);return n||(c=this.options.nodes&&a(this.options.nodes,x),(n=(new s).init(this,N({className:"highcharts-node",isNode:!0,id:x,y:1},c))).linksTo=[],n.linksFrom=[],n.formatPrefix="node",n.name=n.name||n.options.id||"",n.mass=k(n.options.mass,n.options.marker&&n.options.marker.radius,this.options.marker&&this.options.marker.radius,4),n.getSum=function(){var h=0,l=0;return n.linksTo.forEach(function(T){h+=T.weight}),n.linksFrom.forEach(function(T){l+=T.weight}),Math.max(h,l)},n.offset=function(h,l){for(var T=0,S=0;S<n[l].length;S++){if(n[l][S]===h)return T;T+=n[l][S].weight}},n.hasShape=function(){var h=0;return n.linksTo.forEach(function(l){l.outgoing&&h++}),!n.linksTo.length||h!==n.linksTo.length},this.nodes.push(n)),n},d.destroy=v,d.generatePoints=function u(){var x=this.chart,s={};b.prototype.generatePoints.call(this),this.nodes||(this.nodes=[]),this.colorCounter=0,this.nodes.forEach(function(a){a.linksFrom.length=0,a.linksTo.length=0,a.level=a.options.level}),this.points.forEach(function(a){Z(a.from)&&(s[a.from]||(s[a.from]=this.createNode(a.from)),s[a.from].linksFrom.push(a),a.fromNode=s[a.from],x.styledMode?a.colorIndex=k(a.options.colorIndex,s[a.from].colorIndex):a.color=a.options.color||s[a.from].color),Z(a.to)&&(s[a.to]||(s[a.to]=this.createNode(a.to)),s[a.to].linksTo.push(a),a.toNode=s[a.to]),a.name=a.name||a.id},this),this.nodeLookup=s},d.setNodeState=g}(P||(P={})),P}),Q(U,"Series/Sankey/SankeyPoint.js",[U["Core/Series/Point.js"],U["Core/Series/SeriesRegistry.js"],U["Core/Utilities.js"]],function(W,b,w){var d,Z=this&&this.__extends||(d=function(D,R){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,v){t.__proto__=v}||function(t,v){for(var u in v)v.hasOwnProperty(u)&&(t[u]=v[u])})(D,R)},function(D,R){function t(){this.constructor=D}d(D,R),D.prototype=null===R?Object.create(R):(t.prototype=R.prototype,new t)}),y=w.defined,P=function(d){function D(){var R=null!==d&&d.apply(this,arguments)||this;return R.className=void 0,R.fromNode=void 0,R.level=void 0,R.linkBase=void 0,R.linksFrom=void 0,R.linksTo=void 0,R.mass=void 0,R.nodeX=void 0,R.nodeY=void 0,R.options=void 0,R.series=void 0,R.toNode=void 0,R}return Z(D,d),D.prototype.applyOptions=function(R,t){return W.prototype.applyOptions.call(this,R,t),y(this.options.level)&&(this.options.column=this.column=this.options.level),this},D.prototype.getClassName=function(){return(this.isNode?"highcharts-node ":"highcharts-link ")+W.prototype.getClassName.call(this)},D.prototype.isValid=function(){return this.isNode||"number"==typeof this.weight},D}(b.seriesTypes.column.prototype.pointClass);return P}),Q(U,"Series/TreeUtilities.js",[U["Core/Color/Color.js"],U["Core/Utilities.js"]],function(W,b){var w=b.extend,Z=b.isArray,N=b.isNumber,y=b.isObject,k=b.merge,P=b.pick;return{getColor:function d(u,p){var _,L,Y,A,I,X,q,z,g=p.index,s=p.parentColor,a=p.parentColorIndex,n=p.series,c=p.colors,h=p.siblings;return u&&(L=p.mapOptionsToLevel[u.level]||{},(_=n.points[u.i])&&L.colorByPoint&&(A=_.index%(c?c.length:n.chart.options.chart.colorCount),Y=c&&c[A]),n.chart.styledMode||(I=P(_&&_.options.color,L&&L.color,Y,s&&(q=s,(z=L&&L.colorVariation)&&"brightness"===z.key&&g&&h?W.parse(q).brighten(z.to*(g/h)).get():q),n.color)),X=P(_&&_.options.colorIndex,L&&L.colorIndex,A,a,p.colorIndex)),{color:I,colorIndex:X}},getLevelOptions:function D(u){var g,x,s,a,n,c,p=null;if(y(u))for(p={},a=N(u.from)?u.from:1,c=u.levels,x={},g=y(u.defaults)?u.defaults:{},Z(c)&&(x=c.reduce(function(h,l){var T,S,_;return y(l)&&N(l.level)&&(_=k({},l),S=P(_.levelIsConstant,g.levelIsConstant),delete _.levelIsConstant,delete _.level,y(h[T=l.level+(S?0:a-1)])?k(!0,h[T],_):h[T]=_),h},{})),n=N(u.to)?u.to:1,s=0;s<=n;s++)p[s]=k({},g,y(x[s])?x[s]:{});return p},setTreeValues:function R(u,p){var g=p.before,x=p.idRoot,h=p.points[u.i],l=h&&h.options||{},T=[],S=0;u.levelDynamic=u.level-(!1!==p.levelIsConstant?0:p.mapIdToNode[x].level),u.name=P(h&&h.name,""),u.visible=x===u.id||!0===p.visible,"function"==typeof g&&(u=g(u,p)),u.children.forEach(function(L,Y){var A=w({},p);w(A,{index:Y,siblings:u.children.length,visible:u.visible}),L=R(L,A),T.push(L),L.visible&&(S+=L.val)});var _=P(l.value,S);return u.visible=_>=0&&(S>0||u.visible),u.children=T,u.childrenTotal=S,u.isLeaf=u.visible&&!S,u.val=_,u},updateRootId:function t(u){var p,g;return y(u)&&(g=y(u.options)?u.options:{},p=P(u.rootNode,g.rootId,""),y(u.userOptions)&&(u.userOptions.rootId=p),u.rootNode=p),p}}}),Q(U,"Series/Sankey/SankeySeries.js",[U["Core/Color/Color.js"],U["Core/Globals.js"],U["Series/NodesComposition.js"],U["Series/Sankey/SankeyPoint.js"],U["Core/Series/SeriesRegistry.js"],U["Series/TreeUtilities.js"],U["Core/Utilities.js"]],function(W,b,w,Z,N,y,k){var c,P=this&&this.__extends||(c=function(h,l){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,S){T.__proto__=S}||function(T,S){for(var _ in S)S.hasOwnProperty(_)&&(T[_]=S[_])})(h,l)},function(h,l){function T(){this.constructor=h}c(h,l),h.prototype=null===l?Object.create(l):(T.prototype=l.prototype,new T)}),d=N.series,D=N.seriesTypes.column,R=y.getLevelOptions,t=k.defined,v=k.extend,u=k.find,p=k.isObject,g=k.merge,x=k.pick,s=k.relativeLength,a=k.stableSort,n=function(c){function h(){var l=null!==c&&c.apply(this,arguments)||this;return l.colDistance=void 0,l.data=void 0,l.group=void 0,l.nodeLookup=void 0,l.nodePadding=void 0,l.nodes=void 0,l.nodeWidth=void 0,l.options=void 0,l.points=void 0,l.translationFactor=void 0,l}return P(h,c),h.getDLOptions=function(l){var T=p(l.optionsPoint)?l.optionsPoint.dataLabels:{},S=p(l.level)?l.level.dataLabels:{};return g({style:{}},S,T)},h.prototype.createNodeColumn=function(){var l=this,T=this.chart,S=[];return S.sum=function(){return this.reduce(function(_,L){return _+L.getSum()},0)},S.offset=function(_,L){for(var A,Y=0,I=l.nodePadding,X=0;X<S.length;X++){var F=S[X].getSum(),q=Math.max(F*L,l.options.minLinkWidth),z=_.options[T.inverted?"offsetHorizontal":"offsetVertical"],J=_.options.offset||0;if(A=F?q+I:0,S[X]===_)return{relativeTop:Y+(t(z)?s(z,q):s(J,A))};Y+=A}},S.top=function(_){var L=l.nodePadding,Y=this.reduce(function(A,I){return A>0&&(A+=L),A+Math.max(I.getSum()*_,l.options.minLinkWidth)},0);return(T.plotSizeY-Y)/2},S},h.prototype.createNodeColumns=function(){var l=[];this.nodes.forEach(function(S){var L,_=-1;if(!t(S.options.column))if(0===S.linksTo.length)S.column=0;else{for(var Y=0;Y<S.linksTo.length;Y++){var A=S.linksTo[Y];A.fromNode.column>_&&A.fromNode!==S&&(_=(L=A.fromNode).column)}if(S.column=_+1,L&&"hanging"===L.options.layout){S.hangsFrom=L;var I=-1;u(L.linksFrom,function(X,F){var q=X.toNode===S;return q&&(I=F),q}),S.column+=I}}l[S.column]||(l[S.column]=this.createNodeColumn()),l[S.column].push(S)},this);for(var T=0;T<l.length;T++)void 0===l[T]&&(l[T]=this.createNodeColumn());return l},h.prototype.generatePoints=function(){function l(T,S){void 0===T.level&&(T.level=S,T.linksFrom.forEach(function(_){_.toNode&&l(_.toNode,S+1)}))}w.generatePoints.apply(this,arguments),this.orderNodes&&(this.nodes.filter(function(T){return 0===T.linksTo.length}).forEach(function(T){l(T,0)}),a(this.nodes,function(T,S){return T.level-S.level}))},h.prototype.getNodePadding=function(){var l=this.options.nodePadding||0;if(this.nodeColumns){var T=this.nodeColumns.reduce(function(S,_){return Math.max(S,_.length)},0);T*l>this.chart.plotSizeY&&(l=this.chart.plotSizeY/T)}return l},h.prototype.hasData=function(){return!!this.processedXData.length},h.prototype.pointAttribs=function(l,T){if(!l)return{};var S=this,L=S.mapOptionsToLevel[(l.isNode?l.level:l.fromNode.level)||0]||{},Y=l.options,A=L.states&&L.states[T||""]||{},I=["colorByPoint","borderColor","borderWidth","linkOpacity"].reduce(function(F,q){return F[q]=x(A[q],Y[q],L[q],S.options[q]),F},{}),X=x(A.color,Y.color,I.colorByPoint?l.color:L.color);return l.isNode?{fill:X,stroke:I.borderColor,"stroke-width":I.borderWidth}:{fill:W.parse(X).setOpacity(I.linkOpacity).get()}},h.prototype.render=function(){var l=this.points;this.points=this.points.concat(this.nodes||[]),D.prototype.render.call(this),this.points=l},h.prototype.translate=function(){var l=this;this.processedXData||this.processData(),this.generatePoints(),this.nodeColumns=this.createNodeColumns(),this.nodeWidth=s(this.options.nodeWidth,this.chart.plotSizeX);var S=this,_=this.chart,L=this.options,Y=this.nodeWidth,A=this.nodeColumns;this.nodePadding=this.getNodePadding(),this.translationFactor=A.reduce(function(I,X){return Math.min(I,function(I){for(var q,J,X=I.slice(),F=l.options.minLinkWidth||0,z=0,j=_.plotSizeY-L.borderWidth-(I.length-1)*S.nodePadding;I.length;){for(z=j/I.sum(),q=!1,J=I.length;J--;)I[J].getSum()*z<F&&(I.splice(J,1),j-=F,q=!0);if(!q)break}return I.length=0,X.forEach(function(nt){return I.push(nt)}),z}(X))},1/0),this.colDistance=(_.plotSizeX-Y-L.borderWidth)/Math.max(1,A.length-1),S.mapOptionsToLevel=R({from:1,levels:L.levels,to:A.length-1,defaults:{borderColor:L.borderColor,borderRadius:L.borderRadius,borderWidth:L.borderWidth,color:S.color,colorByPoint:L.colorByPoint,levelIsConstant:!0,linkColor:L.linkColor,linkLineWidth:L.linkLineWidth,linkOpacity:L.linkOpacity,states:L.states}}),A.forEach(function(I){I.forEach(function(X){S.translateNode(X,I)})},this),this.nodes.forEach(function(I){I.linksFrom.forEach(function(X){(X.weight||X.isNull)&&X.to&&(S.translateLink(X),X.allowShadow=!1)})})},h.prototype.translateLink=function(l){var T=function(Lt,Zt){var Xt=Lt.offset(l,Zt)*Y;return Math.min(Lt.nodeY+Xt,Lt.nodeY+(Lt.shapeArgs&&Lt.shapeArgs.height||0)-A)},S=l.fromNode,_=l.toNode,L=this.chart,Y=this.translationFactor,A=Math.max(l.weight*Y,this.options.minLinkWidth),X=(L.inverted?-this.colDistance:this.colDistance)*this.options.curveFactor,F=T(S,"linksFrom"),q=T(_,"linksTo"),z=S.nodeX,J=this.nodeWidth,j=_.nodeX,nt=l.outgoing,lt=j>z+J;if(L.inverted&&(F=L.plotSizeY-F,q=(L.plotSizeY||0)-q,J=-J,A=-A,lt=z>j),l.shapeType="path",l.linkBase=[F,F+A,q,q+A],lt&&"number"==typeof q)l.shapeArgs={d:[["M",z+J,F],["C",z+J+X,F,j-X,q,j,q],["L",j+(nt?J:0),q+A/2],["L",j,q+A],["C",j-X,q+A,z+J+X,F+A,z+J,F+A],["Z"]]};else if("number"==typeof q){var vt=j-20-A,ct=j-20,mt=z+J,dt=mt+20,Tt=dt+A,gt=F+A,Pt=gt+20,xt=Pt+(L.plotHeight-F-A),pt=xt+20,Mt=pt+A,Nt=q+A,It=Nt+20,Ot=pt+.7*A,Yt=j-.7*A,St=mt+.7*A;l.shapeArgs={d:[["M",mt,F],["C",St,F,Tt,gt-.7*A,Tt,Pt],["L",Tt,xt],["C",Tt,Ot,St,Mt,mt,Mt],["L",j,Mt],["C",Yt,Mt,vt,Ot,vt,xt],["L",vt,It],["C",vt,Nt-.7*A,Yt,q,j,q],["L",j,Nt],["C",ct,Nt,ct,Nt,ct,It],["L",ct,xt],["C",ct,pt,ct,pt,j,pt],["L",mt,pt],["C",dt,pt,dt,pt,dt,xt],["L",dt,Pt],["C",dt,gt,dt,gt,mt,gt],["Z"]]}}l.dlBox={x:z+(j-z+J)/2,y:F+(q-F)/2,height:A,width:0},l.tooltipPos=L.inverted?[L.plotSizeY-l.dlBox.y-A/2,L.plotSizeX-l.dlBox.x]:[l.dlBox.x,l.dlBox.y+A/2],l.y=l.plotY=1,l.color||(l.color=S.color)},h.prototype.translateNode=function(l,T){var S=this.translationFactor,_=this.chart,L=this.options,Y=l.getSum(),A=Math.max(Math.round(Y*S),this.options.minLinkWidth),I=Math.round(this.nodeWidth),X=Math.round(L.borderWidth)%2/2,F=T.offset(l,S),q=Math.floor(x(F.absoluteTop,T.top(S)+F.relativeTop))+X,z=Math.floor(this.colDistance*l.column+L.borderWidth/2)+s(l.options.offsetHorizontal||0,I)+X,J=_.inverted?_.plotSizeX-z:z;if(l.sum=Y,Y){l.shapeType="rect",l.nodeX=J,l.nodeY=q;var j=J,nt=q,lt=l.options.width||L.width||I,ot=l.options.height||L.height||A;_.inverted&&(j=J-I,nt=_.plotSizeY-q-A,lt=l.options.height||L.height||I,ot=l.options.width||L.width||A),l.dlOptions=h.getDLOptions({level:this.mapOptionsToLevel[l.level],optionsPoint:l.options}),l.plotX=1,l.plotY=1,l.tooltipPos=_.inverted?[_.plotSizeY-nt-ot/2,_.plotSizeX-j-lt/2]:[j+lt/2,nt+ot/2],l.shapeArgs={x:j,y:nt,width:lt,height:ot,display:l.hasShape()?"":"none"}}else l.dlOptions={enabled:!1}},h.defaultOptions=g(D.defaultOptions,{borderWidth:0,colorByPoint:!0,curveFactor:.33,dataLabels:{enabled:!0,backgroundColor:"none",crop:!1,nodeFormat:void 0,nodeFormatter:function(){return this.point.name},format:void 0,formatter:function(){},inside:!0},inactiveOtherPoints:!0,linkOpacity:.5,minLinkWidth:0,nodeWidth:20,nodePadding:10,showInLegend:!1,states:{hover:{linkOpacity:1},inactive:{linkOpacity:.1,opacity:.1,animation:{duration:50}}},tooltip:{followPointer:!0,headerFormat:'<span style="font-size: 10px">{series.name}</span><br/>',pointFormat:"{point.fromNode.name} \u2192 {point.toNode.name}: <b>{point.weight}</b><br/>",nodeFormat:"{point.name}: <b>{point.sum}</b><br/>"}}),h}(D);return w.compose(Z,n),v(n.prototype,{animate:d.prototype.animate,createNode:w.createNode,forceDL:!0,invertible:!0,isCartesian:!1,orderNodes:!0,noSharedTooltip:!0,pointArrayMap:["from","to"],pointClass:Z,searchPoint:b.noop}),N.registerSeriesType("sankey",n),n}),Q(U,"masters/modules/sankey.src.js",[],function(){})},at.exports?(B.default=B,at.exports=B):(ut=[H(3470)],void 0!==(et=function(U){return B(U),B.Highcharts=U,B}.apply(bt,ut))&&(at.exports=et))}}]);